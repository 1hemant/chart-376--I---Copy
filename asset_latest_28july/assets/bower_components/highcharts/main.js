!function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){function e(e,i){var o="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(i)throw Error(o);t.console&&console.log(o)}function i(t,e,i){this.options=e,this.elem=t,this.prop=i}function o(){var t,e,i=arguments,o={},n=function(t,e){var i,o;"object"!=typeof t&&(t={});for(o in e)e.hasOwnProperty(o)&&(i=e[o],t[o]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==o&&"number"!=typeof i.nodeType?n(t[o]||{},i):e[o]);return t};for(i[0]===!0&&(o=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;e>t;t++)o=n(o,i[t]);return o}function n(t,e){return parseInt(t,e||10)}function s(t){return"string"==typeof t}function r(t){return t&&"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==E&&null!==t}function c(t,e,i){var o,n;if(s(e))h(i)?t.setAttribute(e,i):t&&t.getAttribute&&(n=t.getAttribute(e));else if(h(e)&&r(e))for(o in e)t.setAttribute(o,e[o]);return n}function p(t){return a(t)?t:[t]}function d(t,e,i){return e?setTimeout(t,e,i):void t.call(0,i)}function u(t,e){wt&&!Pt&&e&&e.opacity!==E&&(e.filter="alpha(opacity="+100*e.opacity+")"),qt(t.style,e)}function g(t,e,i,o,n){return t=at.createElement(t),e&&qt(t,e),n&&u(t,{padding:0,border:"none",margin:0}),i&&u(t,i),o&&o.appendChild(t),t}function f(t,e){var i=function(){};return i.prototype=new t,qt(i.prototype,e),i}function m(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t}function x(t){return 6e4*(U&&U(t)||_||0)}function y(t,e){for(var i,o,n,s,r,a="{",l=!1,h=[];-1!==(a=t.indexOf(a));){if(i=t.slice(0,a),l){for(o=i.split(":"),n=o.shift().split("."),r=n.length,i=e,s=0;r>s;s++)i=i[n[s]];o.length&&(o=o.join(":"),n=/\.([0-9])/,s=G.lang,r=void 0,/f$/.test(o)?(r=(r=o.match(n))?r[1]:-1,null!==i&&(i=rt.numberFormat(i,r,s.decimalPoint,o.indexOf(",")>-1?s.thousandsSep:""))):i=H(o,i))}h.push(i),t=t.slice(a+1),a=(l=!l)?"}":"{"}return h.push(t),h.join("")}function v(t){return lt.pow(10,ct(lt.log(t)/lt.LN10))}function b(t,e,i,o,n){var s,r=t,i=Qt(i,1);for(s=t/i,e||(e=[1,2,2.5,5,10],o===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),o=0;o<e.length&&(r=e[o],!(n&&r*i>=t||!n&&s<=(e[o]+(e[o+1]||e[o]))/2));o++);return r*=i}function w(t,e){var i,o,n=t.length;for(o=0;n>o;o++)t[o].safeI=o;for(t.sort(function(t,o){return i=e(t,o),0===i?t.safeI-o.safeI:i}),o=0;n>o;o++)delete t[o].safeI}function k(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function A(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function S(t,e){for(var i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function M(t){Y||(Y=g(Rt)),t&&Y.appendChild(t),Y.innerHTML=""}function C(t,e){return parseFloat(t.toPrecision(e||14))}function P(t,e){e.renderer.globalAnimation=Qt(t,e.animation)}function L(t){return r(t)?o(t):{duration:t?500:0}}function T(){var e=G.global,i=e.useUTC,o=i?"getUTC":"get",n=i?"setUTC":"set";N=e.Date||t.Date,_=i&&e.timezoneOffset,U=i&&e.getTimezoneOffset,V=function(t,e,o,n,s,r){var a;return i?(a=N.UTC.apply(0,arguments),a+=x(a)):a=new N(t,e,Qt(o,1),Qt(n,0),Qt(s,0),Qt(r,0)).getTime(),a},j=o+"Minutes",Z=o+"Hours",K=o+"Day",$=o+"Date",q=o+"Month",J=o+"FullYear",Q=n+"Milliseconds",tt=n+"Seconds",et=n+"Minutes",it=n+"Hours",ot=n+"Date",nt=n+"Month",st=n+"FullYear"}function D(t){return this instanceof D?void this.init(t):new D(t)}function I(){}function O(t,e,i,o){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,!i&&!o&&this.addLabel()}function B(t,e,i,o,n){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=o,this.total=null,this.points={},this.stack=n,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:Qt(e.y,s?4:i?14:-6),x:Qt(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")}function z(t){var e=t.options,i=e.navigator,o=i.enabled,e=e.scrollbar,n=e.enabled,s=o?i.height:0,r=n?e.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=t,this.setBaseSeries(),this.height=s,this.scrollbarHeight=r,this.scrollbarEnabled=n,this.navigatorEnabled=o,this.navigatorOptions=i,this.scrollbarOptions=e,this.outlineHeight=s+r,this.init()}function R(t){this.init(t)}var E,X,W,Y,G,H,F,N,V,_,U,j,Z,K,$,q,J,Q,tt,et,it,ot,nt,st,rt,at=t.document,lt=Math,ht=lt.round,ct=lt.floor,pt=lt.ceil,dt=lt.max,ut=lt.min,gt=lt.abs,ft=lt.cos,mt=lt.sin,xt=lt.PI,yt=2*xt/360,vt=t.navigator&&t.navigator.userAgent||"",bt=t.opera,wt=/(msie|trident|edge)/i.test(vt)&&!bt,kt=at&&8===at.documentMode,At=!wt&&/AppleWebKit/.test(vt),St=/Firefox/.test(vt),Mt=/(Mobile|Android|Windows Phone)/.test(vt),Ct="http://www.w3.org/2000/svg",Pt=at&&at.createElementNS&&!!at.createElementNS(Ct,"svg").createSVGRect,Lt=St&&parseInt(vt.split("Firefox/")[1],10)<4,Tt=at&&!Pt&&!wt&&!!at.createElement("canvas").getContext,Dt={},It=0,Ot=function(){},Bt=[],zt=0,Rt="div",Et=/^[0-9]+$/,Xt=["plotTop","marginRight","marginBottom","plotLeft"],Wt={};rt=t.Highcharts?e(16,!0):{win:t},rt.seriesTypes=Wt;var Yt,Gt,Ht,Ft,Nt,Vt,_t,Ut,jt,Zt,Kt,$t=[];i.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],o=[],n=this.now,s=e.length;if(1===n)o=this.toD;else if(s===i.length&&1>n)for(;s--;)t=parseFloat(e[s]),o[s]=isNaN(t)?e[s]:n*parseFloat(i[s]-t)+t;else o=i;this.elem.attr("d",o)},update:function(){var t=this.elem,e=this.prop,i=this.now,o=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i):t.style[e]=i+this.unit,o&&o.call(t,i,this)},run:function(t,e,i){var o,n=this,s=function(t){return s.stopped?!1:n.step(t)};this.startTime=+new N,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,s.elem=this.elem,s()&&1===$t.push(s)&&(s.timerId=setInterval(function(){for(o=0;o<$t.length;o++)$t[o]()||$t.splice(o--,1);$t.length||clearInterval(s.timerId)},13))},step:function(t){var e,i=+new N,o=this.options;e=this.elem;var n,s=o.complete,r=o.duration,a=o.curAnim;if(e.attr&&!e.element)e=!1;else if(t||i>=r+this.startTime){this.now=this.end,this.pos=1,this.update(),t=a[this.prop]=!0;for(n in a)a[n]!==!0&&(t=!1);t&&s&&s.call(e),e=!1}else this.pos=o.easing((i-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,i){var o,e=e||"",n=t.shift,s=e.indexOf("C")>-1,r=s?7:3,e=e.split(" "),i=[].concat(i),a=t.isArea,l=a?2:1,h=function(t){for(o=t.length;o--;)("M"===t[o]||"L"===t[o])&&t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(s&&(h(e),h(i)),n<=i.length/r&&e.length===i.length)for(;n--;)i=i.slice(0,r).concat(i),a&&(i=i.concat(i.slice(i.length-r)));if(t.shift=0,e.length)for(t=i.length;e.length<t;)n=e.slice().splice(e.length/l-r,r*l),s&&(n[r-6]=n[r-2],n[r-5]=n[r-1]),[].splice.apply(e,[e.length/l,0].concat(n));return[e,i]}};var qt=rt.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},Jt=rt.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},Qt=rt.pick=function(){var t,e,i=arguments,o=i.length;for(t=0;o>t;t++)if(e=i[t],e!==E&&null!==e)return e},te=rt.wrap=function(t,e,i){var o=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(o),i.apply(this,t)}};H=function(t,e,i){if(!Jt(e))return G.lang.invalidDate||"";var o,t=Qt(t,"%Y-%m-%d %H:%M:%S"),n=new N(e-x(e)),s=n[Z](),r=n[K](),a=n[$](),l=n[q](),h=n[J](),c=G.lang,p=c.weekdays,d=c.shortWeekdays,n=qt({a:d?d[r]:p[r].substr(0,3),A:p[r],d:m(a),e:m(a,2," "),w:r,b:c.shortMonths[l],B:c.months[l],m:m(l+1),y:h.toString().substr(2,2),Y:h,H:m(s),k:s,I:m(s%12||12),l:s%12||12,M:m(n[j]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:m(n.getSeconds()),L:m(ht(e%1e3),3)},rt.dateFormats);for(o in n)for(;-1!==t.indexOf("%"+o);)t=t.replace("%"+o,"function"==typeof n[o]?n[o](e):n[o]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},F={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},rt.numberFormat=function(t,e,i,o){var s,r,t=+t||0,e=+e,a=G.lang,l=(t.toString().split(".")[1]||"").length,h=Math.abs(t);return-1===e?e=Math.min(l,20):Jt(e)||(e=2),s=String(n(h.toFixed(e))),r=s.length>3?s.length%3:0,i=Qt(i,a.decimalPoint),o=Qt(o,a.thousandsSep),t=0>t?"-":"",t+=r?s.substr(0,r)+o:"",t+=s.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+o),e&&(o=Math.abs(h-s+Math.pow(10,-Math.max(e,l)-1)),t+=i+o.toFixed(e).slice(2)),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},Yt=function(e,i){var o;return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-Yt(e,"padding-left")-Yt(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-Yt(e,"padding-top")-Yt(e,"padding-bottom"):(o=t.getComputedStyle(e,void 0))&&n(o.getPropertyValue(i))},Gt=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},Ft=function(t,e){return[].filter.call(t,e)},Vt=function(t,e){for(var i=[],o=0,n=t.length;n>o;o++)i[o]=e.call(t[o],t[o],o,t);return i},Nt=function(e){var i=at.documentElement,e=e.getBoundingClientRect();return{top:e.top+(t.pageYOffset||i.scrollTop)-(i.clientTop||0),left:e.left+(t.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},Kt=function(t){for(var e=$t.length;e--;)$t[e].elem===t&&($t[e].stopped=!0)},Ht=function(t,e){return Array.prototype.forEach.call(t,e)},_t=function(e,i,o){function n(i){i.target=i.srcElement||t,o.call(e,i)}var s=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(i,o,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[o.toString()]=n,e.attachEvent("on"+i,n)),s[i]||(s[i]=[]),s[i].push(o)},Ut=function(t,e,i){function o(e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.attachEvent&&(i=t.hcEventsIE[i.toString()],t.detachEvent("on"+e,i))}function n(){var i,n,s;if(t.nodeName)for(s in e?(i={},i[e]=!0):i=a,i)if(a[s])for(n=a[s].length;n--;)o(s,a[s][n])}var s,r,a=t.hcEvents;a&&(e?(s=a[e]||[],i?(r=Gt(i,s),r>-1&&(s.splice(r,1),a[e]=s),o(e,i)):(n(),a[e]=[])):(n(),t.hcEvents={}))},jt=function(t,e,i,o){var n;n=t.hcEvents;var s,r,i=i||{};if(at.createEvent&&(t.dispatchEvent||t.fireEvent))n=at.createEvent("Events"),n.initEvent(e,!0,!0),n.target=t,qt(n,i),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent(e,n);else if(n)for(n=n[e]||[],s=n.length,i.preventDefault||(i.preventDefault=function(){i.defaultPrevented=!0}),i.target=t,i.type||(i.type=e),e=0;s>e;e++)r=n[e],r.call(t,i)===!1&&i.preventDefault();o&&!i.defaultPrevented&&o(i)},Zt=function(t,e,n){var s,a,l,h,c="";r(n)||(s=arguments,n={duration:s[2],easing:s[3],complete:s[4]}),Jt(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=o(e);for(h in e)l=new i(t,n,h),a=null,"d"===h?(l.paths=l.initPath(t,t.d,e.d),l.toD=e.d,s=0,a=1):t.attr?s=t.attr(h):(s=parseFloat(Yt(t,h))||0,"opacity"!==h&&(c="px")),a||(a=e[h]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),l.run(s,a,c)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);return this[0]?t[0]?(new(rt[s(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):Bt[c(this[0],"data-highcharts-chart")]:void 0}),at&&!at.defaultView&&(Yt=function(t,e){var i;return i={width:"clientWidth",height:"clientHeight"}[e],t.style[e]?n(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,Math.max(t[i]-2*Yt(t,"padding"),0)):(i=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===i?1:n(i)))}),Array.prototype.forEach||(Ht=function(t,e){for(var i=0,o=t.length;o>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i}),Array.prototype.indexOf||(Gt=function(t,e){var i,o=0;if(e)for(i=e.length;i>o;o++)if(e[o]===t)return o;return-1}),Array.prototype.filter||(Ft=function(t,e){for(var i=[],o=0,n=t.length;n>o;o++)e(t[o],o)&&i.push(t[o]);return i}),rt.Fx=i,rt.inArray=Gt,rt.each=Ht,rt.grep=Ft,rt.offset=Nt,rt.map=Vt,rt.addEvent=_t,rt.removeEvent=Ut,rt.fireEvent=jt,rt.animate=Zt,rt.animObject=L,rt.stop=Kt,G={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/4.2.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":rt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Pt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">?</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Mt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var ee=G.plotOptions,ie=ee.line;T(),D.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[n(t[1],16),n(t[2],16),n(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),1]}}],init:function(t){var e,i,o,n;if((this.input=t)&&t.stops)this.stops=Vt(t.stops,function(t){return new D(t[1])});else for(o=this.parsers.length;o--&&!i;)n=this.parsers[o],(e=n.regex.exec(t))&&(i=n.parse(e));this.rgba=i||[]},get:function(t){var e,i=this.input,n=this.rgba;return this.stops?(e=o(i),e.stops=[].concat(e.stops),Ht(this.stops,function(i,o){e.stops[o]=[e.stops[o][0],i.get(t)]})):e=n&&Jt(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":i,e},brighten:function(t){var e,i=this.rgba;if(this.stops)Ht(this.stops,function(e){e.brighten(t)});else if(Jt(t)&&0!==t)for(e=0;3>e;e++)i[e]+=n(255*t),i[e]<0&&(i[e]=0),i[e]>255&&(i[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},I.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(t,e){this.element="span"===e?g(e):at.createElementNS(Ct,e),this.renderer=t},animate:function(t,e,i){return e=Qt(e,this.renderer.globalAnimation,!0),Kt(this),e?(i&&(e.complete=i),Zt(this,t,e)):this.attr(t,null,i),this},colorGradient:function(t,e,i){var n,s,r,l,c,p,d,u,g,f,m,x,y=this.renderer,v=[];if(t.linearGradient?s="linearGradient":t.radialGradient&&(s="radialGradient"),s){r=t[s],c=y.gradients,d=t.stops,f=i.radialReference,a(r)&&(t[s]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&f&&!h(r.gradientUnits)&&(l=r,r=o(r,y.getRadialAttr(f,l),{gradientUnits:"userSpaceOnUse"}));for(m in r)"id"!==m&&v.push(m,r[m]);for(m in d)v.push(d[m]);v=v.join(","),c[v]?f=c[v].attr("id"):(r.id=f="highcharts-"+It++,c[v]=p=y.createElement(s).attr(r).add(y.defs),p.radAttr=l,p.stops=[],Ht(d,function(t){0===t[1].indexOf("rgba")?(n=D(t[1]),u=n.get("rgb"),g=n.get("a")):(u=t[1],g=1),t=y.createElement("stop").attr({offset:t[0],"stop-color":u,"stop-opacity":g}).add(p),p.stops.push(t)})),x="url("+y.url+"#"+f+")",i.setAttribute(e,x),i.gradient=v,t.toString=function(){return x}}},applyTextShadow:function(t){var e,i=this.element,o=-1!==t.indexOf("contrast"),s={},r=this.renderer.forExport,a=r||i.style.textShadow!==E&&!wt;o&&(s.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill))),(At||r)&&(s.textRendering="geometricPrecision"),a?this.css(s):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(i.getElementsByTagName("tspan")),Ht(t.split(/\s?,\s?/g),function(t){var o,s,r=i.firstChild,t=t.split(" ");o=t[t.length-1],(s=t[t.length-2])&&Ht(e,function(t,e){var a;0===e&&(t.setAttribute("x",i.getAttribute("x")),e=i.getAttribute("y"),t.setAttribute("y",e||0),null===e&&i.setAttribute("y",0)),a=t.cloneNode(1),c(a,{"class":"highcharts-text-shadow",fill:o,stroke:o,"stroke-opacity":1/dt(n(s),3),"stroke-width":s,"stroke-linejoin":"round"}),i.insertBefore(a,r)})}))},attr:function(t,e,i){var o,n,s,r=this.element,a=this;if("string"==typeof t&&e!==E&&(o=t,t={},t[o]=e),"string"==typeof t)a=(this[t+"Getter"]||this._defaultGetter).call(this,t,r);else{for(o in t)e=t[o],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(o)&&(n||(this.symbolAttr(t),n=!0),s=!0),!this.rotation||"x"!==o&&"y"!==o||(this.doTransform=!0),s||(s=this[o+"Setter"]||this._defaultSetter,s.call(this,e,o,r),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(o)&&this.updateShadows(o,e,s));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),a},updateShadows:function(t,e,i){for(var o=this.shadows,n=o.length;n--;)i.call(o[n],"height"===t?Math.max(e-(o[n].cutHeight||0),0):"d"===t?this.d:e,t,o[n])},addClass:function(t){var e=this.element,i=c(e,"class")||"";return-1===i.indexOf(t)&&c(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;Ht("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){e[i]=Qt(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t){var e,i,o={},n=this.strokeWidth||0;i=ht(n)%2/2,t.x=ct(t.x||this.x||0)+i,t.y=ct(t.y||this.y||0)+i,t.width=ct((t.width||this.width||0)-2*i),t.height=ct((t.height||this.height||0)-2*i),t.strokeWidth=n;for(e in t)this[e]!==t[e]&&(this[e]=o[e]=t[e]);return o},css:function(t){var e,i,o=this.styles,s={},r=this.element,a="";if(e=!o,t&&t.color&&(t.fill=t.color),o)for(i in t)t[i]!==o[i]&&(s[i]=t[i],e=!0);if(e){if(e=this.textWidth=t&&t.width&&"text"===r.nodeName.toLowerCase()&&n(t.width)||this.textWidth,o&&(t=qt(o,s)),this.styles=t,e&&(Tt||!Pt&&this.renderer.forExport)&&delete t.width,wt&&!Pt)u(this.element,t);else{o=function(t,e){return"-"+e.toLowerCase()};for(i in t)a+=i.replace(/([A-Z])/g,o)+":"+t[i]+";";c(r,"style",a)}e&&this.added&&this.renderer.buildText(this)}return this},on:function(t,e){var i=this,o=i.element;return W&&"click"===t?(o.ontouchstart=function(t){i.touchEventFired=N.now(),t.preventDefault(),e.call(o,t)},o.onclick=function(t){(-1===vt.indexOf("Android")||N.now()-(i.touchEventFired||0)>1100)&&e.call(o,t)}):o["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,o=this.scaleY,n=this.inverted,s=this.rotation,r=this.element;n&&(t+=this.attr("width"),e+=this.attr("height")),t=["translate("+t+","+e+")"],n?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")"),(h(i)||h(o))&&t.push("scale("+Qt(i,1)+" "+Qt(o,1)+")"),t.length&&r.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var o,n,r,a,h={};return n=this.renderer,r=n.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||s(i))&&(this.alignTo=o=i||"renderer",l(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,o=this.alignTo),i=Qt(i,n[o],n),o=t.align,n=t.verticalAlign,r=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),("right"===o||"center"===o)&&(r+=(i.width-(t.width||0))/{right:1,center:2}[o]),h[e?"translateX":"x"]=ht(r),("bottom"===n||"middle"===n)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[n]||1)),h[e?"translateY":"y"]=ht(a),this[this.placed?"animate":"attr"](h),this.placed=!0,this.alignAttr=h,this},getBBox:function(t,e){var i,o,n,s,r=this.renderer,a=this.element,l=this.styles;o=this.textStr;var h,c,p,d=a.style,u=r.cache,g=r.cacheKeys;if(n=Qt(e,this.rotation),s=n*yt,o!==E&&(p=["",n||0,l&&l.fontSize,a.style.width].join(","),p=""===o||Et.test(o)?"num:"+o.toString().length+p:o+p),p&&!t&&(i=u[p]),!i){if(a.namespaceURI===Ct||r.forExport){try{c=this.fakeTS&&function(t){Ht(a.querySelectorAll(".highcharts-text-shadow"),function(e){e.style.display=t})},St&&d.textShadow?(h=d.textShadow,d.textShadow=""):c&&c("none"),i=a.getBBox?qt({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight},h?d.textShadow=h:c&&c("")}catch(f){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(r.isSVG&&(r=i.width,o=i.height,wt&&l&&"11px"===l.fontSize&&"16.9"===o.toPrecision(3)&&(i.height=o=14),n&&(i.width=gt(o*mt(s))+gt(r*ft(s)),i.height=gt(o*ft(s))+gt(r*mt(s)))),p){for(;g.length>250;)delete u[g.shift()];u[p]||g.push(p),u[p]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,o=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(o),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,o=i.element||{},n=i.shadows,s=i.renderer.isSVG&&"SPAN"===o.nodeName&&i.parentGroup;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,Kt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}for(i.safeRemoveChild(o),n&&Ht(n,function(t){i.safeRemoveChild(t)});s&&s.div&&0===s.div.childNodes.length;)o=s.parentGroup,i.safeRemoveChild(s.div),delete s.div,s=o;i.alignTo&&l(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var o,n,s,r,a,l,h=[],p=this.element;if(t){for(r=Qt(t.width,3),a=(t.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+Qt(t.offsetX,1)+", "+Qt(t.offsetY,1)+")",o=1;r>=o;o++)n=p.cloneNode(0),s=2*r+1-2*o,c(n,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*o,"stroke-width":s,transform:"translate"+l,fill:"none"}),i&&(c(n,"height",dt(c(n,"height")-s,0)),n.cutHeight=s),e?e.element.appendChild(n):p.parentNode.insertBefore(n,p),h.push(n);this.shadows=h}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){return t=Qt(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=n(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=at.createElementNS(Ct,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(at.createTextNode(String(Qt(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,o,s,r=this.renderer,a=this.parentGroup,r=(a||r).element||r.box,l=this.element;i=this.added;var c;if(h(t)&&(l.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&a&&(a.handleZ=!0),a=r.childNodes,c=0;c<a.length&&!s;c++)i=a[c],o=i.zIndex,i!==l&&(n(o)>t||!h(t)&&h(o))&&(r.insertBefore(l,i),s=!0);s||r.appendChild(l)}return s},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},I.prototype.yGetter=I.prototype.xGetter,I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},I.prototype["stroke-widthSetter"]=I.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],I.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var oe=function(){this.init.apply(this,arguments)};oe.prototype={Element:I,init:function(e,i,o,n,s,r){var a,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));a=n.element,e.appendChild(a),-1===e.innerHTML.indexOf("xmlns")&&c(a,"xmlns",Ct),this.isSVG=!0,this.box=a,this.boxWrapper=n,this.alignedObjects=[],this.url=(St||At)&&at.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highstock 4.2.5")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(i,o,!1);var l;St&&e.getBoundingClientRect&&(this.subPixelFix=i=function(){u(e,{left:0,top:0}),l=e.getBoundingClientRect(),u(e,{left:pt(l.left)-l.left+"px",top:pt(l.top)-l.top+"px"})},i(),_t(t,"resize",i))},getStyle:function(t){return this.style=qt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),S(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Ut(t,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,o,s=t.element,r=this,a=r.forExport,l=Qt(t.textStr,"").toString(),h=-1!==l.indexOf("<"),p=s.childNodes,d=c(s,"x"),g=t.styles,f=t.textWidth,m=g&&g.lineHeight,x=g&&g.textShadow,y=g&&"ellipsis"===g.textOverflow,v=p.length,b=f&&!t.added&&this.box,w=function(t){return m?n(m):r.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:g&&g.fontSize||r.style.fontSize||12,t).h},k=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};v--;)s.removeChild(p[v]);h||x||y||-1!==l.indexOf(" ")?(e=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(s),l=h?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=Ft(l,function(t){return""!==t}),Ht(l,function(n,l){var h,p=0,n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");h=n.split("|||"),Ht(h,function(n){if(""!==n||1===h.length){var m,x={},v=at.createElementNS(Ct,"tspan");if(e.test(n)&&(m=n.match(e)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(v,"style",m)),i.test(n)&&!a&&(c(v,"onclick",'location.href="'+n.match(i)[1]+'"'),u(v,{cursor:"pointer"})),n=k(n.replace(/<(.|\n)*?>/g,"")||" ")," "!==n){if(v.appendChild(at.createTextNode(n)),p?x.dx=0:l&&null!==d&&(x.x=d),c(v,x),s.appendChild(v),!p&&l&&(!Pt&&a&&u(v,{display:"block"}),c(v,"dy",w(v))),f){for(var b,A,x=n.replace(/([^\^])-/g,"$1- ").split(" "),S=h.length>1||l||x.length>1&&"nowrap"!==g.whiteSpace,M=[],C=w(v),P=1,L=t.rotation,T=n,D=T.length;(S||y)&&(x.length||M.length);)t.rotation=0,b=t.getBBox(!0),A=b.width,!Pt&&r.forExport&&(A=r.measureSpanWidth(v.firstChild.data,t.styles)),b=A>f,void 0===o&&(o=b),y&&o?(D/=2,""===T||!b&&.5>D?x=[]:(T=n.substring(0,T.length+(b?-1:1)*pt(D)),x=[T+(f>3?"…":"")],v.removeChild(v.firstChild))):b&&1!==x.length?(v.removeChild(v.firstChild),M.unshift(x.pop())):(x=M,M=[],x.length&&(P++,v=at.createElementNS(Ct,"tspan"),c(v,{dy:C,x:d}),m&&c(v,"style",m),s.appendChild(v)),A>f&&(f=A)),x.length&&v.appendChild(at.createTextNode(x.join(" ").replace(/- /g,"-")));t.rotation=L}p++}}})}),o&&t.attr("title",t.textStr),b&&b.removeChild(s),x&&t.applyTextShadow&&t.applyTextShadow(x)):s.appendChild(at.createTextNode(k(l)))},getContrast:function(t){return t=D(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,i,n,s,r,a,l,h){var c,p,d,u,g,f,m=this.label(t,e,i,h,null,null,null,null,"button"),x=0,t={x1:0,y1:0,x2:0,y2:1},s=o({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]
},r:2,padding:5,style:{color:"black"}},s);return d=s.style,delete s.style,r=o(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),u=r.style,delete r.style,a=o(s,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),g=a.style,delete a.style,l=o(s,{style:{color:"#CCC"}},l),f=l.style,delete l.style,_t(m.element,wt?"mouseover":"mouseenter",function(){3!==x&&m.attr(r).css(u)}),_t(m.element,wt?"mouseout":"mouseleave",function(){3!==x&&(c=[s,r,a][x],p=[d,u,g][x],m.attr(c).css(p))}),m.setState=function(t){(m.state=x=t)?2===t?m.attr(a).css(g):3===t&&m.attr(l).css(f):m.attr(s).css(d)},m.on("click",function(t){3!==x&&n.call(m,t)}).attr(s).css(qt({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ht(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ht(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return a(t)?e.d=t:r(t)&&qt(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=r(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,o,n,s){return r(t)&&(e=t.y,i=t.r,o=t.innerR,n=t.start,s=t.end,t=t.x),t=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:o||0,start:n||0,end:s||0}),t.r=i,t},rect:function(t,e,i,o,n,s){var n=r(t)?t.r:n,a=this.createElement("rect"),t=r(t)?t:t===E?{}:{x:t,y:e,width:dt(i,0),height:dt(o,0)};return s!==E&&(a.strokeWidth=s,t=a.crisp(t)),n&&(t.r=n),a.rSetter=function(t,e,i){c(i,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,i){var o=this.alignedObjects,n=o.length;for(this.width=t,this.height=e,this.boxWrapper[Qt(i,!0)?"animate":"attr"]({width:t,height:e});n--;)o[n].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,i,o,n){var s={preserveAspectRatio:"none"};return arguments.length>1&&qt(s,{x:e,y:i,width:o,height:n}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):s.element.setAttribute("hc-svg-href",t),s},symbol:function(t,e,i,o,n,s){var r,a,l,h=this,c=this.symbols[t],c=c&&c(ht(e),ht(i),o,n,s),p=/^url\((.*?)\)$/;return c?(r=this.path(c),qt(r,{symbolName:t,x:e,y:i,width:o,height:n}),s&&qt(r,s)):p.test(t)&&(l=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ht((o-e[0])/2),ht((n-e[1])/2)))},a=t.match(p)[1],t=Dt[a]||s&&s.width&&s.height&&[s.width,s.height],r=this.image(a).attr({x:e,y:i}),r.isImg=!0,t?l(r,t):(r.attr({width:0,height:0}),g("img",{onload:function(){0===this.width&&(u(this,{position:"absolute",top:"-999em"}),at.body.appendChild(this)),l(r,Dt[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),h.imgCount--,!h.imgCount&&Bt[h.chartIndex].onload&&Bt[h.chartIndex].onload()},src:a}),this.imgCount++)),r},symbols:{circle:function(t,e,i,o){var n=.166*i;return["M",t+i/2,e,"C",t+i+n,e,t+i+n,e+o,t+i/2,e+o,"C",t-n,e+o,t-n,e,t+i/2,e,"Z"]},square:function(t,e,i,o){return["M",t,e,"L",t+i,e,t+i,e+o,t,e+o,"Z"]},triangle:function(t,e,i,o){return["M",t+i/2,e,"L",t+i,e+o,t,e+o,"Z"]},"triangle-down":function(t,e,i,o){return["M",t,e,"L",t+i,e,t+i/2,e+o,"Z"]},diamond:function(t,e,i,o){return["M",t+i/2,e,"L",t+i,e+o/2,t+i/2,e+o,t,e+o/2,"Z"]},arc:function(t,e,i,o,n){var s=n.start,i=n.r||i||o,r=n.end-.001,o=n.innerR,a=n.open,l=ft(s),h=mt(s),c=ft(r),r=mt(r),n=n.end-s<xt?0:1;return["M",t+i*l,e+i*h,"A",i,i,0,n,1,t+i*c,e+i*r,a?"M":"L",t+o*c,e+o*r,"A",o,o,0,n,0,t+o*l,e+o*h,a?"":"Z"]},callout:function(t,e,i,o,n){var s,r=ut(n&&n.r||0,i,o),a=r+6,l=n&&n.anchorX,n=n&&n.anchorY;return s=["M",t+r,e,"L",t+i-r,e,"C",t+i,e,t+i,e,t+i,e+r,"L",t+i,e+o-r,"C",t+i,e+o,t+i,e+o,t+i-r,e+o,"L",t+r,e+o,"C",t,e+o,t,e+o,t,e+o-r,"L",t,e+r,"C",t,e,t,e,t+r,e],l&&l>i&&n>e+a&&e+o-a>n?s.splice(13,3,"L",t+i,n-6,t+i+6,n,t+i,n+6,t+i,e+o-r):l&&0>l&&n>e+a&&e+o-a>n?s.splice(33,3,"L",t,n+6,t-6,n,t,n-6,t,e+r):n&&n>o&&l>t+a&&t+i-a>l?s.splice(23,3,"L",l+6,e+o,l,e+o+6,l-6,e+o,t+r,e+o):n&&0>n&&l>t+a&&t+i-a>l&&s.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-r,e),s}},clipRect:function(t,e,i,o){var n="highcharts-"+It++,s=this.createElement("clipPath").attr({id:n}).add(this.defs),t=this.rect(t,e,i,o,0).add(s);return t.id=n,t.clipPath=s,t.count=0,t},text:function(t,e,i,o){var n=Tt||!Pt&&this.forExport,s={};return!o||!this.allowHTML&&this.forExport?(s.x=Math.round(e||0),i&&(s.y=Math.round(i)),(t||0===t)&&(s.text=t),t=this.createElement("text").attr(s),n&&t.css({position:"absolute"}),o||(t.xSetter=function(t,e,i){var o,n,s=i.getElementsByTagName("tspan"),r=i.getAttribute(e);for(n=0;n<s.length;n++)o=s[n],o.getAttribute(e)===r&&o.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(e,i){var o,s,e=e||this.style.fontSize;return!e&&i&&t.getComputedStyle&&(i=i.element||i,e=(o=t.getComputedStyle(i,""))&&o.fontSize),e=/px/.test(e)?n(e):/em/.test(e)?12*parseFloat(e):12,o=24>e?e+3:ht(1.2*e),s=ht(.8*o),{h:o,b:s,f:e}},rotCorr:function(t,e,i){var o=t;return e&&i&&(o=dt(o*ft(e*yt),4)),{x:-t/3*mt(e*yt),y:o}},label:function(t,e,i,n,s,r,a,l,c){var p,d,u,g,f,m,x,y,v,b,w,k=this,A=k.g(c),S=k.text("",0,0,a).attr({zIndex:1}),M=0,C=3,P=0,L=0,T={};v=function(){var t,e;t=S.element.style,d=(void 0===u||void 0===g||A.styles.textAlign)&&h(S.textStr)&&S.getBBox(),A.width=(u||d.width||0)+2*C+P,A.height=(g||d.height||0)+2*C,x=C+k.fontMetrics(t&&t.fontSize,S).b,y&&(p||(t=L,e=(l?-x:0)+L,A.box=p=n?k.symbol(n,t,e,A.width,A.height,T):k.rect(t,e,A.width,A.height,0,T["stroke-width"]),p.isImg||p.attr("fill","none"),p.add(A)),p.isImg||p.attr(qt({width:ht(A.width),height:ht(A.height)},T)),T=null)},b=function(){var t,e=A.styles,e=e&&e.textAlign,i=P+C;t=l?0:x,h(u)&&d&&("center"===e||"right"===e)&&(i+={center:.5,right:1}[e]*(u-d.width)),(i!==S.x||t!==S.y)&&(S.attr("x",i),t!==E&&S.attr("y",t)),S.x=i,S.y=t},w=function(t,e){p?p.attr(t,e):T[t]=e},A.onAdd=function(){S.add(A),A.attr({text:t||0===t?t:"",x:e,y:i}),p&&h(s)&&A.attr({anchorX:s,anchorY:r})},A.widthSetter=function(t){u=t},A.heightSetter=function(t){g=t},A.paddingSetter=function(t){h(t)&&t!==C&&(C=A.padding=t,b())},A.paddingLeftSetter=function(t){h(t)&&t!==P&&(P=t,b())},A.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==M&&(M=t,d&&A.attr({x:f}))},A.textSetter=function(t){t!==E&&S.textSetter(t),v(),b()},A["stroke-widthSetter"]=function(t,e){t&&(y=!0),L=t%2/2,w(e,t)},A.strokeSetter=A.fillSetter=A.rSetter=function(t,e){"fill"===e&&t&&(y=!0),w(e,t)},A.anchorXSetter=function(t,e){s=t,w(e,ht(t)-L-f)},A.anchorYSetter=function(t,e){r=t,w(e,t-m)},A.xSetter=function(t){A.x=t,M&&(t-=M*((u||d.width)+2*C)),f=ht(t),A.attr("translateX",f)},A.ySetter=function(t){m=A.y=ht(t),A.attr("translateY",m)};var D=A.css;return qt(A,{css:function(t){if(t){var e={},t=o(t);Ht(A.textProps,function(i){t[i]!==E&&(e[i]=t[i],delete t[i])}),S.css(e)}return D.call(A,t)},getBBox:function(){return{width:d.width+2*C,height:d.height+2*C,x:d.x-C,y:d.y-C}},shadow:function(t){return p&&p.shadow(t),A},destroy:function(){Ut(A.element,"mouseenter"),Ut(A.element,"mouseleave"),S&&(S=S.destroy()),p&&(p=p.destroy()),I.prototype.destroy.call(A),A=k=v=b=w=null}})}},X=oe,qt(I.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=qt(this.styles,t),u(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,o=this.translateY||0,s=this.x||0,r=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=this.shadows,p=this.styles;if(u(e,{marginLeft:i,marginTop:o}),c&&Ht(c,function(t){u(t,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&Ht(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){var c=this.rotation,d=n(this.textWidth),g=p&&p.whiteSpace,f=[c,a,e.innerHTML,this.textWidth,this.textAlign].join(",");f!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,h(c)&&this.setSpanRotation(c,l,p),e.offsetWidth>d&&/[ \-]/.test(e.textContent||e.innerText)?(u(e,{width:d+"px",display:"block",whiteSpace:g||"normal"}),this.hasTextWidth=!0):this.hasTextWidth&&(u(e,{width:"",display:"",whiteSpace:g||"nowrap"}),this.hasTextWidth=!1),this.getSpanCorrection(this.hasTextWidth?d:e.offsetWidth,p,l,c,a)),u(e,{left:s+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),At&&(p=e.offsetHeight),this.cTT=f}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var o={},n=wt?"-ms-transform":At?"-webkit-transform":St?"MozTransform":bt?"-o-transform":"";o[n]=o.transform="rotate("+t+"deg)",o[n+(St?"Origin":"-origin")]=o.transformOrigin=100*e+"% "+i+"px",u(this.element,o)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),qt(oe.prototype,{html:function(t,e,i){var o=this.createElement("span"),n=o.element,s=o.renderer,r=s.isSVG,a=function(t,e){Ht(["opacity","visibility"],function(i){te(t,i+"Setter",function(t,i,o,n){t.call(this,i,o,n),e[o]=i})})};return o.textSetter=function(t){t!==n.innerHTML&&delete this.bBox,n.innerHTML=this.textStr=t,o.htmlUpdateTransform()},r&&a(o,o.element.style),o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform()},o.attr({text:t,x:ht(e),y:ht(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),n.style.whiteSpace="nowrap",o.css=o.htmlCss,r&&(o.add=function(t){var e,i=s.box.parentNode,r=[];if(this.parentGroup=t){if(e=t.div,!e){for(;t;)r.push(t),t=t.parentGroup;Ht(r.reverse(),function(t){var o,n=c(t.element,"class");n&&(n={className:n}),e=t.div=t.div||g(Rt,n,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",opacity:t.opacity},e||i),o=e.style,qt(t,{translateXSetter:function(e,i){o.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){o.top=e+"px",t[i]=e,t.doTransform=!0}}),a(t,o)})}}else e=i;return e.appendChild(n),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}});var ne,se;Pt||Tt||(se={init:function(t,e){var i=["<",e,' filled="f" stroked="f"'],o=["position: ","absolute",";"],n=e===Rt;("shape"===e||n)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",n?"hidden":"visible"),i.push(' style="',o.join(""),'"/>'),e&&(i=n||"span"===e||"img"===e?i.join(""):t.prepVML(i),this.element=g(i)),this.renderer=t},add:function(t){var e=this.renderer,i=this.element,o=e.box,n=t&&t.inverted,o=t?t.element||t:o;return t&&(this.parentGroup=t),n&&e.invertChild(i,o),o.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:I.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=ft(t*yt),i=mt(t*yt);u(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,o,n){var s,r=o?ft(o*yt):1,a=o?mt(o*yt):0,l=Qt(this.elemHeight,this.element.offsetHeight);this.xCorr=0>r&&-t,this.yCorr=0>a&&-l,s=0>r*a,this.xCorr+=a*e*(s?1-i:i),this.yCorr-=r*e*(o?s?i:1-i:1),n&&"left"!==n&&(this.xCorr-=t*i*(0>r?-1:1),o&&(this.yCorr-=l*i*(0>a?-1:1)),u(this.element,{textAlign:n}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)Jt(t[e])?i[e]=ht(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i=this;return t?(e=t.members,l(e,i),e.push(i),i.destroyClip=function(){l(e,i)},t=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),t={clip:kt?"inherit":"rect(auto)"}),i.css(t)},css:I.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&M(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),I.prototype.destroy.apply(this)},on:function(e,i){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,i(e)},this},cutOffPath:function(t,e){var i,t=t.split(/[ ,]/);return i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=n(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var o,s,r,a,l,h,c,p=[],d=this.element,u=this.renderer,f=d.style,m=d.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(h=Qt(t.width,3),c=(t.opacity||.15)/h,o=1;3>=o;o++)a=2*h+1-2*o,i&&(l=this.cutOffPath(m.value,a+.5)),r=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],s=g(u.prepVML(r),null,{left:n(f.left)+Qt(t.offsetX,1),top:n(f.top)+Qt(t.offsetY,1)}),i&&(s.cutOff=a+1),r=['<stroke color="',t.color||"black",'" opacity="',c*o,'"/>'],g(u.prepVML(r),null,null,s),e?e.element.appendChild(s):d.parentNode.insertBefore(s,d),p.push(s);this.shadows=p}return this},updateShadows:Ot,setAttr:function(t,e){kt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||g(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var o=this.shadows,t=t||[];if(this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),o)for(i=o.length;i--;)o[i].path=o[i].cutOff?this.cutOffPath(t,o[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var o=i.nodeName;"SPAN"===o?i.style.color=t:"IMG"!==o&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){g(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:Ot,rotationSetter:function(t,e,i){i=i.style,this[e]=i[e]=t,i.left=-ht(mt(t*yt)+1)+"px",i.top=ht(ft(t*yt))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,Jt(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&Ht(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,kt||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},se["stroke-opacitySetter"]=se["fill-opacitySetter"],rt.VMLElement=se=f(I,se),se.prototype.ySetter=se.prototype.widthSetter=se.prototype.heightSetter=se.prototype.xSetter,se={Element:se,isIE8:vt.indexOf("MSIE 8.0")>-1,init:function(t,e,i,o){var n;if(this.alignedObjects=[],o=this.createElement(Rt).css(qt(this.getStyle(o),{position:"relative"})),n=o.element,t.appendChild(o.element),this.isVML=!0,this.box=n,this.boxWrapper=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(s){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,o){var n=this.createElement(),s=r(t);return qt(n,{members:[],count:0,left:(s?t.x:t)+1,top:(s?t.y:e)+1,width:(s?t.width:i)-1,height:(s?t.height:o)-1,getCSS:function(t){var e=t.element,i=e.nodeName,t=t.inverted,o=this.top-("shape"===i?e.offsetTop:0),n=this.left,e=n+this.width,s=o+this.height,o={clip:"rect("+ht(t?n:o)+"px,"+ht(t?s:e)+"px,"+ht(t?e:s)+"px,"+ht(t?o:n)+"px)"};return!t&&kt&&"DIV"===i&&qt(o,{width:e+"px",height:s+"px"}),o},updateClipping:function(){Ht(n.members,function(t){t.element&&t.css(n.getCSS(t))})}})},color:function(t,e,i,o){var n,s,r,a=this,l=/^rgba/,h="none";if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var c,p,d,u,f,m,x,y,v=t.linearGradient||t.radialGradient,b="",t=t.stops,w=[],k=function(){s=['<fill colors="'+w.join(",")+'" opacity="',f,'" o:opacity2="',u,'" type="',r,'" ',b,'focus="100%" method="any" />'],g(a.prepVML(s),null,null,e)};if(d=t[0],y=t[t.length-1],d[0]>0&&t.unshift([0,d[1]]),y[0]<1&&t.push([1,y[1]]),Ht(t,function(t,e){l.test(t[1])?(n=D(t[1]),c=n.get("rgb"),p=n.get("a")):(c=t[1],p=1),w.push(100*t[0]+"% "+c),e?(f=p,m=c):(u=p,x=c)}),"fill"===i)if("gradient"===r)i=v.x1||v[0]||0,t=v.y1||v[1]||0,d=v.x2||v[2]||0,v=v.y2||v[3]||0,b='angle="'+(90-180*lt.atan((v-t)/(d-i))/xt)+'"',k();else{var A,h=v.r,S=2*h,M=2*h,C=v.cx,P=v.cy,L=e.radialReference,h=function(){L&&(A=o.getBBox(),C+=(L[0]-A.x)/A.width-.5,P+=(L[1]-A.y)/A.height-.5,S*=L[2]/A.width,M*=L[2]/A.height),b='src="'+G.global.VMLRadialGradientURL+'" size="'+S+","+M+'" origin="0.5,0.5" position="'+C+","+P+'" color2="'+x+'" ',k()};o.added?h():o.onAdd=h,h=m}else h=c}else l.test(t)&&"IMG"!==e.tagName?(n=D(t),o[i+"-opacitySetter"](n.get("a"),i,e),h=n.get("rgb")):(h=e.getElementsByTagName(i),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(t){var e=this.isIE8,t=t.join("");return e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:oe.prototype.html,path:function(t){var e={coordsize:"10 10"};return a(t)?e.d=t:r(t)&&qt(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var o=this.symbol("circle");return r(t)&&(i=t.r,e=t.y,t=t.x),o.isCircle=!0,o.r=i,o.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement(Rt).attr(e)},image:function(t,e,i,o,n){var s=this.createElement("img").attr({src:t});return arguments.length>1&&s.attr({x:e,y:i,width:o,height:n}),s},createElement:function(t){return"rect"===t?this.symbol(t):oe.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,o=e.style,s="IMG"===t.tagName&&t.style;u(t,{flip:"x",left:n(o.width)-(s?n(s.top):1),top:n(o.height)-(s?n(s.left):1),rotation:-90}),Ht(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,o,n){var s=n.start,r=n.end,a=n.r||i||o,i=n.innerR,o=ft(s),l=mt(s),h=ft(r),c=mt(r);return r-s===0?["x"]:(s=["wa",t-a,e-a,t+a,e+a,t+a*o,e+a*l,t+a*h,e+a*c],n.open&&!i&&s.push("e","M",t,e),s.push("at",t-i,e-i,t+i,e+i,t+i*h,e+i*c,t+i*o,e+i*l,"x","e"),s.isArc=!0,s)},circle:function(t,e,i,o,n){return n&&(i=o=2*n.r),n&&n.isCircle&&(t-=i/2,e-=o/2),["wa",t,e,t+i,e+o,t+i,e+o/2,t+i,e+o/2,"e"]},rect:function(t,e,i,o,n){return oe.prototype.symbols[h(n)&&n.r?"callout":"square"].call(0,t,e,i,o,n)}}},rt.VMLRenderer=ne=function(){this.init.apply(this,arguments)},ne.prototype=o(oe.prototype,se),X=ne),oe.prototype.measureSpanWidth=function(t,e){var i,o=at.createElement("span");return i=at.createTextNode(t),o.appendChild(i),u(o,e),this.box.appendChild(o),i=o.offsetWidth,M(o),i};var re;Tt&&(rt.CanVGRenderer=se=function(){Ct="http://www.w3.org/1999/xhtml"},se.prototype.symbols={},re=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,o){if(0===e.length){var n=at.getElementsByTagName("head")[0],s=at.createElement("script");s.type="text/javascript",s.src=o,s.onload=t,n.appendChild(s)}e.push(i)}}}(),X=se),O.prototype={addLabel:function(){var t,e=this.axis,i=e.options,n=e.chart,s=e.categories,r=e.names,a=this.pos,l=i.labels,c=e.tickPositions,p=a===c[0],d=a===c[c.length-1],r=s?Qt(s[a],r[a],a):a,s=this.label,c=c.info;e.isDatetimeAxis&&c&&(t=i.dateTimeLabelFormats[c.higherRanks[a]||c.unitName]),this.isFirst=p,this.isLast=d,i=e.labelFormatter.call({axis:e,chart:n,isFirst:p,isLast:d,dateTimeLabelFormat:t,value:e.isLog?C(e.lin2log(r)):r}),h(s)?s&&s.attr({text:i}):(this.labelLength=(this.label=s=h(i)&&l.enabled?n.renderer.text(i,0,0,l.useHTML).css(o(l.style)).add(e.labelGroup):null)&&s.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,o=t.x,n=i.chart.chartWidth,s=i.chart.spacing,r=Qt(i.labelLeft,ut(i.pos,s[3])),s=Qt(i.labelRight,dt(i.pos+i.len,n-s[1])),a=this.label,l=this.rotation,h={left:0,center:.5,right:1}[i.labelAlign],c=a.getBBox().width,p=i.getSlotWidth(),d=p,u=1,g={};l?0>l&&r>o-h*c?e=ht(o/ft(l*yt)-r):l>0&&o+h*c>s&&(e=ht((n-o)/ft(l*yt))):(n=o+(1-h)*c,r>o-h*c?d=t.x+d*(1-h)-r:n>s&&(d=s-t.x+d*h,u=-1),d=ut(p,d),p>d&&"center"===i.labelAlign&&(t.x+=u*(p-d-h*(p-ut(c,d)))),(c>d||i.autoRotation&&a.styles.width)&&(e=d)),e&&(g.width=e,i.options.labels.style.textOverflow||(g.textOverflow="ellipsis"),a.css(g))},getPosition:function(t,e,i,o){var n=this.axis,s=n.chart,r=o&&s.oldChartHeight||s.chartHeight;return{x:t?n.translate(e+i,null,null,o)+n.transB:n.left+n.offset+(n.opposite?(o&&s.oldChartWidth||s.chartWidth)-n.right-n.left:0),y:t?r-n.bottom+n.offset-(n.opposite?n.height:0):r-n.translate(e+i,null,null,o)-n.transB}},getLabelPosition:function(t,e,i,o,n,s,r,a){var l=this.axis,c=l.transA,p=l.reversed,d=l.staggerLines,u=l.tickRotCorr||{x:0,y:0},g=n.y;return h(g)||(g=0===l.side?i.rotation?-8:-i.getBBox().height:2===l.side?u.y+8:ft(i.rotation*yt)*(u.y-i.getBBox(!1,0).height/2)),t=t+n.x+u.x-(s&&o?s*c*(p?-1:1):0),e=e+g-(s&&!o?s*c*(p?1:-1):0),d&&(i=r/(a||1)%d,l.opposite&&(i=d-i-1),e+=i*(l.labelOffset/d)),{x:t,y:ht(e)}},getMarkPath:function(t,e,i,o,n,s){return s.crispLine(["M",t,e,"L",t+(n?0:-i),e+(n?i:0)],o)},render:function(t,e,i){var o=this.axis,n=o.options,s=o.chart.renderer,r=o.horiz,a=this.type,l=this.label,h=this.pos,c=n.labels,p=this.gridLine,d=a?a+"Grid":"grid",u=a?a+"Tick":"tick",g=n[d+"LineWidth"],f=n[d+"LineColor"],m=n[d+"LineDashStyle"],d=o.tickSize(u),u=n[u+"Color"],x=this.mark,y=c.step,v=!0,b=o.tickmarkOffset,w=this.getPosition(r,h,b,e),k=w.x,w=w.y,A=r&&k===o.pos+o.len||!r&&w===o.pos?-1:1,i=Qt(i,1);this.isActive=!0,g&&(h=o.getPlotLinePath(h+b,g*A,e,!0),p===E&&(p={stroke:f,"stroke-width":g},m&&(p.dashstyle=m),a||(p.zIndex=1),e&&(p.opacity=0),this.gridLine=p=g?s.path(h).attr(p).add(o.gridGroup):null),!e&&p&&h&&p[this.isNew?"attr":"animate"]({d:h,opacity:i})),d&&(o.opposite&&(d[0]=-d[0]),a=this.getMarkPath(k,w,d[0],d[1]*A,r,s),x?x.animate({d:a,opacity:i}):this.mark=s.path(a).attr({stroke:u,"stroke-width":d[1],opacity:i}).add(o.axisGroup)),l&&Jt(k)&&(l.xy=w=this.getLabelPosition(k,w,l,r,c,b,t,y),this.isFirst&&!this.isLast&&!Qt(n.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Qt(n.showLastLabel,1)?v=!1:r&&!o.isRadial&&!c.step&&!c.rotation&&!e&&0!==i&&this.handleOverflow(w),y&&t%y&&(v=!1),v&&Jt(w.y)?(w.opacity=i,l[this.isNew?"attr":"animate"](w),this.isNew=!1):l.attr("y",-9999))},destroy:function(){S(this,this.axis)}},rt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},rt.PlotLineOrBand.prototype={render:function(){var t,e=this,i=e.axis,n=i.horiz,s=e.options,r=s.label,a=e.label,l=s.width,c=s.to,p=s.from,d=h(p)&&h(c),u=s.value,g=s.dashStyle,f=e.svgElem,m=[],x=s.color,y=Qt(s.zIndex,0),v=s.events,b={},w=i.chart.renderer,m=i.log2lin;if(i.isLog&&(p=m(p),c=m(c),u=m(u)),l)m=i.getPlotLinePath(u,l),b={stroke:x,"stroke-width":l},g&&(b.dashstyle=g);else{if(!d)return;m=i.getPlotBandPath(p,c,s),x&&(b.fill=x),s.borderWidth&&(b.stroke=s.borderColor,b["stroke-width"]=s.borderWidth)}if(b.zIndex=y,f)m?(f.show(),f.animate({d:m})):(f.hide(),a&&(e.label=a=a.destroy()));else if(m&&m.length&&(e.svgElem=f=w.path(m).attr(b).add(),v))for(t in s=function(t){f.on(t,function(i){v[t].apply(e,[i])})},v)s(t);return r&&h(r.text)&&m&&m.length&&i.width>0&&i.height>0&&!m.flat?(r=o({align:n&&d&&"center",x:n?!d&&4:10,verticalAlign:!n&&d&&"middle",y:n?d?16:10:d?6:-4,rotation:n&&!d&&90},r),this.renderLabel(r,m,d,y)):a&&a.hide(),e},renderLabel:function(t,e,i,o){var n=this.label,s=this.axis.chart.renderer;n||(n={align:t.textAlign||t.align,rotation:t.rotation},n.zIndex=o,this.label=n=s.text(t.text,0,0,t.useHTML).attr(n).css(t.style).add()),o=[e[1],e[4],i?e[6]:e[1]],e=[e[2],e[5],i?e[7]:e[2]],i=k(o),s=k(e),n.align(t,!1,{x:i,y:s,width:A(o)-i,height:A(e)-s}),n.show()},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,S(this)}};var ae=rt.Axis=function(){this.init.apply(this,arguments)};ae.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return rt.numberFormat(this.total,-1)},style:o(ee.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var i=e.isX;this.chart=t,this.horiz=t.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=e.opposite,this.side=e.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);var o=this.options,n=o.type;this.labelFormatter=o.labels.formatter||this.defaultLabelFormatter,this.userOptions=e,this.minPixelPadding=0,this.reversed=o.reversed,this.visible=o.visible!==!1,this.zoomEnabled=o.zoomEnabled!==!1,this.categories=o.categories||"category"===n,this.names=this.names||[],this.isLog="logarithmic"===n,this.isDatetimeAxis="datetime"===n,this.isLinked=h(o.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=o.minRange||o.maxZoom,this.range=o.range,this.offset=o.offset||0,this.stacks={},this.oldStacks={},this.stacksTouched=0,this.min=this.max=null,this.crosshair=Qt(o.crosshair,p(t.options.tooltip.crosshairs)[i?0:1],!1);var s,o=this.options.events;-1===Gt(this,t.axes)&&(i&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&i&&this.reversed===E&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in o)_t(this,s,o[s]);this.isLog&&(this.val2lin=this.log2lin,this.lin2val=this.lin2log)},setOptions:function(t){this.options=o(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],o(G[this.coll],t))},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,o=e.categories,n=this.dateTimeLabelFormat,s=G.lang.numericSymbols,r=s&&s.length,a=e.options.labels.format,e=e.isLog?i:e.tickInterval;if(a)t=y(a,this);else if(o)t=i;else if(n)t=H(n,i);else if(r&&e>=1e3)for(;r--&&t===E;)o=Math.pow(1e3,r+1),e>=o&&10*i%o===0&&null!==s[r]&&(t=rt.numberFormat(i/o,-1)+s[r]);return t===E&&(t=gt(i)>=1e4?rt.numberFormat(i,-1):rt.numberFormat(i,-1,E,"")),t},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),Ht(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,n=i.options,s=n.threshold;t.hasVisibleSeries=!0,t.isLog&&0>=s&&(s=null),t.isXAxis?(n=i.xData,n.length&&(i=k(n),!Jt(i)&&!(i instanceof N)&&(n=Ft(n,function(t){return Jt(t)}),i=k(n)),t.dataMin=ut(Qt(t.dataMin,n[0]),i),t.dataMax=dt(Qt(t.dataMax,n[0]),A(n)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,h(i)&&h(o)&&(t.dataMin=ut(Qt(t.dataMin,i),i),t.dataMax=dt(Qt(t.dataMax,o),o)),h(s)&&(t.threshold=s),(!n.softThreshold||t.isLog)&&(t.softThreshold=!1))}})},translate:function(t,e,i,o,n,s){var r=this.linkedParent||this,a=1,l=0,h=o?r.oldTransA:r.transA,o=o?r.oldMin:r.min,c=r.minPixelPadding,n=(r.isOrdinal||r.isBroken||r.isLog&&n)&&r.lin2val;return h||(h=r.transA),i&&(a*=-1,l=r.len),r.reversed&&(a*=-1,l-=a*(r.sector||r.len)),e?(t=t*a+l,t-=c,t=t/h+o,n&&(t=r.lin2val(t))):(n&&(t=r.val2lin(t)),"between"===s&&(s=.5),t=a*(t-o)*h+l+a*c+(Jt(s)?h*s*r.pointRange:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,o,n){var s,r,a,l=this.chart,h=this.left,c=this.top,p=i&&l.oldChartHeight||l.chartHeight,d=i&&l.oldChartWidth||l.chartWidth;s=this.transB;var u=function(t,e,i){return(e>t||t>i)&&(o?t=ut(dt(e,t),i):a=!0),t},n=Qt(n,this.translate(t,null,null,i)),t=i=ht(n+s);return s=r=ht(p-n-s),Jt(n)?this.horiz?(s=c,r=p-this.bottom,t=i=u(t,h,h+this.width)):(t=h,i=d-this.right,s=r=u(s,c,c+this.height)):a=!0,a&&!o?null:l.renderer.crispLine(["M",t,s,"L",i,r],e||1)},getLinearTickPositions:function(t,e,i){var o,n=C(ct(e/t)*t),s=C(pt(i/t)*t),r=[];if(e===i&&Jt(e))return[e];for(e=n;s>=e&&(r.push(e),e=C(e+t),e!==o);)o=e;return r},getMinorTickPositions:function(){var t,e=this.options,i=this.tickPositions,o=this.minorTickInterval,n=[],s=this.pointRangePadding||0;t=this.min-s;var s=this.max+s,r=s-t;if(r&&r/o<this.len/3)if(this.isLog)for(s=i.length,t=1;s>t;t++)n=n.concat(this.getLogTickPositions(o,i[t-1],i[t],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)n=n.concat(this.getTimeTicks(this.normalizeTimeTickInterval(o),t,s,e.startOfWeek));else for(i=t+(i[0]-t)%o;s>=i;i+=o)n.push(i);return 0!==n.length&&this.trimTicks(n,e.startOnTick,e.endOnTick),n},adjustForMinRange:function(){var t,e,i,o,n,s,r,a=this.options,l=this.min,c=this.max,p=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===E&&!this.isLog&&(h(a.min)||h(a.max)?this.minRange=null:(Ht(this.series,function(t){for(n=t.xData,i=s=t.xIncrement?1:n.length-1;i>0;i--)o=n[i]-n[i-1],(e===E||e>o)&&(e=o)}),this.minRange=ut(5*e,this.dataMax-this.dataMin))),c-l<this.minRange&&(r=this.minRange,t=(r-c+l)/2,t=[l-t,Qt(a.min,l-t)],p&&(t[2]=this.dataMin),l=A(t),c=[l+r,Qt(a.max,l+r)],p&&(c[2]=this.dataMax),c=k(c),r>c-l&&(t[0]=c-r,t[1]=Qt(a.min,c-r),l=A(t))),this.min=l,this.max=c},getClosest:function(){var t;return Ht(this.series,function(e){var i=e.closestPointRange;!e.noSharedTooltip&&h(i)&&(t=h(t)?ut(t,i):i)}),t},setAxisTranslation:function(t){var e,i=this,o=i.max-i.min,n=i.axisPointRange||0,r=0,a=0,l=i.linkedParent,h=!!i.categories,c=i.transA,p=i.isXAxis;(p||h||n)&&(l?(r=l.minPointOffset,a=l.pointRangePadding):(e=i.getClosest(),Ht(i.series,function(t){var o=h?1:p?Qt(t.options.pointRange,e,0):i.axisPointRange||0,t=t.options.pointPlacement;n=dt(n,o),i.single||(r=dt(r,s(t)?0:o/2),a=dt(a,"on"===t?0:o))})),l=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=r*=l,i.pointRangePadding=a*=l,i.pointRange=ut(n,o),p&&(i.closestPointRange=e)),t&&(i.oldTransA=c),i.translationSlope=i.transA=c=i.len/(o+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=c*r},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var i,o,n,s,r=this,a=r.chart,l=r.options,c=r.isLog,p=r.log2lin,d=r.isDatetimeAxis,u=r.isXAxis,g=r.isLinked,f=l.maxPadding,m=l.minPadding,x=l.tickInterval,y=l.tickPixelInterval,w=r.categories,k=r.threshold,A=r.softThreshold;!d&&!w&&!g&&this.getTickAmount(),n=Qt(r.userMin,l.min),s=Qt(r.userMax,l.max),g?(r.linkedParent=a[r.coll][l.linkedTo],
a=r.linkedParent.getExtremes(),r.min=Qt(a.min,a.dataMin),r.max=Qt(a.max,a.dataMax),l.type!==r.linkedParent.options.type&&e(11,1)):(!A&&h(k)&&(r.dataMin>=k?(i=k,m=0):r.dataMax<=k&&(o=k,f=0)),r.min=Qt(n,i,r.dataMin),r.max=Qt(s,o,r.dataMax)),c&&(!t&&ut(r.min,Qt(r.dataMin,r.min))<=0&&e(10,1),r.min=C(p(r.min),15),r.max=C(p(r.max),15)),r.range&&h(r.max)&&(r.userMin=r.min=n=dt(r.min,r.minFromRange()),r.userMax=s=r.max,r.range=null),jt(r,"foundExtremes"),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),w||r.axisPointRange||r.usePercentage||g||!h(r.min)||!h(r.max)||!(p=r.max-r.min)||(!h(n)&&m&&(r.min-=p*m),!h(s)&&f&&(r.max+=p*f)),Jt(l.floor)&&(r.min=dt(r.min,l.floor)),Jt(l.ceiling)&&(r.max=ut(r.max,l.ceiling)),A&&h(r.dataMin)&&(k=k||0,!h(n)&&r.min<k&&r.dataMin>=k?r.min=k:!h(s)&&r.max>k&&r.dataMax<=k&&(r.max=k)),r.tickInterval=r.min===r.max||void 0===r.min||void 0===r.max?1:g&&!x&&y===r.linkedParent.options.tickPixelInterval?x=r.linkedParent.tickInterval:Qt(x,this.tickAmount?(r.max-r.min)/dt(this.tickAmount-1,1):void 0,w?1:(r.max-r.min)*y/dt(r.len,y)),u&&!t&&Ht(r.series,function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&!x&&(r.tickInterval=dt(r.pointRange,r.tickInterval)),t=Qt(l.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!x&&r.tickInterval<t&&(r.tickInterval=t),d||c||x||(r.tickInterval=b(r.tickInterval,null,v(r.tickInterval),Qt(l.allowDecimals,!(r.tickInterval>.5&&r.tickInterval<5&&r.max>1e3&&r.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,o=i.tickPositions,n=i.tickPositioner,s=i.startOnTick,r=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=o&&o.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,n&&(n=n.apply(this,[this.min,this.max])))&&(this.tickPositions=t=n),this.isLinked||(this.trimTicks(t,s,r),this.min===this.max&&h(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,!o&&!n&&this.adjustTickAmount())},trimTicks:function(t,e,i){var o=t[0],n=t[t.length-1],s=this.minPointOffset||0;if(e)this.min=o;else for(;this.min-s>t[0];)t.shift();if(i)this.max=n;else for(;this.max+s<t[t.length-1];)t.pop();0===t.length&&h(o)&&t.push((n+o)/2)},alignToOthers:function(){var t,e={},i=this.options;return this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&Ht(this.chart[this.coll],function(i){var o=i.options,o=[i.horiz?o.left:o.top,o.width,o.height,o.pane].join(",");i.series.length&&(e[o]?t=!0:e[o]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!h(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=pt(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,o=this.finalTickAmt,n=e&&e.length;if(i>n){for(;e.length<i;)e.push(C(e[e.length-1]+t));this.transA*=(n-1)/(i-1),this.max=e[e.length-1]}else n>i&&(this.tickInterval*=2,this.setTickPositions());if(h(o)){for(t=i=e.length;t--;)(3===o&&t%2===1||2>=o&&t>0&&i-1>t)&&e.splice(t,1);this.finalTickAmt=E}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,Ht(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,i,o,n){var s=this,r=s.chart,i=Qt(i,!0);Ht(s.series,function(t){delete t.kdTree}),n=qt(n,{min:t,max:e}),jt(s,"setExtremes",n,function(){s.userMin=t,s.userMax=e,s.eventArgs=n,i&&r.redraw(o)})},zoom:function(t,e){var i=this.dataMin,o=this.dataMax,n=this.options,s=ut(i,Qt(n.min,i)),n=dt(o,Qt(n.max,o));return this.allowZoomOutside||(h(i)&&s>=t&&(t=s),h(o)&&e>=n&&(e=n)),this.displayBtn=t!==E||e!==E,this.setExtremes(t,e,!1,E,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,o=this.horiz,n=Qt(e.width,t.plotWidth-i+(e.offsetRight||0)),s=Qt(e.height,t.plotHeight),r=Qt(e.top,t.plotTop),e=Qt(e.left,t.plotLeft+i),i=/%$/;i.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight)),i.test(r)&&(r=Math.round(parseFloat(r)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=r,this.width=n,this.height=s,this.bottom=t.chartHeight-s-r,this.right=t.chartWidth-n-e,this.len=dt(o?n:s,0),this.pos=o?e:r},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?C(e(this.min)):this.min,max:t?C(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,o=e?i(this.min):this.min,e=e?i(this.max):this.max;return null===t?t=0>e?e:o:o>t?t=o:t>e&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(Qt(t,0)-90*this.side+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],o=Qt(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);return o&&i?("inside"===e[t+"Position"]&&(i=-i),[i,o]):void 0},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,i,o=this.options.labels,n=this.horiz,s=this.tickInterval,r=s,a=this.len/(((this.categories?1:0)+this.max-this.min)/s),l=o.rotation,c=this.labelMetrics(),p=Number.MAX_VALUE,d=function(t){return t/=a||1,t=t>1?pt(t):1,t*s};return n?(i=!o.staggerLines&&!o.step&&(h(l)?[l]:a<Qt(o.autoRotationLimit,80)&&o.autoRotation))&&Ht(i,function(i){var o;(i===l||i&&i>=-90&&90>=i)&&(e=d(gt(c.h/mt(yt*i))),o=e+gt(i/360),p>o&&(p=o,t=i,r=e))}):o.step||(r=d(c.h)),this.autoRotation=i,this.labelRotation=Qt(t,l),r},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=t.margin[3];return e&&(i.step||0)<2&&!i.rotation&&(this.staggerLines||1)*t.plotWidth/o||!e&&(n&&n-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n=this.chart,r=n.renderer,a=this.tickPositions,l=this.ticks,h=this.options.labels,c=this.horiz,p=this.getSlotWidth(),d=dt(1,ht(p-2*(h.padding||5))),u={},g=this.labelMetrics(),f=h.style.textOverflow,m=0;if(s(h.rotation)||(u.rotation=h.rotation||0),this.autoRotation)Ht(a,function(t){(t=l[t])&&t.labelLength>m&&(m=t.labelLength)}),m>d&&m>g.h?u.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(t={width:d+"px"},!f))for(t.textOverflow="clip",e=a.length;!c&&e--;)i=a[e],(d=l[i].label)&&("ellipsis"===d.styles.textOverflow?d.css({textOverflow:"clip"}):l[i].labelLength>p&&d.css({width:p+"px"}),d.getBBox().height>this.len/a.length-(g.h-g.f)&&(d.specCss={textOverflow:"ellipsis"}));u.rotation&&(t={width:(m>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px"},!f)&&(t.textOverflow="ellipsis"),(this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation))&&(u.align=this.labelAlign),Ht(a,function(e){var i=(e=l[e])&&e.label;i&&(i.attr(u),t&&i.css(o(t,i.specCss)),delete i.specCss,e.rotation=u.rotation)}),this.tickRotCorr=r.rotCorr(g.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||h(this.min)&&h(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,i,o,n=this,s=n.chart,r=s.renderer,a=n.options,l=n.tickPositions,c=n.ticks,p=n.horiz,d=n.side,u=s.inverted?[1,0,3,2][d]:d,g=0,f=0,m=a.title,x=a.labels,y=0,v=n.opposite,b=s.axisOffset,s=s.clipOffset,w=[-1,1,1,-1][d],k=n.axisParent,A=this.tickSize("tick");if(t=n.hasData(),n.showAxis=e=t||Qt(a.showEmpty,!0),n.staggerLines=n.horiz&&x.staggerLines,n.axisGroup||(n.gridGroup=r.g("grid").attr({zIndex:a.gridZIndex||1}).add(k),n.axisGroup=r.g("axis").attr({zIndex:a.zIndex||2}).add(k),n.labelGroup=r.g("axis-labels").attr({zIndex:x.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels").add(k)),t||n.isLinked)Ht(l,function(t){c[t]?c[t].addLabel():c[t]=new O(n,t)}),n.renderUnsquish(),x.reserveSpace!==!1&&(0===d||2===d||{1:"left",3:"right"}[d]===n.labelAlign||"center"===n.labelAlign)&&Ht(l,function(t){y=dt(c[t].getLabelSize(),y)}),n.staggerLines&&(y*=n.staggerLines,n.labelOffset=y*(n.opposite?-1:1));else for(o in c)c[o].destroy(),delete c[o];m&&m.text&&m.enabled!==!1&&(n.axisTitle||((o=m.textAlign)||(o=(p?{low:"left",middle:"center",high:"right"}:{low:v?"right":"left",middle:"center",high:v?"left":"right"})[m.align]),n.axisTitle=r.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:o}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(n.axisGroup),n.axisTitle.isNew=!0),e&&(g=n.axisTitle.getBBox()[p?"height":"width"],i=m.offset,f=h(i)?0:Qt(m.margin,p?5:10)),n.axisTitle[e?"show":"hide"](!0)),n.offset=w*Qt(a.offset,b[d]),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},r=0===d?-n.labelMetrics().h:2===d?n.tickRotCorr.y:0,f=Math.abs(y)+f,y&&(f-=r,f+=w*(p?Qt(x.y,n.tickRotCorr.y+8*w):x.x)),n.axisTitleMargin=Qt(i,f),b[d]=dt(b[d],n.axisTitleMargin+g+w*n.offset,f,t&&l.length&&A?A[0]:0),a=a.offset?0:2*ct(a.lineWidth/2),s[u]=dt(s[u],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,o=this.offset,n=this.horiz,s=this.left+(i?this.width:0)+o,o=e.chartHeight-this.bottom-(i?this.height:0)+o;return i&&(t*=-1),e.renderer.crispLine(["M",n?this.left:s,n?o:this.top,"L",n?e.chartWidth-this.right:s,n?o:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,o=this.len,s=this.options.title,r=t?e:i,a=this.opposite,l=this.offset,h=s.x||0,c=s.y||0,p=n(s.style.fontSize||12),o={low:r+(t?0:o),middle:r+o/2,high:r+(t?o:0)}[s.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?p:0);return{x:t?o+h:e+(a?this.width:0)+l+h,y:t?e+c-(a?this.height:0)+l:o+c}},render:function(){var t,e,i,o=this,n=o.chart,s=n.renderer,r=o.options,a=o.isLog,l=o.lin2log,h=o.isLinked,c=o.tickPositions,p=o.axisTitle,u=o.ticks,g=o.minorTicks,f=o.alternateBands,m=r.stackLabels,x=r.alternateGridColor,y=o.tickmarkOffset,v=r.lineWidth,b=n.hasRendered&&Jt(o.oldMin),w=o.showAxis,k=L(s.globalAnimation);o.labelEdge.length=0,o.overlap=!1,Ht([u,g,f],function(t){for(var e in t)t[e].isActive=!1}),(o.hasData()||h)&&(o.minorTickInterval&&!o.categories&&Ht(o.getMinorTickPositions(),function(t){g[t]||(g[t]=new O(o,t,"minor")),b&&g[t].isNew&&g[t].render(null,!0),g[t].render(null,!1,1)}),c.length&&(Ht(c,function(t,e){(!h||t>=o.min&&t<=o.max)&&(u[t]||(u[t]=new O(o,t)),b&&u[t].isNew&&u[t].render(e,!0,.1),u[t].render(e))}),y&&(0===o.min||o.single))&&(u[-1]||(u[-1]=new O(o,-1,null,!0)),u[-1].render(-1)),x&&Ht(c,function(t,s){i=c[s+1]!==E?c[s+1]+y:o.max-y,s%2===0&&t<o.max&&i<=o.max+(n.polar?-y:y)&&(f[t]||(f[t]=new rt.PlotLineOrBand(o)),e=t+y,f[t].options={from:a?l(e):e,to:a?l(i):i,color:x},f[t].render(),f[t].isActive=!0)}),o._addedPlotLB||(Ht((r.plotLines||[]).concat(r.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),Ht([u,g,f],function(t){var e,i,o=[],s=k.duration;for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,o.push(e));d(function(){for(i=o.length;i--;)t[o[i]]&&!t[o[i]].isActive&&(t[o[i]].destroy(),delete t[o[i]])},t!==f&&n.hasRendered&&s?s:0)}),v&&(t=o.getLinePath(v),o.axisLine?o.axisLine.animate({d:t}):o.axisLine=s.path(t).attr({stroke:r.lineColor,"stroke-width":v,zIndex:7}).add(o.axisGroup),o.axisLine[w?"show":"hide"](!0)),p&&w&&(p[p.isNew?"attr":"animate"](o.getTitlePosition()),p.isNew=!1),m&&m.enabled&&o.renderStackTotals(),o.isDirty=!1},redraw:function(){this.visible&&(this.render(),Ht(this.plotLinesAndBands,function(t){t.render()})),Ht(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,i=this,o=i.stacks,n=i.plotLinesAndBands;t||Ut(i);for(e in o)S(o[e]),o[e]=null;for(Ht([i.ticks,i.minorTicks,i.alternateBands],function(t){S(t)}),t=n.length;t--;)n[t].destroy();Ht("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var i,o,n,s=this.crosshair;this.crosshair&&(h(e)||!Qt(s.snap,!0))!==!1?(Qt(s.snap,!0)?h(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:Qt(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():(o=this.categories&&!this.isRadial,n=Qt(s.width,o?this.transA:1),this.cross?this.cross.attr({d:i,visibility:"visible","stroke-width":n}):(o={"pointer-events":"none","stroke-width":n,stroke:s.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:Qt(s.zIndex,2)},s.dashStyle&&(o.dashstyle=s.dashStyle),this.cross=this.chart.renderer.path(i).attr(o).add()))):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},qt(ae.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),o=this.getPlotLinePath(t,null,null,!0);return o&&i?(o.flat=o.toString()===i.toString(),o.push(i[4],i[5],i[1],i[2])):o=null,o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new rt.PlotLineOrBand(this,t).render(),o=this.userOptions;return i&&(e&&(o[e]=o[e]||[],o[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,o=this.userOptions,n=e.length;n--;)e[n].id===t&&e[n].destroy();Ht([i.plotLines||[],o.plotLines||[],i.plotBands||[],o.plotBands||[]],function(e){for(n=e.length;n--;)e[n].id===t&&l(e,e[n])})}}),ae.prototype.getTimeTicks=function(t,e,i,o){var n,s=[],r={},a=G.global.useUTC,l=new N(e-x(e)),c=t.unitRange,p=t.count;if(h(e)){l[Q](c>=F.second?0:p*ct(l.getMilliseconds()/p)),c>=F.second&&l[tt](c>=F.minute?0:p*ct(l.getSeconds()/p)),c>=F.minute&&l[et](c>=F.hour?0:p*ct(l[j]()/p)),c>=F.hour&&l[it](c>=F.day?0:p*ct(l[Z]()/p)),c>=F.day&&l[ot](c>=F.month?1:p*ct(l[$]()/p)),c>=F.month&&(l[nt](c>=F.year?0:p*ct(l[q]()/p)),n=l[J]()),c>=F.year&&(n-=n%p,l[st](n)),c===F.week&&l[ot](l[$]()-l[K]()+Qt(o,1)),e=1,(_||U)&&(l=l.getTime(),l=new N(l+x(l))),n=l[J]();for(var o=l.getTime(),d=l[q](),u=l[$](),g=!a||!!U,f=(F.day+(a?x(l):6e4*l.getTimezoneOffset()))%F.day;i>o;)s.push(o),c===F.year?o=V(n+e*p,0):c===F.month?o=V(n,d+e*p):!g||c!==F.day&&c!==F.week?o+=c*p:o=V(n,d,u+e*p*(c===F.day?1:7)),e++;s.push(o),Ht(Ft(s,function(t){return c<=F.hour&&t%F.day===f}),function(t){r[t]="day"})}return s.info=qt(t,{higherRanks:r,totalRange:c*p}),s},ae.prototype.normalizeTimeTickInterval=function(t,e){var i,o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],n=o[o.length-1],s=F[n[0]],r=n[1];for(i=0;i<o.length&&(n=o[i],s=F[n[0]],r=n[1],!(o[i+1]&&t<=(s*r[r.length-1]+F[o[i+1][0]])/2));i++);return s===F.year&&5*s>t&&(r=[1,2,5]),o=b(t/s,r,"year"===n[0]?dt(v(t/s),1):1),{unitRange:s,count:o,unitName:n[0]}},ae.prototype.getLogTickPositions=function(t,e,i,o){var n=this.options,s=this.len,r=this.lin2log,a=this.log2lin,l=[];if(o||(this._minorAutoInterval=null),t>=.5)t=ht(t),l=this.getLinearTickPositions(t,e,i);else if(t>=.08)for(var h,c,p,d,u,s=ct(e),n=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>s&&!u;s++)for(c=n.length,h=0;c>h&&!u;h++)p=a(r(s)*n[h]),p>e&&(!o||i>=d)&&d!==E&&l.push(d),d>i&&(u=!0),d=p;else e=r(e),i=r(i),t=n[o?"minorTickInterval":"tickInterval"],t=Qt("auto"===t?null:t,this._minorAutoInterval,(i-e)*(n.tickPixelInterval/(o?5:1))/((o?s/this.tickPositions.length:s)||1)),t=b(t,null,v(t)),l=Vt(this.getLinearTickPositions(t,e,i),a),o||(this._minorAutoInterval=t/5);return o||(this.tickInterval=t),l},ae.prototype.log2lin=function(t){return lt.log(t)/lt.LN10},ae.prototype.lin2log=function(t){return lt.pow(10,t)};var le=rt.Tooltip=function(){this.init.apply(this,arguments)};le.prototype={init:function(t,e){var i=e.borderWidth,o=e.style,s=n(o.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:s,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),Tt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,o){var n=this,s=n.now,r=n.options.animation!==!1&&!n.isHidden&&(gt(t-s.x)>1||gt(e-s.y)>1),a=n.followPointer||n.len>1;qt(s,{x:r?(2*s.x+t)/3:t,y:r?(s.y+e)/2:e,anchorX:a?E:r?(2*s.anchorX+i)/3:i,anchorY:a?E:r?(s.anchorY+o)/2:o}),n.label.attr(s),r&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){n&&n.move(t,e,i,o)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=Qt(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,o,n,s=this.chart,r=s.inverted,a=s.plotTop,l=s.plotLeft,h=0,c=0,t=p(t);return i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===E&&(e=s.pointer.normalize(e)),i=[e.chartX-s.plotLeft,e.chartY-a]),i||(Ht(t,function(t){o=t.series.yAxis,n=t.series.xAxis,h+=t.plotX+(!r&&n?n.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!r&&o?o.top-a:0)}),h/=t.length,c/=t.length,i=[r?s.plotWidth-c:h,this.shared&&!r&&t.length>1&&e?e.chartY-a:r?s.plotHeight-h:c]),Vt(i,ht)},getPosition:function(t,e,i){var o,n=this.chart,s=this.distance,r={},a=i.h||0,l=["y",n.chartHeight,e,i.plotY+n.plotTop,n.plotTop,n.plotTop+n.plotHeight],h=["x",n.chartWidth,t,i.plotX+n.plotLeft,n.plotLeft,n.plotLeft+n.plotWidth],c=!this.followPointer&&Qt(i.ttBelow,!n.inverted==!!i.negative),p=function(t,e,i,o,n,l){var h=o-s>i,p=e>o+s+i,d=o-s-i;if(o+=s,c&&p)r[t]=o;else if(!c&&h)r[t]=d;else if(h)r[t]=ut(l-i,0>d-a?d:d-a);else{if(!p)return!1;r[t]=dt(n,o+a+i>e?o:o+a)}},d=function(t,e,i,o){var n;return s>o||o>e-s?n=!1:r[t]=i/2>o?1:o>e-i/2?e-i-2:o-i/2,n},u=function(t){var e=l;l=h,h=e,o=t},g=function(){p.apply(0,l)!==!1?d.apply(0,h)===!1&&!o&&(u(!0),g()):o?r.x=r.y=0:(u(!0),g())};return(n.inverted||this.len>1)&&u(),g(),r},defaultFormatter:function(t){var e,i=this.points||p(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e.join("")},refresh:function(t,e){var i,o,n,s,r=this.chart,a=this.label,l=this.options,h={},c=[];s=l.formatter||this.defaultFormatter;var d,h=r.hoverPoints,u=this.shared;clearTimeout(this.hideTimer),this.followPointer=p(t)[0].series.tooltipOptions.followPointer,n=this.getAnchor(t,e),i=n[0],o=n[1],!u||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(r.hoverPoints=t,h&&Ht(h,function(t){t.setState()}),Ht(t,function(t){t.setState("hover"),c.push(t.getLabelConfig())}),h={x:t[0].category,y:t[0].y},h.points=c,this.len=c.length,t=t[0]),s=s.call(h,this),h=t.series,this.distance=Qt(h.tooltipOptions.distance,16),s===!1?this.hide():(this.isHidden&&(Kt(a),a.attr("opacity",1).show()),a.attr({text:s}),d=l.borderColor||t.color||h.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:o,negative:t.negative,ttBelow:t.ttBelow,h:n[2]||0}),this.isHidden=!1),jt(r,"tooltipRefresh",{text:s,x:i+r.plotLeft,y:o+r.plotTop,borderColor:d})},updatePosition:function(t){var e=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(ht(i.x),ht(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,i){var o,n,s,e=e.dateTimeLabelFormats,r=i&&i.closestPointRange,a={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";if(r){s=H("%m-%d %H:%M:%S.%L",t.x);for(n in F){if(r===F.week&&+H("%w",t.x)===i.options.startOfWeek&&"00:00:00.000"===s.substr(6)){n="week";break}if(F[n]>r){n=l;break}if(a[n]&&s.substr(a[n])!=="01-01 00:00:00.000".substr(a[n]))break;"week"!==n&&(l=n)}n&&(o=e[n])}else o=e.day;return o||e.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",o=t.series,n=o.tooltipOptions,s=n.xDateFormat,r=o.xAxis,a=r&&"datetime"===r.options.type&&Jt(t.key),i=n[i+"Format"];return a&&!s&&(s=this.getXDateFormat(t,n,r)),a&&s&&(i=i.replace("{point.key}","{point.key:"+s+"}")),y(i,{point:t,series:o})},bodyFormatter:function(t){return Vt(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var he;W=at&&at.documentElement.ontouchstart!==E;var ce=rt.Pointer=function(t,e){this.init(t,e)};if(ce.prototype={init:function(t,e){var i,o=e.chart,n=o.events,s=Tt?"":o.zoomType,o=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(s),this.zoomY=s=/y/.test(s),this.zoomHor=i&&!o||s&&o,this.zoomVert=s&&!o||i&&o,this.hasZoom=i||s,this.runChartClick=n&&!!n.click,this.pinchDown=[],this.lastValidTouch={},rt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new le(t,e.tooltip),this.followTouchMove=Qt(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,i){var o,n,e=e||t.event;return e.target||(e.target=e.srcElement),n=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,i||(this.chartPosition=i=Nt(this.chart.container)),n.pageX===E?(o=dt(e.x,e.clientX-i.left),n=e.y):(o=n.pageX-i.left,n=n.pageY-i.top),qt(e,{chartX:ht(o),chartY:ht(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return Ht(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,i,o,n,s=this.chart,r=s.series,a=s.tooltip,l=a?a.shared:!1,h=s.hoverPoint,c=s.hoverSeries,p=[Number.MAX_VALUE,Number.MAX_VALUE],d=[],u=[];if(!l&&!c)for(e=0;e<r.length;e++)(r[e].directTouch||!r[e].options.stickyTracking)&&(r=[]);if(c&&(l?c.noSharedTooltip:c.directTouch)&&h?u=[h]:(Ht(r,function(e){i=e.noSharedTooltip&&l,o=!l&&e.directTouch,e.visible&&!i&&!o&&Qt(e.options.enableMouseTracking,!0)&&(n=e.searchPoint(t,!i&&1===e.kdDimensions))&&d.push(n)}),Ht(d,function(t){t&&Ht(["dist","distX"],function(e,i){if(Jt(t[e])){var o=t[e]===p[i]&&t.series.group.zIndex>=u[i].series.group.zIndex;(t[e]<p[i]||o)&&(p[i]=t[e],u[i]=t)}})})),l)for(e=d.length;e--;)(d[e].clientX!==u[1].clientX||d[e].series.noSharedTooltip)&&d.splice(e,1);u[0]&&(u[0]!==this.prevKDPoint||a&&a.isHidden)?l&&!u[0].series.noSharedTooltip?(d.length&&a&&a.refresh(d,t),Ht(d,function(e){e.onMouseOver(t,e!==(c&&c.directTouch&&h||u[0]))}),this.prevKDPoint=u[1]):(a&&a.refresh(u[0],t),c&&c.directTouch||u[0].onMouseOver(t),this.prevKDPoint=u[0]):(r=c&&c.tooltipOptions.followPointer,a&&r&&!a.isHidden&&(r=a.getAnchor([{}],t),a.updatePosition({plotX:r[0],plotY:r[1]}))),this._onDocumentMouseMove||(this._onDocumentMouseMove=function(t){Bt[he]&&Bt[he].pointer.onDocumentMouseMove(t)},_t(at,"mousemove",this._onDocumentMouseMove)),Ht(l?d:[Qt(h,u[1])],function(e){Ht(s.axes,function(i){(!e||e.series[i.coll]===i)&&i.drawCrosshair(t,e)})})},reset:function(t,e){var i=this.chart,o=i.hoverSeries,n=i.hoverPoint,s=i.hoverPoints,r=i.tooltip,a=r&&r.shared?s:n;t&&a&&Ht(p(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?r&&a&&(r.refresh(a),n&&(n.setState(n.state,!0),Ht(i.axes,function(t){Qt(t.crosshair&&t.crosshair.snap,!0)?t.drawCrosshair(null,n):t.hideCrosshair()}))):(n&&n.onMouseOut(),s&&Ht(s,function(t){t.setState()}),o&&o.onMouseOut(),r&&r.hide(e),this._onDocumentMouseMove&&(Ut(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Ht(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,o=this.chart;Ht(o.series,function(n){i=t||n.getPlotBox(),n.xAxis&&n.xAxis.zoomEnabled&&(n.group.attr(i),n.markerGroup&&(n.markerGroup.attr(i),n.markerGroup.clip(e?o.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(i))}),o.clipRect.attr(e||o.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,o=i.options.chart,n=t.chartX,s=t.chartY,r=this.zoomHor,a=this.zoomVert,l=i.plotLeft,h=i.plotTop,c=i.plotWidth,p=i.plotHeight,d=this.selectionMarker,u=this.mouseDownX,g=this.mouseDownY,f=o.panKey&&t[o.panKey+"Key"];d&&d.touch||(l>n?n=l:n>l+c&&(n=l+c),h>s?s=h:s>h+p&&(s=h+p),this.hasDragged=Math.sqrt(Math.pow(u-n,2)+Math.pow(g-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(u-l,g-h),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!f&&!d&&(this.selectionMarker=d=i.renderer.rect(l,h,r?1:c,a?1:p,0).attr({fill:o.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),d&&r&&(n-=u,d.attr({width:gt(n),x:(n>0?0:n)+u})),d&&a&&(n=s-g,d.attr({height:gt(n),y:(n>0?0:n)+g})),e&&!d&&o.panning&&i.pan(t,o.panning)))},drop:function(t){var e=this,i=this.chart,o=this.hasPinched;if(this.selectionMarker){var n,s={originalEvent:t,xAxis:[],yAxis:[]},r=this.selectionMarker,a=r.attr?r.attr("x"):r.x,l=r.attr?r.attr("y"):r.y,c=r.attr?r.attr("width"):r.width,p=r.attr?r.attr("height"):r.height;(this.hasDragged||o)&&(Ht(i.axes,function(i){if(i.zoomEnabled&&h(i.min)&&(o||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var r=i.horiz,d="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((r?a:l)+d),r=i.toValue((r?a+c:l+p)-d);s[i.coll].push({axis:i,min:ut(u,r),max:dt(u,r)}),n=!0}}),n&&jt(i,"selection",s,function(t){i.zoom(qt(t,o?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),o&&this.scaleGroups()}i&&(u(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Bt[he]&&Bt[he].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,t=this.normalize(t,i);i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(t){var e=Bt[he];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;h(he)&&Bt[he]&&Bt[he].mouseIsDown||(he=e.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),(this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop))&&!e.openMenu&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=c(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,t=t.relatedTarget||t.toElement;!e||!t||e.options.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,o=e.plotLeft,n=e.plotTop,t=this.normalize(t);e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(jt(i.series,"click",qt(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(qt(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-o,t.chartY-n)&&jt(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},_t(e,"mouseleave",t.onContainerMouseLeave),1===zt&&_t(at,"mouseup",t.onDocumentMouseUp),W&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===zt&&_t(at,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;Ut(this.chart.container,"mouseleave",this.onContainerMouseLeave),zt||(Ut(at,"mouseup",this.onDocumentMouseUp),Ut(at,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},qt(rt.Pointer.prototype,{pinchTranslate:function(t,e,i,o,n,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,i,o,n,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,i,o,n,s)},pinchTranslateDirection:function(t,e,i,o,n,s,r,a){var l,h,c,p=this.chart,d=t?"x":"y",u=t?"X":"Y",g="chart"+u,f=t?"width":"height",m=p["plot"+(t?"Left":"Top")],x=a||1,y=p.inverted,v=p.bounds[t?"h":"v"],b=1===e.length,w=e[0][g],k=i[0][g],A=!b&&e[1][g],S=!b&&i[1][g],i=function(){!b&&gt(w-A)>20&&(x=a||gt(k-S)/gt(w-A)),h=(m-k)/x+w,l=p["plot"+(t?"Width":"Height")]/x};i(),e=h,e<v.min?(e=v.min,c=!0):e+l>v.max&&(e=v.max-l,c=!0),c?(k-=.8*(k-r[d][0]),b||(S-=.8*(S-r[d][1])),i()):r[d]=[k,S],y||(s[d]=h-m,s[f]=l),s=y?1/x:x,n[f]=l,n[d]=e,o[y?t?"scaleY":"scaleX":"scale"+u]=x,o["translate"+u]=s*m+(k-s*w)},pinch:function(t){var e=this,i=e.chart,o=e.pinchDown,n=t.touches,s=n.length,r=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,h={},c=1===s&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};s>1&&(e.initiated=!0),a&&e.initiated&&!c&&t.preventDefault(),Vt(n,function(t){return e.normalize(t)}),"touchstart"===t.type?(Ht(n,function(t,e){o[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[o[0].chartX,o[1]&&o[1].chartX],r.y=[o[0].chartY,o[1]&&o[1].chartY],Ht(i.axes,function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],o=t.minPixelPadding,n=t.toPixels(Qt(t.options.min,t.dataMin)),s=t.toPixels(Qt(t.options.max,t.dataMax)),r=ut(n,s),n=dt(n,s);e.min=ut(t.pos,r-o),e.max=dt(t.pos+t.len,n+o)}}),e.res=!0):o.length&&(l||(e.selectionMarker=l=qt({destroy:Ot,touch:!0},i.plotBox)),e.pinchTranslate(o,n,h,l,p,r),e.hasPinched=a,e.scaleGroups(h,p),!a&&e.followTouchMove&&1===s?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i,o=this.chart;he=o.index,1===t.touches.length?(t=this.normalize(t),o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop)&&!o.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(o=this.pinchDown,i=o[0]?Math.sqrt(Math.pow(o[0].chartX-t.chartX,2)+Math.pow(o[0].chartY-t.chartY,2))>=4:!1),Qt(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Bt[he]&&Bt[he].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var pe={},de=!!t.PointerEvent,ue=function(){var t,e=[];e.item=function(t){return this[t]};for(t in pe)pe.hasOwnProperty(t)&&e.push({pageX:pe[t].pageX,pageY:pe[t].pageY,target:pe[t].target});return e},ge=function(t,e,i,o){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Bt[he]||(o(t),o=Bt[he].pointer,o[e]({type:i,target:t.currentTarget,preventDefault:Ot,touches:ue()}))};qt(ce.prototype,{onContainerPointerDown:function(t){ge(t,"onContainerTouchStart","touchstart",function(t){pe[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){ge(t,"onContainerTouchMove","touchmove",function(t){pe[t.pointerId]={pageX:t.pageX,pageY:t.pageY
},pe[t.pointerId].target||(pe[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){ge(t,"onDocumentTouchEnd","touchend",function(t){delete pe[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,de?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,de?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(at,de?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),te(ce.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&u(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),te(ce.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(_t)}),te(ce.prototype,"destroy",function(t){this.batchMSEvents(Ut),t.call(this)})}var fe=rt.Legend=function(t,e){this.init(t,e)};fe.prototype={init:function(t,e){var i=this,n=e.itemStyle,s=e.itemMarginTop||0;this.options=e,e.enabled&&(i.itemStyle=n,i.itemHiddenStyle=o(n,e.itemHiddenStyle),i.itemMarginTop=s,i.padding=n=Qt(e.padding,8),i.initialItemX=n,i.initialItemY=n-5,i.maxItemWidth=0,i.chart=t,i.itemHeight=0,i.symbolWidth=Qt(e.symbolWidth,16),i.pages=[],i.render(),_t(i.chart,"endResize",function(){i.positionCheckboxes()}))},colorizeItem:function(t,e){var i,o=this.options,n=t.legendItem,s=t.legendLine,r=t.legendSymbol,a=this.itemHiddenStyle.color,o=e?o.itemStyle.color:a,l=e?t.legendColor||t.color||"#CCC":a,a=t.options&&t.options.marker,h={fill:l};if(n&&n.css({fill:o,color:o}),s&&s.attr({stroke:l}),r){if(a&&r.isMarker)for(i in h.stroke=l,a=t.convertAttribs(a))n=a[i],n!==E&&(h[i]=n);r.attr(h)}},positionItem:function(t){var e=this.options,i=e.symbolPadding,e=!e.rtl,o=t._legendItemPos,n=o[0],o=o[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?n:this.legendWidth-n-2*i-4,o),s&&(s.x=n,s.y=o)},destroyItem:function(t){var e=t.checkbox;Ht(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&M(t.checkbox)},destroy:function(){var t=this.group,e=this.box;e&&(this.box=e.destroy()),t&&(this.group=t.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,o=this.clipHeight||this.legendHeight,n=this.titleHeight;i&&(e=i.translateY,Ht(this.allItems,function(s){var r,a=s.checkbox;a&&(r=e+n+a.y+(t||0)+3,u(a,{left:i.translateX+s.checkboxOffset+a.x-20+"px",top:r+"px",display:r>e-6&&e+o-6>r?"":"none"}))}))},renderTitle:function(){var t=this.padding,e=this.options.title,i=0;e.text&&(this.title||(this.title=this.chart.renderer.label(e.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(e.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?y(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,n=this.options,s="horizontal"===n.layout,r=this.symbolWidth,a=n.symbolPadding,l=this.itemStyle,h=this.itemHiddenStyle,c=this.padding,p=s?Qt(n.itemDistance,20):0,d=!n.rtl,u=n.width,g=n.itemMarginBottom||0,f=this.itemMarginTop,m=this.initialItemX,x=t.legendItem,y=t.series&&t.series.drawLegendSymbol?t.series:t,v=y.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,b=n.useHTML;x||(t.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=x=i.text("",d?r+a:-a,this.baseline||0,b).css(o(t.visible?l:h)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(l.fontSize,x),this.baseline=this.fontMetrics.f+3+f,x.attr("y",this.baseline)),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,x,b,l,h),v&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),this.setText(t),i=x.getBBox(),r=t.checkboxOffset=n.itemWidth||t.legendItemWidth||r+a+i.width+p+(v?20:0),this.itemHeight=a=ht(t.legendItemHeight||i.height),s&&this.itemX-m+r>(u||e.chartWidth-2*c-m-n.x)&&(this.itemX=m,this.itemY+=f+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=dt(this.maxItemWidth,r),this.lastItemY=f+this.itemY+g,this.lastLineHeight=dt(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=r:(this.itemY+=f+a+g,this.lastLineHeight=a),this.offsetWidth=u||dt((s?this.itemX-m-p:r)+c,this.offsetWidth)},getAllItems:function(){var t=[];return Ht(this.chart.series,function(e){var i=e.options;Qt(i.showInLegend,h(i.linkedTo)?!1:E,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,o=this.options,n=o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0);this.display&&!o.floating&&Ht([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,r){s.test(n)&&!h(t[r])&&(i[Xt[r]]=dt(i[Xt[r]],i.legend[(r+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][r]*o[r%2?"x":"y"]+Qt(o.margin,12)+e[r]))})},render:function(){var t,e,i,o,n=this,s=n.chart,r=s.renderer,a=n.group,l=n.box,h=n.options,c=n.padding,p=h.borderWidth,d=h.backgroundColor;n.itemX=n.initialItemX,n.itemY=n.initialItemY,n.offsetWidth=0,n.lastItemY=0,a||(n.group=a=r.g("legend").attr({zIndex:7}).add(),n.contentGroup=r.g().attr({zIndex:1}).add(a),n.scrollGroup=r.g().add(n.contentGroup)),n.renderTitle(),t=n.getAllItems(),w(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),n.allItems=t,n.display=e=!!t.length,n.lastLineHeight=0,Ht(t,function(t){n.renderItem(t)}),i=(h.width||n.offsetWidth)+c,o=n.lastItemY+n.lastLineHeight+n.titleHeight,o=n.handleOverflow(o),o+=c,(p||d)&&(l?i>0&&o>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:o})),l.isNew=!1):(n.box=l=r.rect(0,0,i,o,h.borderRadius,p||0).attr({stroke:h.borderColor,"stroke-width":p||0,fill:d||"none"}).add(a).shadow(h.shadow),l.isNew=!0),l[e?"show":"hide"]()),n.legendWidth=i,n.legendHeight=o,Ht(t,function(t){n.positionItem(t)}),e&&a.align(qt({width:i,height:o},h),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,o=this,n=this.chart,s=n.renderer,r=this.options,a=r.y,a=n.spacingBox.height+("top"===r.verticalAlign?-a:a)-this.padding,l=r.maxHeight,h=this.clipRect,c=r.navigation,p=Qt(c.animation,!0),d=c.arrowSize||12,u=this.nav,g=this.pages,f=this.padding,m=this.allItems,x=function(t){h.attr({height:t}),o.contentGroup.div&&(o.contentGroup.div.style.clip="rect("+f+"px,9999px,"+(f+t)+"px,0)")};return"horizontal"===r.layout&&(a/=2),l&&(a=ut(a,l)),g.length=0,t>a&&c.enabled!==!1?(this.clipHeight=e=dt(a-20-this.titleHeight-f,0),this.currentPage=Qt(this.currentPage,1),this.fullHeight=t,Ht(m,function(t,o){var n=t._legendItemPos[1],s=ht(t.legendItem.getBBox().height),r=g.length;(!r||n-g[r-1]>e&&(i||n)!==g[r-1])&&(g.push(i||n),r++),o===m.length-1&&n+s-g[r-1]>e&&g.push(n),n!==i&&(i=n)}),h||(h=o.clipRect=s.clipRect(0,f,9999,0),o.contentGroup.clip(h)),x(e),u||(this.nav=u=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,d,d).on("click",function(){o.scroll(-1,p)}).add(u),this.pager=s.text("",15,10).css(c.style).add(u),this.down=s.symbol("triangle-down",0,0,d,d).on("click",function(){o.scroll(1,p)}).add(u)),o.scroll(0),t=a):u&&(x(n.chartHeight),u.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,o=i.length,n=this.currentPage+t,s=this.clipHeight,r=this.options.navigation,a=r.activeColor,r=r.inactiveColor,l=this.pager,h=this.padding;n>o&&(n=o),n>0&&(e!==E&&P(e,this.chart),this.nav.attr({translateX:h,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===n?r:a}).css({cursor:1===n?"default":"pointer"}),l.attr({text:n+"/"+o}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===o?r:a}).css({cursor:n===o?"default":"pointer"}),i=-i[n-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=n,this.positionCheckboxes(i))}},se=rt.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-i+1,t.symbolWidth,i,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,o=i.marker,n=t.symbolWidth,s=this.chart.renderer,r=this.legendGroup,t=t.baseline-ht(.3*t.fontMetrics.b);i.lineWidth&&(e={"stroke-width":i.lineWidth},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=s.path(["M",0,t,"L",n,t]).attr(e).add(r)),o&&o.enabled!==!1&&(i=o.radius,this.legendSymbol=o=s.symbol(this.symbol,n/2-i,t-i,2*i,2*i,o).add(r),o.isMarker=!0)}},(/Trident\/7\.0/.test(vt)||St)&&te(fe.prototype,"positionItem",function(t,e){var i=this,o=function(){e._legendItemPos&&t.call(i,e)};o(),setTimeout(o)});var me=rt.Chart=function(){this.getArgs.apply(this,arguments)};rt.chart=function(t,e,i){return new me(t,e,i)},me.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(s(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var i,n=t.series;t.series=null,i=o(G,t),i.series=t.series=n,this.userOptions=t,n=i.chart,this.margin=this.splashArray("margin",n),this.spacing=this.splashArray("spacing",n);var s=n.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes;var r,a=this;if(a.index=Bt.length,Bt.push(a),zt++,n.reflow!==!1&&_t(a,"load",function(){a.initReflow()}),s)for(r in s)_t(a,r,s[r]);a.xAxis=[],a.yAxis=[],a.animation=Tt?!1:Qt(n.animation,!0),a.pointCount=a.colorCounter=a.symbolCounter=0,a.firstRender()},initSeries:function(t){var i=this.options.chart;return(i=Wt[t.type||i.type||i.defaultSeriesType])||e(17,!0),i=new i,i.init(this,t),i},isInsidePlot:function(t,e,i){var o=i?e:t,t=i?t:e;return o>=0&&o<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(t){var e,i,o=this.axes,n=this.series,s=this.pointer,r=this.legend,a=this.isDirtyLegend,l=this.hasCartesianSeries,h=this.isDirtyBox,c=n.length,p=c,d=this.renderer,u=d.isHidden(),g=[];for(P(t,this),u&&this.cloneRenderTo(),this.layOutTitles();p--;)if(t=n[p],t.options.stacking&&(e=!0,t.isDirty)){i=!0;break}if(i)for(p=c;p--;)t=n[p],t.options.stacking&&(t.isDirty=!0);Ht(n,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),a=!0),t.isDirtyData&&jt(t,"updatedData")}),a&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),e&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Ht(o,function(t){t.setScale()})),this.getMargins(),l&&(Ht(o,function(t){t.isDirty&&(h=!0)}),Ht(o,function(t){var i=t.min+","+t.max;t.extKey!==i&&(t.extKey=i,g.push(function(){jt(t,"afterSetExtremes",qt(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||e)&&t.redraw()})),h&&this.drawChartBox(),Ht(n,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),s&&s.reset(!0),d.draw(),jt(this,"redraw"),u&&this.cloneRenderTo(!0),Ht(g,function(t){t.call()})},get:function(t){var e,i,o=this.axes,n=this.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<n.length;e++)if(n[e].options.id===t)return n[e];for(e=0;e<n.length;e++)for(i=n[e].points||[],o=0;o<i.length;o++)if(i[o].id===t)return i[o];return null},getAxes:function(){var t=this,e=this.options,i=e.xAxis=p(e.xAxis||{}),e=e.yAxis=p(e.yAxis||{});Ht(i,function(t,e){t.index=e,t.isX=!0}),Ht(e,function(t,e){t.index=e}),i=i.concat(e),Ht(i,function(e){new ae(t,e)})},getSelectedPoints:function(){var t=[];return Ht(this.series,function(e){t=t.concat(Ft(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return Ft(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,s,r=this,a=r.options;s=a.title=o(a.title,t),n=a.subtitle=o(a.subtitle,e),a=n,Ht([["title",t,s],["subtitle",e,a]],function(t){var e=t[0],i=r[e],o=t[1],t=t[2];i&&o&&(r[e]=i=i.destroy()),t&&t.text&&!i&&(r[e]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+e,zIndex:t.zIndex||4}).css(t.style).add())}),r.layOutTitles(i)},layOutTitles:function(t){var e=0,i=this.title,o=this.subtitle,n=this.options,s=n.title,n=n.subtitle,r=this.renderer,a=this.spacingBox;!i||(i.css({width:(s.width||a.width+s.widthAdjust)+"px"}).align(qt({y:r.fontMetrics(s.style.fontSize,i).b-3},s),!1,a),s.floating||s.verticalAlign)||(e=i.getBBox().height),o&&(o.css({width:(n.width||a.width+n.widthAdjust)+"px"}).align(qt({y:e+(s.margin-13)+r.fontMetrics(n.style.fontSize,i).b},n),!1,a),!n.floating&&!n.verticalAlign&&(e=pt(e+o.getBBox().height))),i=this.titleOffset!==e,this.titleOffset=e,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&Qt(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width,t=t.height,i=this.renderToClone||this.renderTo;h(e)||(this.containerWidth=Yt(i,"width")),h(t)||(this.containerHeight=Yt(i,"height")),this.chartWidth=dt(0,e||this.containerWidth||600),this.chartHeight=dt(0,Qt(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),M(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),u(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),at.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var t,i,o,r=this.options,a=r.chart;t=this.renderTo;var l="highcharts-"+It++;t||(this.renderTo=t=a.renderTo),s(t)&&(this.renderTo=t=at.getElementById(t)),t||e(13,!0),i=n(c(t,"data-highcharts-chart")),Jt(i)&&Bt[i]&&Bt[i].hasRendered&&Bt[i].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!a.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),i=this.chartWidth,o=this.chartHeight,this.container=t=g(Rt,{className:"highcharts-container"+(a.className?" "+a.className:""),id:l},qt({position:"relative",overflow:"hidden",width:i+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=new(rt[a.renderer]||X)(t,i,o,a.style,a.forExport,r.exporting&&r.exporting.allowHTML),Tt&&this.renderer.create(this,t,i,o),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,o=this.titleOffset;this.resetMargins(),o&&!h(i[0])&&(this.plotTop=dt(this.plotTop,o+this.options.title.margin+e[0])),this.legend.adjustMargins(i,e),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&Ht(t.axes,function(t){t.visible&&t.getOffset()}),Ht(Xt,function(o,n){h(i[n])||(t[o]+=e[n])}),t.setChartSize()},reflow:function(e){var i=this,o=i.options.chart,n=i.renderTo,s=o.width||Yt(n,"width"),r=o.height||Yt(n,"height"),o=e?e.target:t;i.hasUserSize||i.isPrinting||!s||!r||o!==t&&o!==at||((s!==i.containerWidth||r!==i.containerHeight)&&(clearTimeout(i.reflowTimeout),i.reflowTimeout=d(function(){i.container&&(i.setSize(s,r,!1),i.hasUserSize=null)},e?100:0)),i.containerWidth=s,i.containerHeight=r)},initReflow:function(){var e=this,i=function(t){e.reflow(t)};_t(t,"resize",i),_t(e,"destroy",function(){Ut(t,"resize",i)})},setSize:function(t,e,i){var o,n,s=this,r=s.renderer;s.isResizing+=1,P(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,h(t)&&(s.chartWidth=o=dt(0,ht(t)),s.hasUserSize=!!o),h(e)&&(s.chartHeight=n=dt(0,ht(e))),t=r.globalAnimation,(t?Zt:u)(s.container,{width:o+"px",height:n+"px"},t),s.setChartSize(!0),r.setSize(o,n,i),s.maxTicks=null,Ht(s.axes,function(t){t.isDirty=!0,t.setScale()}),Ht(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,jt(s,"resize"),d(function(){s&&jt(s,"endResize",null,function(){s.isResizing-=1})},L(t).duration)},setChartSize:function(t){var e,i,o,n,s=this.inverted,r=this.renderer,a=this.chartWidth,l=this.chartHeight,h=this.options.chart,c=this.spacing,p=this.clipOffset;this.plotLeft=e=ht(this.plotLeft),this.plotTop=i=ht(this.plotTop),this.plotWidth=o=dt(0,ht(a-e-this.marginRight)),this.plotHeight=n=dt(0,ht(l-i-this.marginBottom)),this.plotSizeX=s?n:o,this.plotSizeY=s?o:n,this.plotBorderWidth=h.plotBorderWidth||0,this.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=r.plotBox={x:e,y:i,width:o,height:n},a=2*ct(this.plotBorderWidth/2),s=pt(dt(a,p[3])/2),r=pt(dt(a,p[0])/2),this.clipBox={x:s,y:r,width:ct(this.plotSizeX-dt(a,p[1])/2-s),height:dt(0,ct(this.plotSizeY-dt(a,p[2])/2-r))},t||Ht(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;Ht(Xt,function(e,i){t[e]=Qt(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,o=this.chartWidth,n=this.chartHeight,s=this.chartBackground,r=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,h=e.borderWidth||0,c=e.backgroundColor,p=e.plotBackgroundColor,d=e.plotBackgroundImage,u=e.plotBorderWidth||0,g=this.plotLeft,f=this.plotTop,m=this.plotWidth,x=this.plotHeight,y=this.plotBox,v=this.clipRect,b=this.clipBox;t=h+(e.shadow?8:0),(h||c)&&(s?s.animate(s.crisp({width:o-t,height:n-t})):(s={fill:c||"none"},h&&(s.stroke=e.borderColor,s["stroke-width"]=h),this.chartBackground=i.rect(t/2,t/2,o-t,n-t,e.borderRadius,h).attr(s).addClass("highcharts-background").add().shadow(e.shadow))),p&&(r?r.animate(y):this.plotBackground=i.rect(g,f,m,x,0).attr({fill:p}).add().shadow(e.plotShadow)),d&&(l?l.animate(y):this.plotBGImage=i.image(d,g,f,m,x).add()),v?v.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),u&&(a?(a.strokeWidth=-u,a.animate(a.crisp({x:g,y:f,width:m,height:x}))):this.plotBorder=i.rect(g,f,m,x,0,-u).attr({stroke:e.plotBorderColor,"stroke-width":u,fill:"none",zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var t,e,i,o=this,n=o.options.chart,s=o.options.series;Ht(["inverted","angular","polar"],function(r){for(t=Wt[n.type||n.defaultSeriesType],i=o[r]||n[r]||t&&t.prototype[r],e=s&&s.length;!i&&e--;)(t=Wt[s[e].type])&&t.prototype[r]&&(i=!0);o[r]=i})},linkSeries:function(){var t=this,e=t.series;Ht(e,function(t){t.linkedSeries.length=0}),Ht(e,function(e){var i=e.options.linkedTo;s(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=Qt(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){Ht(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&Ht(e.items,function(i){var o=qt(e.style,i.style),s=n(o.left)+t.plotLeft,r=n(o.top)+t.plotTop+12;delete o.left,delete o.top,t.renderer.text(i.html,s,r).attr({zIndex:2}).css(o).add()})},render:function(){var t,e,i,o,n=this.axes,s=this.renderer,r=this.options;this.setTitle(),this.legend=new fe(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),t=this.plotWidth,e=this.plotHeight-=21,Ht(n,function(t){t.setScale()}),this.getAxisMargins(),i=t/this.plotWidth>1.1,o=e/this.plotHeight>1.05,(i||o)&&(this.maxTicks=null,Ht(n,function(t){(t.horiz&&i||!t.horiz&&o)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Ht(n,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(r.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,i=e.axes,o=e.series,n=e.container,s=n&&n.parentNode;for(jt(e,"destroy"),Bt[e.index]=E,zt--,e.renderTo.removeAttribute("data-highcharts-chart"),Ut(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=o.length;t--;)o[t]=o[t].destroy();Ht("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),n&&(n.innerHTML="",Ut(n),s&&M(n));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!Pt&&t==t.top&&"complete"!==at.readyState||Tt&&!t.canvg?(Tt?re.push(function(){e.firstRender()},e.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",e.firstRender),"complete"===at.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),jt(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),Ht(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),jt(t,"beforeRender"),rt.Pointer&&(t.pointer=new ce(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){var t=this;Ht([this.callback].concat(this.callbacks),function(e){e&&void 0!==t.index&&e.apply(t,[t])}),jt(t,"load"),this.onload=null},splashArray:function(t,e){var i=e[t],i=r(i)?i:[i,i,i,i];return[Qt(e[t+"Top"],i[0]),Qt(e[t+"Right"],i[1]),Qt(e[t+"Bottom"],i[2]),Qt(e[t+"Left"],i[3])]}};var xe=rt.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,n=2*(i.slicedOffset||0),s=o.plotWidth-2*n,o=o.plotHeight-2*n,r=i.center,r=[Qt(r[0],"50%"),Qt(r[1],"50%"),i.size||"100%",i.innerSize||0],a=ut(s,o);for(t=0;4>t;++t)e=r[t],i=2>t||2===t&&/%$/.test(e),r[t]=(/%$/.test(e)?[s,o,a,r[2]][t]*parseFloat(e)/100:parseFloat(e))+(i?n:0);return r[3]>r[2]&&(r[3]=r[2]),r}},ye=function(){};ye.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),this.pointAttr={},t.options.colorByPoint&&(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter++],t.colorCounter===e.length)&&(t.colorCounter=0),t.chart.pointCount++,this},applyOptions:function(t,e){var i=this.series,o=i.options.pointValKey||i.pointValKey,t=ye.prototype.optionsToObject.call(this,t);return qt(this,t),this.options=this.options?qt(this.options,t):t,o&&(this.y=this[o]),this.isNull=null===this.x||null===this.y,void 0===this.x&&i&&(this.x=void 0===e?i.autoIncrement():e),this},optionsToObject:function(t){var e={},i=this.series,o=i.options.keys,n=o||i.pointArrayMap||["y"],s=n.length,r=0,l=0;if(Jt(t)||null===t)e[n[0]]=t;else if(a(t))for(!o&&t.length>s&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),r++);s>l;)o&&void 0===t[r]||(e[n[l]]=t[r]),r++,l++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(Ut(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,o=Qt(i.valueDecimals,""),n=i.valuePrefix||"",s=i.valueSuffix||"";return Ht(e.pointArrayMap||["y"],function(e){e="{point."+e,(n||s)&&(t=t.replace(e+"}",n+e+"}"+s)),t=t.replace(e+"}",e+":,."+o+"f}")}),y(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var o=this,n=this.series.options;(n.point.events[t]||o.options&&o.options.events&&o.options.events[t])&&this.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){o.select&&o.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),jt(this,t,e,i)},visible:!0};var ve=rt.Series=function(){};ve.prototype={isCartesian:!0,type:"line",pointClass:ye,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var i,o,n=this,s=t.series,r=function(t,e){return Qt(t.options.index,t._i)-Qt(e.options.index,e._i)};n.chart=t,n.options=e=n.setOptions(e),n.linkedSeries=[],n.bindAxes(),qt(n,{name:e.name,state:"",pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Tt&&(e.animation=!1),o=e.events;for(i in o)_t(n,i,o[i]);(o&&o.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),Ht(n.parallelArrays,function(t){n[t+"Data"]=[]}),n.setData(e.data,!1),n.isCartesian&&(t.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,w(s,r),this.yAxis&&w(this.yAxis.series,r),Ht(s,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,i=this,o=i.options,n=i.chart;Ht(i.axisTypes||[],function(s){Ht(n[s],function(e){t=e.options,(o[s]===t.index||o[s]!==E&&o[s]===t.id||o[s]===E&&0===t.index)&&(e.series.push(i),i[s]=e,e.isDirty=!0)}),!i[s]&&i.optionalAxis!==s&&e(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,o=arguments,n=Jt(e)?function(o){var n="y"===o&&i.toYData?i.toYData(t):t[o];i[o+"Data"][e]=n}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(o,2))};Ht(i.parallelArrays,n)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,o=e.pointIntervalUnit,i=Qt(i,e.pointStart,0);return this.pointInterval=t=Qt(this.pointInterval,e.pointInterval,1),o&&(e=new N(i),"day"===o?e=+e[ot](e[$]()+t):"month"===o?e=+e[nt](e[q]()+t):"year"===o&&(e=+e[st](e[J]()+t)),t=e-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options.plotOptions,e=e.userOptions||{},n=e.plotOptions||{},s=i[this.type];return this.userOptions=t,i=o(s,i.series,t),this.tooltipOptions=o(G.tooltip,G.plotOptions[this.type].tooltip,e.tooltip,n.series&&n.series.tooltip,n[this.type]&&n[this.type].tooltip,t.tooltip),null===s.marker&&delete i.marker,this.zoneAxis=i.zoneAxis,t=this.zones=(i.zones||[]).slice(),!i.negativeColor&&!i.negativeFillColor||i.zones||t.push({value:i[this.zoneAxis+"Threshold"]||i.threshold||0,color:i.negativeColor,fillColor:i.negativeFillColor}),t.length&&h(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),i},getCyclic:function(t,e,i){var o=this.userOptions,n="_"+t+"Index",s=t+"Counter";e||(h(o[n])?e=o[n]:(o[n]=e=this.chart[s]%i.length,this.chart[s]+=1),e=i[e]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ee[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:se.drawLineMarker,setData:function(t,i,o,n){var r,l=this,c=l.points,p=c&&c.length||0,d=l.options,u=l.chart,g=null,f=l.xAxis,m=f&&!!f.categories,x=d.turboThreshold,y=this.xData,v=this.yData,b=(r=l.pointArrayMap)&&r.length,t=t||[];if(r=t.length,i=Qt(i,!0),n!==!1&&r&&p===r&&!l.cropped&&!l.hasGroupedData&&l.visible)Ht(t,function(t,e){c[e].update&&t!==d.data[e]&&c[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,Ht(this.parallelArrays,function(t){l[t+"Data"].length=0}),x&&r>x){for(o=0;null===g&&r>o;)g=t[o],o++;if(Jt(g)){for(m=Qt(d.pointStart,0),g=Qt(d.pointInterval,1),o=0;r>o;o++)y[o]=m,v[o]=t[o],m+=g;l.xIncrement=m}else if(a(g))if(b)for(o=0;r>o;o++)g=t[o],y[o]=g[0],v[o]=g.slice(1,b+1);else for(o=0;r>o;o++)g=t[o],y[o]=g[0],v[o]=g[1];else e(12)}else for(o=0;r>o;o++)t[o]!==E&&(g={series:l},l.pointClass.prototype.applyOptions.apply(g,[t[o]]),l.updateParallelArrays(g,o),m&&h(g.name))&&(f.names[g.x]=g.name);for(s(v[0])&&e(14,!0),l.data=[],l.options.data=l.userOptions.data=t,o=p;o--;)c[o]&&c[o].destroy&&c[o].destroy();f&&(f.minRange=f.userMinRange),l.isDirty=l.isDirtyData=u.isDirtyBox=!0,o=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&u.redraw(o)},processData:function(t){var i,o=this.xData,n=this.yData,s=o.length;i=0;var r,a,l,h=this.xAxis,c=this.options;l=c.cropThreshold;var p,d,u=this.getExtremesFromAll||c.getExtremesFromAll,g=this.isCartesian,c=h&&h.val2lin,f=h&&h.isLog;if(g&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(h&&(t=h.getExtremes(),p=t.min,d=t.max),g&&this.sorted&&!u&&(!l||s>l||this.forceCrop)&&(o[s-1]<p||o[0]>d?(o=[],n=[]):(o[0]<p||o[s-1]>d)&&(i=this.cropData(this.xData,this.yData,p,d),o=i.xData,n=i.yData,i=i.start,r=!0)),l=o.length||1;--l;)s=f?c(o[l])-c(o[l-1]):o[l]-o[l-1],s>0&&(a===E||a>s)?a=s:0>s&&this.requireSorting&&e(15);this.cropped=r,this.cropStart=i,this.processedXData=o,this.processedYData=n,this.closestPointRange=a},cropData:function(t,e,i,o){var n,s=t.length,r=0,a=s,l=Qt(this.cropShoulder,1);for(n=0;s>n;n++)if(t[n]>=i){r=dt(0,n-l);break}for(i=n;s>i;i++)if(t[i]>o){a=i+l;break}return{xData:t.slice(r,a),yData:e.slice(r,a),start:r,end:a}},generatePoints:function(){var t,e,i,o,n=this.options.data,s=this.data,r=this.processedXData,a=this.processedYData,l=this.pointClass,h=r.length,c=this.cropStart||0,d=this.hasGroupedData,u=[];for(s||d||(s=[],s.length=n.length,s=this.data=s),o=0;h>o;o++)e=c+o,d?(u[o]=(new l).init(this,[r[o]].concat(p(a[o]))),u[o].dataGroup=this.groupMap[o]):(s[e]?i=s[e]:n[e]!==E&&(s[e]=i=(new l).init(this,n[e],r[o])),u[o]=i),u[o].index=e;if(s&&(h!==(t=s.length)||d))for(o=0;t>o;o++)o===c&&!d&&(o+=h),s[o]&&(s[o].destroyElements(),s[o].plotX=E);this.data=s,this.points=u},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,n=[],s=0;e=this.xAxis.getExtremes();var r,a,l,h,c=e.min,p=e.max,t=t||this.stackedYData||this.processedYData||[];for(e=t.length,h=0;e>h;h++)if(a=o[h],l=t[h],r=null!==l&&l!==E&&(!i.isLog||l.length||l>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[h+1]||a)>=c&&(o[h-1]||a)<=p,r&&a)if(r=l.length)for(;r--;)null!==l[r]&&(n[s++]=l[r]);else n[s++]=l;this.dataMin=k(n),this.dataMax=A(n)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,i,o,n,s=this.options,r=s.stacking,a=this.xAxis,l=a.categories,c=this.yAxis,p=this.points,d=p.length,u=!!this.modifyValue,g=s.pointPlacement,f="between"===g||Jt(g),m=s.threshold,x=s.startFromThreshold?m:0,y=Number.MAX_VALUE,s=0;d>s;s++){var v=p[s],b=v.x,w=v.y;i=v.low;var k=r&&c.stacks[(this.negStacks&&(x?0:m)>w?"-":"")+this.stackKey];c.isLog&&null!==w&&0>=w&&(v.y=w=null,e(10)),v.plotX=t=C(ut(dt(-1e5,a.translate(b,0,0,0,1,g,"flags"===this.type)),1e5)),r&&this.visible&&!v.isNull&&k&&k[b]&&(n=this.getStackIndicator(n,b,this.index),k=k[b],w=k.points[n.key],i=w[0],w=w[1],i===x&&(i=Qt(m,c.min)),c.isLog&&0>=i&&(i=null),v.total=v.stackTotal=k.total,v.percentage=k.total&&v.y/k.total*100,v.stackY=w,k.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=h(i)?c.translate(i,0,1,0,1):null,u&&(w=this.modifyValue(w,v)),v.plotY=i="number"==typeof w&&w!==1/0?ut(dt(-1e5,c.translate(w,0,1,0,1)),1e5):E,v.isInside=i!==E&&i>=0&&i<=c.len&&t>=0&&t<=a.len,v.clientX=f?a.translate(b,0,0,0,1):t,v.negative=v.y<(m||0),v.category=l&&l[v.x]!==E?l[v.x]:v.x,v.isNull||(void 0!==o&&(y=ut(y,gt(t-o))),o=t)}this.closestPointRangePx=y},getValidPoints:function(t,e){var i=this.chart;return Ft(t||this.points||[],function(t){return e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted)?!1:!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,o=e.renderer,n=e.inverted,s=this.clipBox,r=s||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,r.height,i.xAxis,i.yAxis].join(","),l=e[a],h=e[a+"m"];l||(t&&(r.width=0,e[a+"m"]=h=o.clipRect(-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),
e[a]=l=o.clipRect(r)),t&&(l.count+=1),i.clip!==!1&&(this.group.clip(t||s?l:e.clipRect),this.markerGroup.clip(h),this.sharedClipKey=a),t||(l.count-=1,l.count<=0&&a&&e[a]&&(s||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,o=this.options.animation;o&&!r(o)&&(o=ee[this.type].animation),t?this.setClip(o):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},o),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},o),this.animate=null)},afterAnimate:function(){this.setClip(),jt(this,"afterAnimate")},drawPoints:function(){var t,e,i,o,n,s,r,a,l,h,c,p,d=this.points,u=this.chart,g=this.options.marker,f=this.pointAttr[""],m=this.markerGroup,x=Qt(g.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*g.radius);if(g.enabled!==!1||this._hasPointMarkers)for(o=d.length;o--;)n=d[o],e=ct(n.plotX),i=n.plotY,l=n.graphic,h=n.marker||{},c=!!n.marker,t=x&&h.enabled===E||h.enabled,p=n.isInside,t&&Jt(i)&&null!==n.y?(t=n.pointAttr[n.selected?"select":""]||f,s=t.r,r=Qt(h.symbol,this.symbol),a=0===r.indexOf("url"),l?l[p?"show":"hide"](!0).attr(t).animate(qt({x:e-s,y:i-s},l.symbolName?{width:2*s,height:2*s}:{})):p&&(s>0||a)&&(n.graphic=u.renderer.symbol(r,e-s,i-s,2*s,2*s,c?h:g).attr(t).add(m))):l&&(n.graphic=l.destroy())},convertAttribs:function(t,e,i,o){var n,s,r=this.pointAttrToOptions,a={},t=t||{},e=e||{},i=i||{},o=o||{};for(n in r)s=r[n],a[n]=Qt(t[s],e[n],i[n],o[n]);return a},getAttribs:function(){var t,e,i,o=this,n=o.options,s=ee[o.type].marker?n.marker:n,r=s.states,a=r.hover,l=o.color,c=o.options.negativeColor,p={stroke:l,fill:l},d=o.points||[],u=[],g=o.pointAttrToOptions;t=o.hasPointSpecificOptions;var f=s.lineColor,m=s.fillColor;e=n.turboThreshold;var x,y,v=o.zones,b=o.zoneAxis||"y";if(n.marker?(a.radius=a.radius||s.radius+a.radiusPlus,a.lineWidth=a.lineWidth||s.lineWidth+a.lineWidthPlus):(a.color=a.color||D(a.color||l).brighten(a.brightness).get(),a.negativeColor=a.negativeColor||D(a.negativeColor||c).brighten(a.brightness).get()),u[""]=o.convertAttribs(s,p),Ht(["hover","select"],function(t){u[t]=o.convertAttribs(r[t],u[""])}),o.pointAttr=u,l=d.length,!e||e>l||t)for(;l--;){if(e=d[l],(s=e.options&&e.options.marker||e.options)&&s.enabled===!1&&(s.radius=0),p=null,v.length){for(t=0,p=v[t];e[b]>=p.value;)p=v[++t];e.color=e.fillColor=p=Qt(p.color,o.color)}if(t=n.colorByPoint||e.color,e.options)for(y in g)h(s[g[y]])&&(t=!0);t?(s=s||{},i=[],r=s.states||{},t=r.hover=r.hover||{},(!n.marker||e.negative&&!t.fillColor&&!a.fillColor)&&(t[o.pointAttrToOptions.fill]=t.color||!e.options.color&&a[e.negative&&c?"negativeColor":"color"]||D(e.color).brighten(t.brightness||a.brightness).get()),x={color:e.color},m||(x.fillColor=e.color),f||(x.lineColor=e.color),s.hasOwnProperty("color")&&!s.color&&delete s.color,p&&!a.fillColor&&(t.fillColor=p),i[""]=o.convertAttribs(qt(x,s),u[""]),i.hover=o.convertAttribs(r.hover,u.hover,i[""]),i.select=o.convertAttribs(r.select,u.select,i[""])):i=u,e.pointAttr=i}},destroy:function(){var t,e,i,o,n=this,s=n.chart,r=/AppleWebKit\/533/.test(vt),a=n.data||[];for(jt(n,"destroy"),Ut(n),Ht(n.axisTypes||[],function(t){(o=n[t])&&(l(o.series,n),o.isDirty=o.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),t=a.length;t--;)(e=a[t])&&e.destroy&&e.destroy();n.points=null,clearTimeout(n.animationTimeout);for(i in n)n[i]instanceof I&&!n[i].survive&&(t=r&&"group"===i?"hide":"destroy",n[i][t]());s.hoverSeries===n&&(s.hoverSeries=null),l(s.series,n);for(i in n)delete n[i]},getGraphPath:function(t,e,i){var o,n,s=this,r=s.options,a=r.step,l=[],t=t||s.points;return(o=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&o&&(a=4-a),r.connectNulls&&!e&&!i&&(t=this.getValidPoints(t)),Ht(t,function(o,c){var p=o.plotX,d=o.plotY,u=t[c-1];(o.leftCliff||u&&u.rightCliff)&&!i&&(n=!0),o.isNull&&!h(e)&&c>0?n=!r.connectNulls:o.isNull&&!e?n=!0:(0===c||n?u=["M",o.plotX,o.plotY]:s.getPointSpline?u=s.getPointSpline(t,o,c):a?(u=1===a?["L",u.plotX,d]:2===a?["L",(u.plotX+p)/2,u.plotY,"L",(u.plotX+p)/2,d]:["L",p,u.plotY],u.push("L",p,d)):u=["L",p,d],l.push.apply(l,u),n=!1)}),s.graphPath=l},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color,e.dashStyle]],o=e.lineWidth,n="square"!==e.linecap,s=(this.gappedPath||this.getGraphPath).call(this),r=this.fillGraph&&this.color||"none";Ht(this.zones,function(o,n){i.push(["zoneGraph"+n,o.color||t.color,o.dashStyle||e.dashStyle])}),Ht(i,function(i,a){var l=i[0],h=t[l];h?h.animate({d:s}):(o||r)&&s.length&&(h={stroke:i[1],"stroke-width":o,fill:r,zIndex:1},i[2]?h.dashstyle=i[2]:n&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),t[l]=t.chart.renderer.path(s).attr(h).add(t.group).shadow(2>a&&e.shadow))})},applyZones:function(){var t,e,i,o,n,s,r,a=this,l=this.chart,h=l.renderer,c=this.zones,p=this.clips||[],d=this.graph,u=this.area,g=dt(l.chartWidth,l.chartHeight),f=this[(this.zoneAxis||"y")+"Axis"],m=f.reversed,x=l.inverted,y=f.horiz,v=!1;c.length&&(d||u)&&f.min!==E&&(d&&d.hide(),u&&u.hide(),o=f.getExtremes(),Ht(c,function(c,b){t=m?y?l.plotWidth:0:y?0:f.toPixels(o.min),t=ut(dt(Qt(e,t),0),g),e=ut(dt(ht(f.toPixels(Qt(c.value,o.max),!0)),0),g),v&&(t=e=f.toPixels(o.max)),n=Math.abs(t-e),s=ut(t,e),r=dt(t,e),f.isXAxis?(i={x:x?r:s,y:0,width:n,height:g},y||(i.x=l.plotHeight-i.x)):(i={x:0,y:x?r:s,width:g,height:n},y&&(i.y=l.plotWidth-i.y)),l.inverted&&h.isVML&&(i=f.isXAxis?{x:0,y:m?s:r,height:i.width,width:l.chartWidth}:{x:i.y-l.plotLeft-l.spacingBox.x,y:0,width:i.height,height:l.chartHeight}),p[b]?p[b].animate(i):(p[b]=h.clipRect(i),d&&a["zoneGraph"+b].clip(p[b]),u&&a["zoneArea"+b].clip(p[b])),v=c.value>o.max}),this.clips=p)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};Ht(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(_t(i,"resize",t),_t(e,"destroy",function(){Ut(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,o,n){var s=this[t],r=!s;return r&&(this[t]=s=this.chart.renderer.g(e).attr({zIndex:o||.1}).add(n),s.addClass("highcharts-series-"+this.index)),s.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,o=e.options,n=!!e.animate&&i.renderer.isSVG&&L(o.animation).duration,s=e.visible?"inherit":"hidden",r=o.zIndex,a=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",s,r,l),e.markerGroup=e.plotGroup("markerGroup","markers",s,r,l),n&&e.animate(!0),e.getAttribs(),t.inverted=e.isCartesian?i.inverted:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),Ht(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),o.clip!==!1&&!e.sharedClipKey&&!a&&t.clip(i.clipRect),n&&e.animate(),a||(e.animationTimeout=d(function(){e.afterAnimate()},n)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,o=this.xAxis,n=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Qt(o&&o.left,t.plotLeft),translateY:Qt(n&&n.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,o=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:n?o.len-t.chartX+o.pos:t.chartY-o.pos},e)},buildKDTree:function(){function t(i,o,n){var s,r;return(r=i&&i.length)?(s=e.kdAxisArray[o%n],i.sort(function(t,e){return t[s]-e[s]}),r=Math.floor(r/2),{point:i[r],left:t(i.slice(0,r),o+1,n),right:t(i.slice(r+1),o+1,n)}):void 0}var e=this,i=e.kdDimensions;delete e.kdTree,d(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i)},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,a,l){var c,p,d=e.point,u=o.kdAxisArray[a%l],g=d;return p=h(t[n])&&h(d[n])?Math.pow(t[n]-d[n],2):null,c=h(t[s])&&h(d[s])?Math.pow(t[s]-d[s],2):null,c=(p||0)+(c||0),d.dist=h(c)?Math.sqrt(c):Number.MAX_VALUE,d.distX=h(p)?Math.sqrt(p):Number.MAX_VALUE,u=t[u]-d[u],c=0>u?"left":"right",p=0>u?"right":"left",e[c]&&(c=i(t,e[c],a+1,l),g=c[r]<g[r]?c:d),e[p]&&Math.sqrt(u*u)<g[r]&&(t=i(t,e[p],a+1,l),g=t[r]<g[r]?t:g),g}var o=this,n=this.kdAxisArray[0],s=this.kdAxisArray[1],r=e?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?i(t,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},B.prototype={destroy:function(){S(this,this.axis)},render:function(t){var e=this.options,i=e.format,i=i?y(i,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,o=i.chart,n=o.inverted,s=i.reversed,s=this.isNegative&&!s||!this.isNegative&&s,r=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=gt(r-i),a=o.xAxis[0].translate(this.x)+t,l=o.plotHeight,s={x:n?s?r:r-i:a,y:n?l-a-e:s?l-r-i:l-r,width:n?i:e,height:n?e:i};(n=this.label)&&(n.align(this.alignOptions,null,s),s=n.alignAttr,n[this.options.crop===!1||o.isInsidePlot(s.x,s.y)?"show":"hide"](!0))}},me.prototype.getStacks=function(){var t=this;Ht(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),Ht(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+Qt(e.options.stack,""))})},ae.prototype.buildStacks=function(){var t,e,i=this.series,o=Qt(this.options.reversedStacks,!0),n=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=n;e--;)i[o?e:n-e-1].setStackedPoints();for(e=n;e--;)t=i[o?e:n-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;n>e;e++)i[e].setPercentStacks()}},ae.prototype.renderStackTotals=function(){var t,e,i=this.chart,o=i.renderer,n=this.stacks,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(i.plotLeft,i.plotTop);for(t in n)for(e in i=n[t])i[e].render(s)},ae.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=0)},ae.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},ve.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,i,o,n,s,r,a=this.processedXData,l=this.processedYData,h=[],c=l.length,p=this.options,d=p.threshold,u=p.startFromThreshold?d:0,g=p.stack,p=p.stacking,f=this.stackKey,m="-"+f,x=this.negStacks,y=this.yAxis,v=y.stacks,b=y.oldStacks;for(y.stacksTouched+=1,n=0;c>n;n++)s=a[n],r=l[n],t=this.getStackIndicator(t,s,this.index),o=t.key,i=(e=x&&(u?0:d)>r)?m:f,v[i]||(v[i]={}),v[i][s]||(b[i]&&b[i][s]?(v[i][s]=b[i][s],v[i][s].total=null):v[i][s]=new B(y,y.options.stackLabels,e,s,g)),i=v[i][s],null!==r&&(i.points[o]=i.points[this.index]=[Qt(i.cum,u)],i.touched=y.stacksTouched,t.index>0&&this.singleStacks===!1&&(i.points[o][0]=i.points[this.index+","+s+",0"][0])),"percent"===p?(e=e?f:m,x&&v[e]&&v[e][s]?(e=v[e][s],i.total=e.total=dt(e.total,i.total)+gt(r)||0):i.total=C(i.total+(gt(r)||0))):i.total=C(i.total+(r||0)),i.cum=Qt(i.cum,u)+(r||0),null!==r&&(i.points[o].push(i.cum),h[n]=i.cum);"percent"===p&&(y.usePercentage=!0),this.stackedYData=h,y.oldStacks={}}},ve.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,o=e.yAxis.stacks,n=e.processedXData;Ht([i,"-"+i],function(i){for(var s,r,a,l=n.length;l--;)r=n[l],t=e.getStackIndicator(t,r,e.index),s=(a=o[i]&&o[i][r])&&a.points[t.key],(r=s)&&(a=a.total?100/a.total:0,r[0]=C(r[0]*a),r[1]=C(r[1]*a),e.stackedYData[l]=r[1])})},ve.prototype.getStackIndicator=function(t,e,i){return h(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[i,e,t.index].join(","),t},qt(me.prototype,{addSeries:function(t,e,i){var o,n=this;return t&&(e=Qt(e,!0),jt(n,"addSeries",{options:t},function(){o=n.initSeries(t),n.isDirtyLegend=!0,n.linkSeries(),e&&n.redraw(i)})),o},addAxis:function(t,e,i,n){var s=e?"xAxis":"yAxis",r=this.options,t=o(t,{index:this[s].length,isX:e});new ae(this,t),r[s]=p(r[s]||{}),r[s].push(t),Qt(i,!0)&&this.redraw(n)},showLoading:function(t){var e=this,i=e.options,o=e.loadingDiv,n=i.loading,s=function(){o&&u(o,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};o||(e.loadingDiv=o=g(Rt,{className:"highcharts-loading"},qt(n.style,{zIndex:10,display:"none"}),e.container),e.loadingSpan=g("span",null,n.labelStyle,o),_t(e,"redraw",s)),e.loadingSpan.innerHTML=t||i.lang.loading,e.loadingShown||(u(o,{opacity:0,display:""}),Zt(o,{opacity:n.style.opacity},{duration:n.showDuration||0}),e.loadingShown=!0),s()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Zt(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){u(e,{display:"none"})}}),this.loadingShown=!1}}),qt(ye.prototype,{update:function(t,e,i,o){function n(){l.applyOptions(t),null===l.y&&c&&(l.graphic=c.destroy()),r(t)&&!a(t)&&(l.redraw=function(){c&&c.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=c.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),s=l.index,h.updateParallelArrays(l,s),u&&l.name&&(u[l.x]=l.name),d.data[s]=r(d.data[s])&&!a(d.data[s])?l.options:t,h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(p.isDirtyBox=!0),"point"===d.legendType&&(p.isDirtyLegend=!0),e&&p.redraw(i)}var s,l=this,h=l.series,c=l.graphic,p=h.chart,d=h.options,u=h.xAxis&&h.xAxis.names,e=Qt(e,!0);o===!1?n():l.firePointEvent("update",{options:t},n)},remove:function(t,e){this.series.removePoint(Gt(this,this.series.data),t,e)}}),qt(ve.prototype,{addPoint:function(t,e,i,o){var n,s=this,r=s.options,a=s.data,l=s.graph,h=s.area,c=s.chart,p=s.xAxis&&s.xAxis.names,d=l&&l.shift||0,u=["graph","area"],l=r.data,g=s.xData;if(P(o,c),i){for(o=s.zones.length;o--;)u.push("zoneGraph"+o,"zoneArea"+o);Ht(u,function(t){s[t]&&(s[t].shift=d+(r.step?2:1))})}if(h&&(h.isArea=!0),e=Qt(e,!0),h={series:s},s.pointClass.prototype.applyOptions.apply(h,[t]),u=h.x,o=g.length,s.requireSorting&&u<g[o-1])for(n=!0;o&&g[o-1]>u;)o--;s.updateParallelArrays(h,"splice",o,0,0),s.updateParallelArrays(h,o),p&&h.name&&(p[u]=h.name),l.splice(o,0,t),n&&(s.data.splice(o,0,null),s.processData()),"point"===r.legendType&&s.generatePoints(),i&&(a[0]&&a[0].remove?a[0].remove(!1):(a.shift(),s.updateParallelArrays(h,"shift"),l.shift())),s.isDirty=!0,s.isDirtyData=!0,e&&(s.getAttribs(),c.redraw())},removePoint:function(t,e,i){var o=this,n=o.data,s=n[t],r=o.points,a=o.chart,l=function(){r&&r.length===n.length&&r.splice(t,1),n.splice(t,1),o.options.data.splice(t,1),o.updateParallelArrays(s||{series:o},"splice",t,1),s&&s.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&a.redraw()};P(i,a),e=Qt(e,!0),s?s.firePointEvent("remove",null,l):l()},remove:function(t,e){var i=this,o=i.chart;jt(i,"remove",null,function(){i.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),Qt(t,!0)&&o.redraw(e)})},update:function(t,e){var i,n=this,s=this.chart,r=this.userOptions,a=this.type,l=Wt[a].prototype,h=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==a||void 0!==t.zIndex)&&(h.length=0),Ht(h,function(t){h[t]=n[t],delete n[t]}),t=o(r,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(i in l)this[i]=E;qt(this,Wt[t.type||a].prototype),Ht(h,function(t){n[t]=h[t]}),this.init(s,t),s.linkSeries(),Qt(e,!0)&&s.redraw(!1)}}),qt(ae.prototype,{update:function(t,e){var i=this.chart,t=i.options[this.coll][this.options.index]=o(this.userOptions,t);this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=E,this.init(i,qt(t,{events:E})),i.isDirtyBox=!0,Qt(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,o=this.series,n=o.length;n--;)o[n]&&o[n].remove(!1);l(e.axes,this),l(e[i],this),e.options[i].splice(this.options.index,1),Ht(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,Qt(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var be=f(ve);Wt.line=be,ee.area=o(ie,{softThreshold:!1,threshold:0});var we=f(ve,{type:"area",singleStacks:!1,getStackPoints:function(){var t,e,i,o=[],n=[],s=this.xAxis,r=this.yAxis,a=r.stacks[this.stackKey],l={},h=this.points,c=this.index,p=r.series,d=p.length,u=Qt(r.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<h.length;e++)l[h[e].x]=h[e];for(i in a)null!==a[i].total&&n.push(i);n.sort(function(t,e){return t-e}),t=Vt(p,function(){return this.visible}),Ht(n,function(i,h){var p,g,f=0;if(l[i]&&!l[i].isNull)o.push(l[i]),Ht([-1,1],function(o){var s=1===o?"rightNull":"leftNull",r=0,f=a[n[h+o]];if(f)for(e=c;e>=0&&d>e;)p=f.points[e],p||(e===c?l[i][s]=!0:t[e]&&(g=a[i].points[e])&&(r-=g[1]-g[0])),e+=u;l[i][1===o?"rightCliff":"leftCliff"]=r});else{for(e=c;e>=0&&d>e;){if(p=a[i].points[e]){f=p[1];break}e+=u}f=r.toPixels(f,!0),o.push({isNull:!0,plotX:s.toPixels(i,!0),plotY:f,yBottom:f})}})}return o},getGraphPath:function(t){var e,i,o,n,s=ve.prototype.getGraphPath,r=this.options,a=r.stacking,l=this.yAxis,h=[],c=[],p=this.index,d=l.stacks[this.stackKey],u=r.threshold,g=l.getThreshold(r.threshold),r=r.connectNulls||"percent"===a,f=function(e,i,n){var s,r,f=t[e],e=a&&d[f.x].points[p],m=f[n+"Null"]||0,n=f[n+"Cliff"]||0,f=!0;n||m?(s=(m?e[0]:e[1])+n,r=e[0]+n,f=!!m):!a&&t[i]&&t[i].isNull&&(s=r=u),void 0!==s&&(c.push({plotX:o,plotY:null===s?g:l.getThreshold(s),isNull:f}),h.push({plotX:o,plotY:null===r?g:l.getThreshold(r)}))},t=t||this.points;for(a&&(t=this.getStackPoints()),e=0;e<t.length;e++)i=t[e].isNull,o=Qt(t[e].rectPlotX,t[e].plotX),n=Qt(t[e].yBottom,g),(!i||r)&&(r||f(e,e-1,"left"),i&&!a&&r||(c.push(t[e]),h.push({x:e,plotX:o,plotY:n})),r||f(e,e+1,"right"));return e=s.call(this,c,!0,!0),h.reversed=!0,i=s.call(this,h,!0,!0),i.length&&(i[0]="L"),e=e.concat(i),s=s.call(this,c,!1,r),this.areaPath=e,s},drawGraph:function(){this.areaPath=[],ve.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,o=[["area",this.color,i.fillColor]];Ht(this.zones,function(e,n){o.push(["zoneArea"+n,e.color||t.color,e.fillColor||i.fillColor])}),Ht(o,function(o){var n=o[0],s=t[n];s?s.animate({d:e}):(s={fill:o[2]||o[1],zIndex:0},o[2]||(s["fill-opacity"]=Qt(i.fillOpacity,.75)),t[n]=t.chart.renderer.path(e).attr(s).add(t.group))})},drawLegendSymbol:se.drawRectangle});Wt.area=we,ee.spline=o(ie),be=f(ve,{type:"spline",getPointSpline:function(t,e,i){var o,n,s,r,a=e.plotX,l=e.plotY,h=t[i-1],i=t[i+1];if(h&&!h.isNull&&i&&!i.isNull){t=h.plotY,s=i.plotX;var i=i.plotY,c=0;o=(1.5*a+h.plotX)/2.5,n=(1.5*l+t)/2.5,s=(1.5*a+s)/2.5,r=(1.5*l+i)/2.5,s!==o&&(c=(r-n)*(s-a)/(s-o)+l-r),n+=c,r+=c,n>t&&n>l?(n=dt(t,l),r=2*l-n):t>n&&l>n&&(n=ut(t,l),r=2*l-n),r>i&&r>l?(r=dt(i,l),n=2*l-r):i>r&&l>r&&(r=ut(i,l),n=2*l-r),e.rightContX=s,e.rightContY=r}return e=["C",Qt(h.rightContX,h.plotX),Qt(h.rightContY,h.plotY),Qt(o,a),Qt(n,l),a,l],h.rightContX=h.rightContY=null,e}}),Wt.spline=be,ee.areaspline=o(ee.area),we=we.prototype,be=f(be,{type:"areaspline",getStackPoints:we.getStackPoints,getGraphPath:we.getGraphPath,setStackCliffs:we.setStackCliffs,drawGraph:we.drawGraph,drawLegendSymbol:se.drawRectangle}),Wt.areaspline=be,ee.column=o(ie,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),be=f(ve,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){ve.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&Ht(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,o=e.xAxis,n=e.yAxis,s=o.reversed,r={},a=0;i.grouping===!1?a=1:Ht(e.chart.series,function(i){var o,s=i.options,l=i.yAxis;i.type===e.type&&i.visible&&n.len===l.len&&n.pos===l.pos&&(s.stacking?(t=i.stackKey,r[t]===E&&(r[t]=a++),o=r[t]):s.grouping!==!1&&(o=a++),i.columnIndex=o)});var l=ut(gt(o.transA)*(o.ordinalSlope||i.pointRange||o.closestPointRange||o.tickInterval||1),o.len),h=l*i.groupPadding,c=(l-2*h)/a,i=ut(i.maxPointWidth||o.len,Qt(i.pointWidth,c*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(c-i)/2+(h+((e.columnIndex||0)+(s?1:0))*c-l/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,i,o){var n=this.chart,s=this.borderWidth,r=-(s%2?.5:0),s=s%2?.5:1;return n.inverted&&n.renderer.isVML&&(s+=1),i=Math.round(t+i)+r,t=Math.round(t)+r,i-=t,o=Math.round(e+o)+s,r=gt(e)<=.5&&o>.5,e=Math.round(e)+s,o-=e,r&&o&&(e-=1,o+=1),{x:t,y:e,width:i,height:o}},translate:function(){var t=this,e=t.chart,i=t.options,o=t.borderWidth=Qt(i.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),n=t.yAxis,s=t.translatedThreshold=n.getThreshold(i.threshold),r=Qt(i.minPointLength,5),a=t.getColumnMetrics(),l=a.width,h=t.barW=dt(l,1+2*o),c=t.pointXOffset=a.offset;e.inverted&&(s-=.5),i.pointPadding&&(h=pt(h)),ve.prototype.translate.apply(t),Ht(t.points,function(i){var o,a=ut(Qt(i.yBottom,s),9e4),p=999+gt(a),p=ut(dt(-p,i.plotY),n.len+p),d=i.plotX+c,u=h,g=ut(p,a),f=dt(p,a)-g;gt(f)<r&&r&&(f=r,o=!n.reversed&&!i.negative||n.reversed&&i.negative,g=gt(g-s)>r?a-r:s-(o?r:0)),i.barX=d,i.pointWidth=l,i.tooltipPos=e.inverted?[n.len+n.pos-e.plotLeft-p,t.xAxis.len-d-u/2,f]:[d+u/2,p+n.pos-e.plotTop,f],i.shapeType="rect",i.shapeArgs=t.crispCol(d,g,u,f)})},getSymbol:Ot,drawLegendSymbol:se.drawRectangle,drawGraph:Ot,drawPoints:function(){var t,e,i=this,n=this.chart,s=i.options,r=n.renderer,a=s.animationLimit||250;Ht(i.points,function(l){var c,p=l.graphic;Jt(l.plotY)&&null!==l.y?(t=l.shapeArgs,c=h(i.borderWidth)?{"stroke-width":i.borderWidth}:{},e=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],p?(Kt(p),p.attr(c).attr(e)[n.pointCount<a?"animate":"attr"](o(t))):l.graphic=r[l.shapeType](t).attr(c).attr(e).add(l.group||i.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius)):p&&(l.graphic=p.destroy())})},animate:function(t){var e=this,i=this.yAxis,o=e.options,n=this.chart.inverted,s={};Pt&&(t?(s.scaleY=.001,t=ut(i.pos+i.len,dt(i.pos,i.toPixels(o.threshold))),n?s.translateX=t-i.len:s.translateY=t,e.group.attr(s)):(s[n?"translateX":"translateY"]=i.pos,e.group.animate(s,qt(L(e.options.animation),{step:function(t,i){e.group.attr({scaleY:dt(.001,i.pos)})}})),e.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&Ht(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),ve.prototype.remove.apply(t,arguments)}}),Wt.column=be,ee.bar=o(ee.column),we=f(be,{type:"bar",inverted:!0}),Wt.bar=we,ee.scatter=o(ie,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">?</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),we=f(ve,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&ve.prototype.drawGraph.call(this)}}),Wt.scatter=we,ee.pie=o(ie,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),ie={type:"pie",isCartesian:!1,pointClass:f(ye,{init:function(){ye.prototype.init.apply(this,arguments);var t,e=this;return e.name=Qt(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},_t(e,"select",t),_t(e,"unselect",t),e},setVisible:function(t,e){var i=this,o=i.series,n=o.chart,s=o.options.ignoreHiddenPoint,e=Qt(e,s);t!==i.visible&&(i.visible=i.options.visible=t=t===E?!i.visible:t,o.options.data[Gt(i,o.data)]=i.options,Ht(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&n.legend.colorizeItem(i,t),!t&&"hover"===i.state&&i.setState(""),s&&(o.isDirty=!0),e&&n.redraw())},slice:function(t,e,i){var o=this.series;P(i,o.chart),Qt(e,!0),this.sliced=this.options.sliced=t=h(t)?t:!this.sliced,o.options.data[Gt(this,o.data)]=this.options,t=t?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(t),this.shadowGroup&&this.shadowGroup.animate(t)},haloPath:function(t){var e=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+e.x,i.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,i=e.points,o=e.startAngleRad;t||(Ht(i,function(t){var i=t.graphic,n=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:o,end:o}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,o=this.points,n=o.length,s=this.options.ignoreHiddenPoint;for(t=0;n>t;t++)e=o[t],i+=s&&!e.visible?0:e.y;for(this.total=i,t=0;n>t;t++)e=o[t],e.percentage=i>0&&(e.visible||!s)?e.y/i*100:0,e.total=i},generatePoints:function(){ve.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,o,n,s,r=0,a=this.options,l=a.slicedOffset,h=l+a.borderWidth,c=a.startAngle||0,p=this.startAngleRad=xt/180*(c-90),c=(this.endAngleRad=xt/180*(Qt(a.endAngle,c+360)-90))-p,d=this.points,u=a.dataLabels.distance,a=a.ignoreHiddenPoint,g=d.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,i){return o=lt.asin(ut((e-t[1])/(t[2]/2+u),1)),t[0]+(i?-1:1)*ft(o)*(t[2]/2+u)},n=0;g>n;n++)s=d[n],e=p+r*c,(!a||s.visible)&&(r+=s.percentage/100),i=p+r*c,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ht(1e3*e)/1e3,end:ht(1e3*i)/1e3},o=(i+e)/2,o>1.5*xt?o-=2*xt:-xt/2>o&&(o+=2*xt),s.slicedTranslation={translateX:ht(ft(o)*l),translateY:ht(mt(o)*l)},e=ft(o)*t[2]/2,i=mt(o)*t[2]/2,s.tooltipPos=[t[0]+.7*e,t[1]+.7*i],s.half=-xt/2>o||o>xt/2?1:0,s.angle=o,h=ut(h,u/2),s.labelPos=[t[0]+e+ft(o)*u,t[1]+i+mt(o)*u,t[0]+e+ft(o)*h,t[1]+i+mt(o)*h,t[0]+e,t[1]+i,0>u?"center":s.half?"right":"left",o]},drawGraph:null,drawPoints:function(){var t,e,i,o,n,s,r=this,a=r.chart.renderer,l=r.options.shadow;l&&!r.shadowGroup&&(r.shadowGroup=a.g("shadow").add(r.group)),Ht(r.points,function(h){null!==h.y&&(e=h.graphic,n=h.shapeArgs,i=h.shadowGroup,o=h.pointAttr[h.selected?"select":""],o.stroke||(o.stroke=o.fill),l&&!i&&(i=h.shadowGroup=a.g("shadow").add(r.shadowGroup)),t=h.sliced?h.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),e?e.setRadialReference(r.center).attr(o).animate(qt(n,t)):(s={"stroke-linejoin":"round"},h.visible||(s.visibility="hidden"),h.graphic=e=a[h.shapeType](n).setRadialReference(r.center).attr(o).attr(s).attr(t).add(r.group).shadow(l,i)))})},searchPoint:Ot,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:se.drawRectangle,getCenter:xe.getCenter,getSymbol:Ot},ie=f(ve,ie),Wt.pie=ie,ve.prototype.drawDataLabels=function(){var t,e,i,n,s=this,r=s.options,a=r.cursor,l=r.dataLabels,c=s.points,p=s.hasRendered||0,d=Qt(l.defer,!0),u=s.chart.renderer;(l.enabled||s._hasPointLabels)&&(s.dlProcessOptions&&s.dlProcessOptions(l),n=s.plotGroup("dataLabelsGroup","data-labels",d&&!p?"hidden":"visible",l.zIndex||6),d&&(n.attr({opacity:+p}),p||_t(s,"afterAnimate",function(){s.visible&&n.show(),n[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=l,Ht(c,function(c){var p,d,g,f,m=c.dataLabel,x=c.connector,v=!0,b={};if(t=c.dlOptions||c.options&&c.options.dataLabels,p=Qt(t&&t.enabled,e.enabled)&&null!==c.y,m&&!p)c.dataLabel=m.destroy();else if(p){if(l=o(e,t),f=l.style,p=l.rotation,d=c.getLabelConfig(),i=l.format?y(l.format,d):l.formatter.call(d,l),f.color=Qt(l.color,f.color,s.color,"black"),m)h(i)?(m.attr({text:i}),v=!1):(c.dataLabel=m=m.destroy(),x&&(c.connector=x.destroy()));else if(h(i)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:p,padding:l.padding,zIndex:1},"contrast"===f.color&&(b.color=l.inside||l.distance<0||r.stacking?u.getContrast(c.color||s.color):"#000000"),a&&(b.cursor=a);for(g in m)m[g]===E&&delete m[g];m=c.dataLabel=u[p?"text":"label"](i,0,-9999,l.shape,null,null,l.useHTML).attr(m).css(qt(f,b)).add(n).shadow(l.shadow)}m&&s.alignDataLabel(c,m,l,null,v)}}))},ve.prototype.alignDataLabel=function(t,e,i,o,n){var s=this.chart,r=s.inverted,a=Qt(t.plotX,-9999),l=Qt(t.plotY,-9999),h=e.getBBox(),c=s.renderer.fontMetrics(i.style.fontSize).b,p=i.rotation,d=i.align,u=this.visible&&(t.series.forceDL||s.isInsidePlot(a,ht(l),r)||o&&s.isInsidePlot(a,r?o.x+1:o.y+o.height-1,r)),g="justify"===Qt(i.overflow,"justify");u&&(o=qt({x:r?s.plotWidth-l:a,y:ht(r?s.plotHeight-a:l),width:0,height:0},o),qt(i,{width:h.width,height:h.height}),p?(g=!1,r=s.renderer.rotCorr(c,p),r={x:o.x+i.x+o.width/2+r.x,y:o.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*o.height},e[n?"attr":"animate"](r).attr({align:d}),a=(p+720)%360,a=a>180&&360>a,"left"===d?r.y-=a?h.height:0:"center"===d?(r.x-=h.width/2,r.y-=h.height/2):"right"===d&&(r.x-=h.width,r.y-=a?0:h.height)):(e.align(i,null,o),r=e.alignAttr),g?this.justifyDataLabel(e,i,r,h,o,n):Qt(i.crop,!0)&&(u=s.isInsidePlot(r.x,r.y)&&s.isInsidePlot(r.x+h.width,r.y+h.height)),i.shape&&!p&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),u||(Kt(e),e.attr({y:-9999}),e.placed=!1)},ve.prototype.justifyDataLabel=function(t,e,i,o,n,s){var r,a,l=this.chart,h=e.align,c=e.verticalAlign,p=t.box?0:t.padding||0;r=i.x+p,0>r&&("right"===h?e.align="left":e.x=-r,a=!0),r=i.x+o.width-p,r>l.plotWidth&&("left"===h?e.align="right":e.x=l.plotWidth-r,a=!0),r=i.y+p,0>r&&("bottom"===c?e.verticalAlign="top":e.y=-r,a=!0),r=i.y+o.height-p,r>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-r,a=!0),a&&(t.placed=!s,t.align(e,null,n))},Wt.pie&&(Wt.pie.prototype.drawDataLabels=function(){var t,e,i,o,n,s,r,a,l,h,c,p=this,d=p.data,u=p.chart,g=p.options.dataLabels,f=Qt(g.connectorPadding,10),m=Qt(g.connectorWidth,1),x=u.plotWidth,y=u.plotHeight,v=Qt(g.softConnector,!0),b=g.distance,w=p.center,k=w[2]/2,S=w[1],M=b>0,C=[[],[]],P=[0,0,0,0],L=function(t,e){return e.y-t.y};if(p.visible&&(g.enabled||p._hasPointLabels)){for(ve.prototype.drawDataLabels.apply(p),Ht(d,function(t){t.dataLabel&&t.visible&&(C[t.half].push(t),t.dataLabel._pos=null)}),h=2;h--;){var T,D=[],I=[],O=C[h],B=O.length;if(B){for(p.sortByAngle(O,h-.5),c=d=0;!d&&O[c];)d=O[c]&&O[c].dataLabel&&(O[c].dataLabel.getBBox().height||21),c++;if(b>0){for(n=ut(S+k+b,u.plotHeight),c=dt(0,S-k-b);n>=c;c+=d)D.push(c);if(n=D.length,B>n){for(t=[].concat(O),t.sort(L),c=B;c--;)t[c].rank=c;for(c=B;c--;)O[c].rank>=n&&O.splice(c,1);B=O.length}for(c=0;B>c;c++){t=O[c],s=t.labelPos,t=9999;var z,R;for(R=0;n>R;R++)z=gt(D[R]-s[1]),t>z&&(t=z,T=R);if(c>T&&null!==D[c])T=c;else for(B-c+T>n&&null!==D[c]&&(T=n-B+c);null===D[T];)T++;I.push({i:T,y:D[T]}),D[T]=null}I.sort(L)}for(c=0;B>c;c++)t=O[c],s=t.labelPos,o=t.dataLabel,l=t.visible===!1?"hidden":"inherit",t=s[1],b>0?(n=I.pop(),T=n.i,a=n.y,(t>a&&null!==D[T+1]||a>t&&null!==D[T-1])&&(a=ut(dt(0,t),u.plotHeight))):a=t,
r=g.justify?w[0]+(h?-1:1)*(k+b):p.getX(a===S-k-b||a===S+k+b?t:a,h),o._attr={visibility:l,align:s[6]},o._pos={x:r+g.x+({left:f,right:-f}[s[6]]||0),y:a+g.y-10},o.connX=r,o.connY=a,null===this.options.size&&(n=o.width,f>r-n?P[3]=dt(ht(n-r+f),P[3]):r+n>x-f&&(P[1]=dt(ht(r+n-x+f),P[1])),0>a-d/2?P[0]=dt(ht(-a+d/2),P[0]):a+d/2>y&&(P[2]=dt(ht(a+d/2-y),P[2])))}}(0===A(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),M&&m&&Ht(this.points,function(t){e=t.connector,s=t.labelPos,(o=t.dataLabel)&&o._pos&&t.visible?(l=o._attr.visibility,r=o.connX,a=o.connY,i=v?["M",r+("left"===s[6]?5:-5),a,"C",r,a,2*s[2]-s[4],2*s[3]-s[5],s[2],s[3],"L",s[4],s[5]]:["M",r+("left"===s[6]?5:-5),a,"L",s[2],s[3],"L",s[4],s[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":m,stroke:g.connectorColor||t.color||"#606060",visibility:l}).add(p.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},Wt.pie.prototype.placeDataLabels=function(){Ht(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))})},Wt.pie.prototype.alignDataLabel=Ot,Wt.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,o=this.options,n=o.center,s=o.minSize||80,r=s;return null!==n[0]?r=dt(i[2]-dt(t[1],t[3]),s):(r=dt(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==n[1]?r=dt(ut(r,i[2]-dt(t[0],t[2])),s):(r=dt(ut(r,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),r<i[2]?(i[2]=r,i[3]=Math.min(/%$/.test(o.innerSize||0)?r*parseFloat(o.innerSize||0)/100:parseFloat(o.innerSize||0),r),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),Wt.column&&(Wt.column.prototype.alignDataLabel=function(t,e,i,n,s){var r=this.chart.inverted,a=t.series,l=t.dlBox||t.shapeArgs,h=Qt(t.below,t.plotY>Qt(this.translatedThreshold,a.yAxis.len)),c=Qt(i.inside,!!this.options.stacking);l&&(n=o(l),n.y<0&&(n.height+=n.y,n.y=0),l=n.y+n.height-a.yAxis.len,l>0&&(n.height-=l),r&&(n={x:a.yAxis.len-n.y-n.height,y:a.xAxis.len-n.x-n.width,width:n.height,height:n.width}),c||(r?(n.x+=h?0:n.width,n.width=0):(n.y+=h?n.height:0,n.height=0))),i.align=Qt(i.align,!r||c?"center":h?"right":"left"),i.verticalAlign=Qt(i.verticalAlign,r||c?"middle":h?"top":"bottom"),ve.prototype.alignDataLabel.call(this,t,e,i,n,s)}),function(t){var e=t.Chart,i=t.each,o=t.pick,n=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var n=t.options.dataLabels,s=t.dataLabelCollections||["dataLabel"];(n.enabled||t._hasPointLabels)&&!n.allowOverlap&&t.visible&&i(s,function(n){i(t.points,function(t){t[n]&&(t[n].labelrank=o(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[n]))})})}),t.hideOverlappingLabels(e)}e(),n(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,o,n,s,r,a,l,h,c,p=t.length;for(o=0;p>o;o++)(e=t[o])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),o=0;p>o;o++)for(n=t[o],e=o+1;p>e;++e)s=t[e],n&&s&&n.placed&&s.placed&&0!==n.newOpacity&&0!==s.newOpacity&&(r=n.alignAttr,a=s.alignAttr,l=n.parentGroup,h=s.parentGroup,c=2*(n.box?0:n.padding),r=!(a.x+h.translateX>r.x+l.translateX+(n.width-c)||a.x+h.translateX+(s.width-c)<r.x+l.translateX||a.y+h.translateY>r.y+l.translateY+(n.height-c)||a.y+h.translateY+(s.height-c)<r.y+l.translateY))&&((n.labelrank<s.labelrank?n:s).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(rt);var ke=rt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,o=t.options.cursor,n=o&&{cursor:o},s=function(t){for(var i,o=t.target;o&&!i;)i=o.point,o=o.parentNode;i!==E&&i!==e.hoverPoint&&i.onMouseOver(t)};Ht(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(Ht(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(n),W)&&t[e].on("touchstart",s)}),t._hasTracking=!0)},drawTrackerGraph:function(){var t=this,e=t.options,i=e.trackByArea,o=[].concat(i?t.areaPath:t.graphPath),n=o.length,s=t.chart,r=s.pointer,a=s.renderer,l=s.options.tooltip.snap,h=t.tracker,c=e.cursor,p=c&&{cursor:c},d=function(){s.hoverSeries!==t&&t.onMouseOver()},u="rgba(192,192,192,"+(Pt?1e-4:.002)+")";if(n&&!i)for(c=n+1;c--;)"M"===o[c]&&o.splice(c+1,0,o[c+1]-l,o[c+2],"L"),(c&&"M"===o[c]||c===n)&&o.splice(c,0,"L",o[c-2]+l,o[c-1]);h?h.attr({d:o}):(t.tracker=a.path(o).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:u,fill:i?u:"none","stroke-width":e.lineWidth+(i?0:2*l),zIndex:2}).add(t.group),Ht([t.tracker,t.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(t){r.onTrackerMouseOut(t)}).css(p),W&&t.on("touchstart",d)}))}};Wt.column&&(be.prototype.drawTracker=ke.drawTrackerPoint),Wt.pie&&(Wt.pie.prototype.drawTracker=ke.drawTrackerPoint),Wt.scatter&&(we.prototype.drawTracker=ke.drawTrackerPoint),qt(fe.prototype,{setItemEvents:function(t,e,i,o,n){var s=this;(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),e.css(s.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?o:n),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()},e={browserEvent:e};t.firePointEvent?t.firePointEvent("legendItemClick",e,i):jt(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),_t(t.checkbox,"click",function(e){jt(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),G.legend.itemStyle.cursor="pointer",qt(me.prototype,{showResetZoom:function(){var t=this,e=G.lang,i=t.options.chart.resetZoomButton,o=i.theme,n=o.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},o,n&&n.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,s)},zoomOut:function(){var t=this;jt(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,o=this.pointer,n=!1;!t||t.resetSelection?Ht(this.axes,function(t){e=t.zoom()}):Ht(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,s=i.isXAxis;(o[s?"zoomX":"zoomY"]||o[s?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(n=!0))}),i=this.resetZoomButton,n&&!i?this.showResetZoom():!n&&r(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(Qt(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(t,e){var i,o=this,n=o.hoverPoints;n&&Ht(n,function(t){t.setState()}),Ht("xy"===e?[1,0]:[1],function(e){var e=o[e?"xAxis":"yAxis"][0],n=e.horiz,s=t[n?"chartX":"chartY"],n=n?"mouseDownX":"mouseDownY",r=o[n],a=(e.pointRange||0)/2,l=e.getExtremes(),h=e.toValue(r-s,!0)+a,a=e.toValue(r+e.len-s,!0)-a,r=r>s;e.series.length&&(r||h>ut(l.dataMin,l.min))&&(!r||a<dt(l.dataMax,l.max))&&(e.setExtremes(h,a,!1,!1,{trigger:"pan"}),i=!0),o[n]=s}),i&&o.redraw(!1),u(o.container,{cursor:"move"})}}),qt(ye.prototype,{select:function(t,e){var i=this,o=i.series,n=o.chart,t=Qt(t,!i.selected);i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,o.options.data[Gt(i,o.data)]=i.options,i.setState(t&&"select"),e||Ht(n.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,o.options.data[Gt(t,o.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this.series,o=i.chart,n=o.tooltip,s=o.hoverPoint;o.hoverSeries!==i&&i.onMouseOver(),s&&s!==this&&s.onMouseOut(),this.series&&(this.firePointEvent("mouseOver"),n&&(!n.shared||i.noSharedTooltip)&&n.refresh(this,t),this.setState("hover"),!e)&&(o.hoverPoint=this)},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==Gt(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=o(this.series.options.point,this.options).events;this.events=e;for(t in e)_t(this,t,e[t]);this.hasImportedEvents=!0}},setState:function(t,e){var i,n=ct(this.plotX),s=this.plotY,r=this.series,a=r.options.states,l=ee[r.type].marker&&r.options.marker,h=l&&!l.enabled,c=l&&l.states[t],p=c&&c.enabled===!1,d=r.stateMarkerGraphic,u=this.marker||{},g=r.chart,f=r.halo,t=t||"";i=this.pointAttr[t]||r.pointAttr[t],t===this.state&&!e||this.selected&&"select"!==t||a[t]&&a[t].enabled===!1||t&&(p||h&&c.enabled===!1)||t&&u.states&&u.states[t]&&u.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&i.r,this.graphic.attr(o(i,l?{x:n-l,y:s-l,width:2*l,height:2*l}:{})),d&&d.hide()):(t&&c&&(l=c.radius,u=u.symbol||r.symbol,d&&d.currentSymbol!==u&&(d=d.destroy()),d?d[e?"animate":"attr"]({x:n-l,y:s-l}):u&&(r.stateMarkerGraphic=d=g.renderer.symbol(u,n-l,s-l,2*l,2*l).attr(i).add(r.markerGroup),d.currentSymbol=u)),d&&(d[t&&g.isInsidePlot(n,s,g.inverted)?"show":"hide"](),d.element.point=this)),(n=a[t]&&a[t].halo)&&n.size?(f||(r.halo=f=g.renderer.path().add(g.seriesGroup)),f.attr(qt({fill:this.color||r.color,"fill-opacity":n.opacity,zIndex:-1},n.attributes))[e?"animate":"attr"]({d:this.haloPath(n.size)})):f&&f.attr({d:[]}),this.state=t)},haloPath:function(t){var e=this.series,i=e.chart,o=e.getPlotBox(),n=i.inverted,s=Math.floor(this.plotX);return i.renderer.symbols.circle(o.translateX+(n?e.yAxis.len-this.plotY:s)-t,o.translateY+(n?e.xAxis.len-s:this.plotY)-t,2*t,2*t)}}),qt(ve.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&jt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,o=e.hoverPoint;e.hoverSeries=null,o&&o.onMouseOut(),this&&t.events.mouseOut&&jt(this,"mouseOut"),i&&!t.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState()},setState:function(t){var e=this.options,i=this.graph,o=e.states,n=e.lineWidth,e=0,t=t||"";if(this.state!==t&&(this.state=t,!(o[t]&&o[t].enabled===!1)&&(t&&(n=o[t].lineWidth||n+(o[t].lineWidthPlus||0)),i&&!i.dashstyle)))for(t={"stroke-width":n},i.attr(t);this["zoneGraph"+e];)this["zoneGraph"+e].attr(t),e+=1},setVisible:function(t,e){var i,o=this,n=o.chart,s=o.legendItem,r=n.options.chart.ignoreHiddenSeries,a=o.visible;i=(o.visible=t=o.userOptions.visible=t===E?!a:t)?"show":"hide",Ht(["group","dataLabelsGroup","markerGroup","tracker"],function(t){o[t]&&o[t][i]()}),(n.hoverSeries===o||(n.hoverPoint&&n.hoverPoint.series)===o)&&o.onMouseOut(),s&&n.legend.colorizeItem(o,t),o.isDirty=!0,o.options.stacking&&Ht(n.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),Ht(o.linkedSeries,function(e){e.setVisible(t,!1)}),r&&(n.isDirtyBox=!0),e!==!1&&n.redraw(),jt(o,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=t===E?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),jt(this,t?"select":"unselect")},drawTracker:ke.drawTrackerGraph}),te(ve.prototype,"init",function(t){var e;t.apply(this,Array.prototype.slice.call(arguments,1)),(e=this.xAxis)&&e.options.ordinal&&_t(this,"updatedData",function(){delete e.ordinalIndex})}),te(ae.prototype,"getTimeTicks",function(t,e,i,o,n,s,r,a){var l,c,p,d,u,g=0,f={},m=[],x=-Number.MAX_VALUE,y=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!s||s.length<3||i===E)return t.call(this,e,i,o,n);for(d=s.length,l=0;d>l;l++){if(u=l&&s[l-1]>o,s[l]<i&&(g=l),l===d-1||s[l+1]-s[l]>5*r||u){if(s[l]>x){for(c=t.call(this,e,s[g],s[l],n);c.length&&c[0]<=x;)c.shift();c.length&&(x=c[c.length-1]),m=m.concat(c)}g=l+1}if(u)break}if(t=c.info,a&&t.unitRange<=F.hour){for(l=m.length-1,g=1;l>g;g++)H("%d",m[g])!==H("%d",m[g-1])&&(f[m[g]]="day",p=!0);p&&(f[m[0]]="day"),t.higherRanks=f}if(m.info=t,a&&h(y)){a=t=m.length,l=[];var v;for(p=[];a--;)g=this.translate(m[a]),v&&(p[a]=v-g),l[a]=v=g;for(p.sort(),p=p[ct(p.length/2)],.6*y>p&&(p=null),a=m[t-1]>o?t-1:t,v=void 0;a--;)g=l[a],o=v-g,v&&.8*y>o&&(null===p||.8*p>o)?(f[m[a]]&&!f[m[a+1]]?(o=a+1,v=g):o=a,m.splice(o,1)):v=g}return m}),qt(ae.prototype,{beforeSetTickPositions:function(){var t,e,i,o=[],n=!1,s=this.getExtremes(),r=s.min,a=s.max,l=this.isXAxis&&!!this.options.breaks;if((s=this.options.ordinal)||l){if(Ht(this.series,function(e,i){if(e.visible!==!1&&(e.takeOrdinalPosition!==!1||l)&&(o=o.concat(e.processedXData),t=o.length,o.sort(function(t,e){return t-e}),t))for(i=t-1;i--;)o[i]===o[i+1]&&o.splice(i,1)}),t=o.length,t>2){for(e=o[1]-o[0],i=t-1;i--&&!n;)o[i+1]-o[i]!==e&&(n=!0);!this.options.keepOrdinalPadding&&(o[0]-r>e||a-o[o.length-1]>e)&&(n=!0)}n?(this.ordinalPositions=o,e=this.val2lin(dt(r,o[0]),!0),i=dt(this.val2lin(ut(a,o[o.length-1]),!0),1),this.ordinalSlope=a=(a-r)/(i-e),this.ordinalOffset=r-e*a):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=E}this.isOrdinal=s&&n,this.groupIntervalFactor=null},val2lin:function(t,e){var i,o=this.ordinalPositions;if(o){var n,s=o.length;for(i=s;i--;)if(o[i]===t){n=i;break}for(i=s-1;i--;)if(t>o[i]||0===i){o=(t-o[i])/(o[i+1]-o[i]),n=i+o;break}i=e?n:this.ordinalSlope*(n||0)+this.ordinalOffset}else i=t;return i},lin2val:function(t,e){var i=this.ordinalPositions;if(i){var o,n,s=this.ordinalSlope,r=this.ordinalOffset,a=i.length-1;if(e)0>t?t=i[0]:t>a?t=i[a]:(a=ct(t),n=t-a);else for(;a--;)if(o=s*a+r,t>=o){s=s*(a+1)+r,n=(t-o)/(s-o);break}i=n!==E&&i[a]!==E?i[a]+(n?n*(i[a+1]-i[a]):0):t}else i=t;return i},getExtendedPositions:function(){var t,e,i=this.chart,o=this.series[0].currentDataGrouping,n=this.ordinalIndex,s=o?o.count+o.unitName:"raw",r=this.getExtremes();return n||(n=this.ordinalIndex={}),n[s]||(t={series:[],getExtremes:function(){return{min:r.dataMin,max:r.dataMax}},options:{ordinal:!0},val2lin:ae.prototype.val2lin},Ht(this.series,function(n){e={xAxis:t,xData:n.xData,chart:i,destroyGroupedData:Ot},e.options={dataGrouping:o?{enabled:!0,forced:!0,approximation:"open",units:[[o.unitName,[o.count]]]}:{enabled:!1}},n.processData.apply(e),t.series.push(e)}),this.beforeSetTickPositions.apply(t),n[s]=t.ordinalPositions),n[s]},getGroupIntervalFactor:function(t,e,i){var o,i=i.processedXData,n=i.length,s=[];if(o=this.groupIntervalFactor,!o){for(o=0;n-1>o;o++)s[o]=i[o+1]-i[o];s.sort(function(t,e){return t-e}),s=s[ct(n/2)],t=dt(t,i[0]),e=ut(e,i[n-1]),this.groupIntervalFactor=o=n*s/(e-t)}return o},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange:t/(e/this.closestPointRange):t}}),te(me.prototype,"pan",function(t,e){var i=this.xAxis[0],o=e.chartX,n=!1;if(i.options.ordinal&&i.series.length){var s,r=this.mouseDownX,a=i.getExtremes(),l=a.dataMax,h=a.min,c=a.max,p=this.hoverPoints,d=i.closestPointRange,r=(r-o)/(i.translationSlope*(i.ordinalSlope||d)),g={ordinalPositions:i.getExtendedPositions()},d=i.lin2val,f=i.val2lin;g.ordinalPositions?gt(r)>1&&(p&&Ht(p,function(t){t.setState()}),0>r?(p=g,s=i.ordinalPositions?i:g):(p=i.ordinalPositions?i:g,s=g),g=s.ordinalPositions,l>g[g.length-1]&&g.push(l),this.fixedRange=c-h,r=i.toFixedRange(null,null,d.apply(p,[f.apply(p,[h,!0])+r,!0]),d.apply(s,[f.apply(s,[c,!0])+r,!0])),r.min>=ut(a.dataMin,h)&&r.max<=dt(l,c)&&i.setExtremes(r.min,r.max,!0,!1,{trigger:"pan"}),this.mouseDownX=o,u(this.container,{cursor:"move"})):n=!0}else n=!0;n&&t.apply(this,Array.prototype.slice.call(arguments,1))}),ve.prototype.gappedPath=function(){var t=this.options.gapSize,e=this.points.slice(),i=e.length-1;if(t&&i>0)for(;i--;)e[i+1].x-e[i].x>this.closestPointRange*t&&e.splice(i+1,0,{isNull:!0});return this.getGraphPath(e)},function(t){t(rt)}(function(t){function e(){return Array.prototype.slice.call(arguments,1)}function i(t){t.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,o(this.pointArrayMap,["y"]))}var o=t.pick,n=t.wrap,s=t.each,r=t.extend,a=t.fireEvent,l=t.Axis,h=t.Series;r(l.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,o=t.from,n=t.to-t.from,i=e>=o?(e-o)%i:i-(o-e)%i;return t.inclusive?n>=i:n>i&&0!==i},isInAnyBreak:function(t,e){var i,n,s,r=this.options.breaks,a=r&&r.length;if(a){for(;a--;)this.isInBreak(r[a],t)&&(i=!0,n||(n=o(r[a].showPoints,this.isXAxis?!1:!0)));s=i&&e?i&&!n:i}return s}}),n(l.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,i=this.tickPositions,o=this.tickPositions.info,n=[];for(e=0;e<i.length;e++)this.isInAnyBreak(i[e])||n.push(i[e]);this.tickPositions=n,this.tickPositions.info=o}}),n(l.prototype,"init",function(t,e,i){if(i.breaks&&i.breaks.length&&(i.ordinal=!1),t.call(this,e,i),this.options.breaks){var o=this;o.isBroken=!0,this.val2lin=function(t){var e,i,n=t;for(i=0;i<o.breakArray.length;i++)if(e=o.breakArray[i],e.to<=t)n-=e.len;else{if(e.from>=t)break;if(o.isInBreak(e,t)){n-=t-e.from;break}}return n},this.lin2val=function(t){var e,i;for(i=0;i<o.breakArray.length&&(e=o.breakArray[i],!(e.from>=t));i++)e.to<t?t+=e.len:o.isInBreak(e,t)&&(t+=e.len);return t},this.setExtremes=function(t,e,i,o,n){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;l.prototype.setExtremes.call(this,t,e,i,o,n)},this.setAxisTranslation=function(t){l.prototype.setAxisTranslation.call(this,t);var e,i,n,s,r=o.options.breaks,t=[],h=[],c=0,p=o.userMin||o.min,d=o.userMax||o.max;for(s in r)i=r[s],e=i.repeat||1/0,o.isInBreak(i,p)&&(p+=i.to%e-p%e),o.isInBreak(i,d)&&(d-=d%e-i.from%e);for(s in r){for(i=r[s],n=i.from,e=i.repeat||1/0;n-e>p;)n-=e;for(;p>n;)n+=e;for(;d>n;n+=e)t.push({value:n,move:"in"}),t.push({value:n+(i.to-i.from),move:"out",size:i.breakSize})}t.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),r=0,n=p;for(s in t)i=t[s],r+="in"===i.move?1:-1,1===r&&"in"===i.move&&(n=i.value),0===r&&(h.push({from:n,to:i.value,len:i.value-n-(i.size||0)}),c+=i.value-n-(i.size||0));o.breakArray=h,a(o,"afterBreaks"),o.transA*=(d-o.min)/(d-p-c),o.min=p,o.max=d}}}),n(h.prototype,"generatePoints",function(t){t.apply(this,e(arguments));var i,o,n=this.xAxis,s=this.yAxis,r=this.points,a=r.length,l=this.options.connectNulls;if(n&&s&&(n.options.breaks||s.options.breaks))for(;a--;)i=r[a],o=null===i.y&&l===!1,o||!n.isInAnyBreak(i.x,!0)&&!s.isInAnyBreak(i.y,!0)||(r.splice(a,1),this.data[a]&&this.data[a].destroyElements())}),t.Series.prototype.drawBreaks=function(t,e){var i,n,r,l,h=this,c=h.points;s(e,function(e){i=t.breakArray||[],n=t.isXAxis?t.min:o(h.options.threshold,t.min),s(c,function(h){l=o(h["stack"+e.toUpperCase()],h[e]),s(i,function(e){r=!1,n<e.from&&l>e.to||n>e.from&&l<e.from?r="pointBreak":(n<e.from&&l>e.from&&l<e.to||n>e.from&&l>e.to&&l<e.from)&&(r="pointInBreak"),r&&a(t,r,{point:h,brk:e})})})})},n(t.seriesTypes.column.prototype,"drawPoints",i),n(t.Series.prototype,"drawPoints",i)});var Ae=ve.prototype,Se=Ae.processData,Me=Ae.generatePoints,Ce=Ae.destroy,Pe={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Le={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Te=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],De={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length,t=De.sum(t);return Jt(t)&&e&&(t/=e),t},open:function(t){return t.length?t[0]:t.hasNulls?null:E},high:function(t){return t.length?A(t):t.hasNulls?null:E},low:function(t){return t.length?k(t):t.hasNulls?null:E},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:E},ohlc:function(t,e,i,o){return t=De.open(t),e=De.high(e),i=De.low(i),o=De.close(o),Jt(t)||Jt(e)||Jt(i)||Jt(o)?[t,e,i,o]:void 0},range:function(t,e){return t=De.low(t),e=De.high(e),Jt(t)||Jt(e)?[t,e]:void 0}};Ae.groupData=function(t,e,i,o){var n,s,r,a=this.data,l=this.options.data,h=[],c=[],p=[],d=t.length,u=!!e,g=[[],[],[],[]],o="function"==typeof o?o:De[o],f=this.pointArrayMap,m=f&&f.length,x=0;for(r=0;d>=r&&!(t[r]>=i[0]);r++);for(;d>=r;r++){for(;(i[1]!==E&&t[r]>=i[1]||r===d)&&(n=i.shift(),s=o.apply(0,g),s!==E&&(h.push(n),c.push(s),p.push({start:x,length:g[0].length})),x=r,g[0]=[],g[1]=[],g[2]=[],g[3]=[],r!==d););if(r===d)break;if(f){n=this.cropStart+r,n=a&&a[n]||this.pointClass.prototype.applyOptions.apply({series:this},[l[n]]);var y;for(s=0;m>s;s++)y=n[f[s]],Jt(y)?g[s].push(y):null===y&&(g[s].hasNulls=!0)}else n=u?e[r]:null,Jt(n)?g[0].push(n):null===n&&(g[0].hasNulls=!0)}return[h,c,p]},Ae.processData=function(){var t,e=this.chart,i=this.options.dataGrouping,o=this.allowDG!==!1&&i&&Qt(i.enabled,e.options._stock);if(this.forceCrop=o,this.groupPixelWidth=null,this.hasProcessed=!0,Se.apply(this,arguments)!==!1&&o){this.destroyGroupedData();var n=this.processedXData,s=this.processedYData,r=e.plotSizeX,e=this.xAxis,a=e.options.ordinal,l=this.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth();if(l){t=!0,this.points=null;var c=e.getExtremes(),o=c.min,c=c.max,a=a&&e.getGroupIntervalFactor(o,c,this)||1,r=l*(c-o)/r*a,l=e.getTimeTicks(e.normalizeTimeTickInterval(r,i.units||Te),Math.min(o,n[0]),Math.max(c,n[n.length-1]),e.options.startOfWeek,n,this.closestPointRange),n=Ae.groupData.apply(this,[n,s,l,i.approximation]),s=n[0],a=n[1];if(i.smoothed){for(i=s.length-1,s[i]=Math.min(s[i],c);i--&&i>0;)s[i]+=r/2;s[0]=Math.max(s[0],o)}this.currentDataGrouping=l.info,this.closestPointRange=l.info.totalRange,this.groupMap=n[2],h(s[0])&&s[0]<e.dataMin&&(e.min===e.dataMin&&(e.min=s[0]),e.dataMin=s[0]),this.processedXData=s,this.processedYData=a}else this.currentDataGrouping=this.groupMap=null;this.hasGroupedData=t}},Ae.destroyGroupedData=function(){var t=this.groupedData;Ht(t||[],function(e,i){e&&(t[i]=e.destroy?e.destroy():null)}),this.groupedData=null},Ae.generatePoints=function(){Me.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},te(le.prototype,"tooltipFooterHeaderFormatter",function(t,e,i){var o,n=e.series,s=n.tooltipOptions,r=n.options.dataGrouping,a=s.xDateFormat,l=n.xAxis;return l&&"datetime"===l.options.type&&r&&Jt(e.key)?(t=n.currentDataGrouping,r=r.dateTimeLabelFormats,t?(l=r[t.unitName],1===t.count?a=l[0]:(a=l[1],o=l[2])):!a&&r&&(a=this.getXDateFormat(e,s,l)),a=H(a,e.key),o&&(a+=H(o,e.key+t.totalRange-1)),y(s[(i?"footer":"header")+"Format"],{point:qt(e,{key:a}),series:n})):t.call(this,e,i)}),Ae.destroy=function(){for(var t=this.groupedData||[],e=t.length;e--;)t[e]&&t[e].destroy();Ce.apply(this)},te(Ae,"setOptions",function(t,e){var i=t.call(this,e),n=this.type,s=this.chart.options.plotOptions,r=ee[n].dataGrouping;return Le[n]&&(r||(r=o(Pe,Le[n])),i.dataGrouping=o(r,s.series&&s.series.dataGrouping,s[n].dataGrouping,e.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),i}),te(ae.prototype,"setScale",function(t){t.call(this),Ht(this.series,function(t){t.hasProcessed=!1})}),ae.prototype.getGroupPixelWidth=function(){var t,e,i=this.series,o=i.length,n=0,s=!1;for(t=o;t--;)(e=i[t].options.dataGrouping)&&(n=dt(n,e.groupPixelWidth));for(t=o;t--;)(e=i[t].options.dataGrouping)&&i[t].hasProcessed&&(o=(i[t].processedXData||i[t].data).length,(i[t].groupPixelWidth||o>this.chart.plotSizeX/n||o&&e.forced)&&(s=!0));return s?n:0},ae.prototype.setDataGrouping=function(t,e){var i,e=Qt(e,!0);if(t||(t={forced:!1,units:null}),this instanceof ae)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:t},!1);else Ht(this.chart.options.series,function(e){e.dataGrouping=t},!1);e&&this.chart.redraw()},ee.ohlc=o(ee.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">?</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),ie=f(Wt.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Wt.column.prototype.getAttribs.apply(this,arguments);var t=this.options,e=t.states,t=t.upColor||this.color,i=o(this.pointAttr),n=this.upColorProp;i[""][n]=t,i.hover[n]=e.hover.upColor||t,i.select[n]=e.select.upColor||t,Ht(this.points,function(t){t.open<t.close&&!t.options.color&&(t.pointAttr=i)})},translate:function(){var t=this.yAxis;Wt.column.prototype.translate.apply(this),Ht(this.points,function(e){null!==e.open&&(e.plotOpen=t.translate(e.open,0,1,0,1)),null!==e.close&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t,e,i,o,n,s,r,a,l=this,h=l.chart;Ht(l.points,function(c){c.plotY!==E&&(r=c.graphic,t=c.pointAttr[c.selected?"selected":""]||l.pointAttr[""],o=t["stroke-width"]%2/2,a=ht(c.plotX)-o,n=ht(c.shapeArgs.width/2),s=["M",a,ht(c.yBottom),"L",a,ht(c.plotY)],null!==c.open&&(e=ht(c.plotOpen)+o,s.push("M",a,e,"L",a-n,e)),null!==c.close&&(i=ht(c.plotClose)+o,s.push("M",a,i,"L",a+n,i)),r?r.attr(t).animate({d:s}):c.graphic=h.renderer.path(s).attr(t).add(l.group))})},animate:null}),Wt.ohlc=ie,ee.candlestick=o(ee.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:ee.ohlc.tooltip,threshold:null,upColor:"white"}),ie=f(ie,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Wt.ohlc.prototype.getAttribs.apply(this,arguments);var t=this.options,e=t.states,i=t.upLineColor||t.lineColor,n=e.hover.upLineColor||i,s=e.select.upLineColor||i;Ht(this.points,function(t){t.open<t.close&&(t.lineColor&&(t.pointAttr=o(t.pointAttr),i=t.lineColor),t.pointAttr[""].stroke=i,t.pointAttr.hover.stroke=n,t.pointAttr.select.stroke=s)})},drawPoints:function(){var t,e,i,o,n,s,r,a,l,h,c,p,d=this,u=d.chart,g=d.pointAttr[""];Ht(d.points,function(f){h=f.graphic,f.plotY!==E&&(t=f.pointAttr[f.selected?"selected":""]||g,a=t["stroke-width"]%2/2,l=ht(f.plotX)-a,e=f.plotOpen,i=f.plotClose,o=lt.min(e,i),n=lt.max(e,i),p=ht(f.shapeArgs.width/2),s=ht(o)!==ht(f.plotY),r=n!==f.yBottom,o=ht(o)+a,n=ht(n)+a,c=[],c.push("M",l-p,n,"L",l-p,o,"L",l+p,o,"L",l+p,n,"Z","M",l,o,"L",l,s?ht(f.plotY):o,"M",l,n,"L",l,r?ht(f.yBottom):n),h?h.attr(t).animate({d:c}):f.graphic=u.renderer.path(c).attr(t).add(d.group).shadow(d.options.shadow))})}}),Wt.candlestick=ie;var Ie=oe.prototype.symbols;ee.flags=o(ee.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),Wt.flags=f(Wt.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:ve.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Wt.column.prototype.translate.apply(this);var t,e,i=this.options,o=this.chart,n=this.points,s=n.length-1,r=i.onSeries;t=r&&o.get(r);var a,l,h,i=i.onKey||"y",r=t&&t.options.step,c=t&&t.points,p=c&&c.length,d=this.xAxis,u=d.getExtremes();if(t&&t.visible&&p)for(t=t.currentDataGrouping,l=c[p-1].x+(t?t.totalRange:0),n.sort(function(t,e){return t.x-e.x}),i="plot"+i[0].toUpperCase()+i.substr(1);p--&&n[s]&&(t=n[s],a=c[p],!(a.x<=t.x&&void 0!==a[i]&&(t.x<=l&&(t.plotY=a[i],a.x<t.x&&!r&&(h=c[p+1])&&h[i]!==E&&(t.plotY+=(t.x-a.x)/(h.x-a.x)*(h[i]-a[i]))),s--,p++,0>s))););Ht(n,function(t,i){var s;t.plotY===E&&(t.x>=u.min&&t.x<=u.max?t.plotY=o.chartHeight-d.bottom-(d.opposite?d.height:0)+d.offset-o.plotTop:t.shapeArgs={}),(e=n[i-1])&&e.plotX===t.plotX&&(e.stackIndex===E&&(e.stackIndex=0),s=e.stackIndex+1),t.stackIndex=s})},drawPoints:function(){var t,e,i,n,s,r,a,l,h,c=this.pointAttr[""],p=this.points,d=this.chart,u=d.renderer,g=this.options,f=g.y,m=this.yAxis;for(s=p.length;s--;)r=p[s],t=r.plotX>this.xAxis.len,e=r.plotX,e>0&&(e-=Qt(r.lineWidth,g.lineWidth)%2),a=r.stackIndex,n=r.options.shape||g.shape,i=r.plotY,i!==E&&(i=r.plotY+f-(a!==E&&a*g.stackDistance)),l=a?E:r.plotX,h=a?E:r.plotY,a=r.graphic,i!==E&&e>=0&&!t?(t=r.pointAttr[r.selected?"select":""]||c,a?a.attr({x:e,y:i,r:t.r,anchorX:l,anchorY:h}):r.graphic=u.label(r.options.title||g.title||"A",e,i,n,l,h,g.useHTML).css(o(g.style,r.style)).attr(t).attr({align:"flag"===n?"left":"center",width:g.width,height:g.height}).add(this.markerGroup).shadow(g.shadow),r.tooltipPos=d.inverted?[m.len+m.pos-d.plotLeft-i,this.xAxis.len-e]:[e,i]):a&&(r.graphic=a.destroy())},drawTracker:function(){var t=this.points;ke.drawTrackerPoint.apply(this),Ht(t,function(e){var i=e.graphic;i&&_t(i.element,"mouseover",function(){e.stackIndex>0&&!e.raised&&(e._y=i.y,i.attr({y:e._y-8}),e.raised=!0),Ht(t,function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:Ot,buildKDTree:Ot,setClip:Ot}),Ie.flag=function(t,e,i,o,n){return["M",n&&n.anchorX||t,n&&n.anchorY||e,"L",t,e+o,t,e,t+i,e,t+i,e+o,t,e+o,"Z"]},Ht(["circle","square"],function(t){Ie[t+"pin"]=function(e,i,o,n,s){var r=s&&s.anchorX,s=s&&s.anchorY;return"circle"===t&&n>o&&(e-=ht((n-o)/2),o=n),e=Ie[t](e,i,o,n),r&&s&&e.push("M",r,i>s?i:i+n,"L",r,s),e}}),X===rt.VMLRenderer&&Ht(["flag","circlepin","squarepin"],function(t){ne.prototype.symbols[t]=Ie[t]});var ie=[].concat(Te),Oe=function(t){var e=Ft(arguments,function(t){return Jt(t)});return e.length?Math[t].apply(0,e):void 0};ie[4]=["day",[1,2,3,4]],ie[5]=["week",[1,2,3]],qt(G,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:Wt.areaspline===E?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:ie},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:null,lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:Mt?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Pt&&!Mt}}),z.prototype={drawHandle:function(t,e){var i,o=this.chart.renderer,n=this.elementsToDestroy,s=this.handles,r=this.navigatorOptions.handles,r={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":1};this.rendered||(s[e]=o.g("navigator-handle-"+["left","right"][e]).css({cursor:"ew-resize"}).attr({zIndex:10-e}).add(),i=o.rect(-4.5,0,9,16,0,1).attr(r).add(s[e]),n.push(i),i=o.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(r).add(s[e]),n.push(i)),s[e][this.rendered?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(t,10),
translateY:this.top+this.height/2-8})},drawScrollbarButton:function(t){var e,i=this.chart.renderer,o=this.elementsToDestroy,n=this.scrollbarButtons,s=this.scrollbarHeight,r=this.scrollbarOptions;this.rendered||(n[t]=i.g().add(this.scrollbarGroup),e=i.rect(-.5,-.5,s+1,s+1,r.buttonBorderRadius,r.buttonBorderWidth).attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}).add(n[t]),o.push(e),e=i.path(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,s/2+(t?2:-2),s/2]).attr({fill:r.buttonArrowColor}).add(n[t]),o.push(e)),t&&n[t].attr({translateX:this.scrollerWidth-s})},render:function(t,e,i,o){var n,s,r,a,l=this.chart,c=l.renderer,p=this.scrollbarGroup,d=this.navigatorGroup,u=this.scrollbar,d=this.xAxis,g=this.scrollbarTrack,f=this.scrollbarHeight,m=this.scrollbarEnabled,x=this.navigatorOptions,y=this.scrollbarOptions,v=y.minWidth,b=this.height,w=this.top,k=this.navigatorEnabled,A=x.outlineWidth,S=A/2,M=0,C=this.outlineHeight,P=y.barBorderRadius,L=y.barBorderWidth,T=w+S,D=this.rendered;Jt(t)&&Jt(e)&&(!this.hasDragged||h(i))&&(this.navigatorLeft=n=Qt(d.left,l.plotLeft+f),this.navigatorWidth=s=Qt(d.len,l.plotWidth-2*f),this.scrollerLeft=r=n-f,this.scrollerWidth=a=a=s+2*f,i=Qt(i,d.translate(t)),o=Qt(o,d.translate(e)),Jt(i)&&gt(i)!==1/0||(i=0,o=a),d.translate(o,!0)-d.translate(i,!0)<l.xAxis[0].minRange||(this.zoomedMax=ut(dt(i,o,0),s),this.zoomedMin=ut(dt(this.fixedWidth?this.zoomedMax-this.fixedWidth:ut(i,o),0),s),this.range=this.zoomedMax-this.zoomedMin,i=ht(this.zoomedMax),e=ht(this.zoomedMin),t=i-e,D||(k&&(this.navigatorGroup=d=c.g("navigator").attr({zIndex:3}).add(),this.leftShade=c.rect().attr({fill:x.maskFill}).add(d),x.maskInside?this.leftShade.css({cursor:"ew-resize"}):this.rightShade=c.rect().attr({fill:x.maskFill}).add(d),this.outline=c.path().attr({"stroke-width":A,stroke:x.outlineColor}).add(d)),m&&(this.scrollbarGroup=p=c.g("scrollbar").add(),u=y.trackBorderWidth,this.scrollbarTrack=g=c.rect().attr({x:0,y:-u%2/2,fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":u,r:y.trackBorderRadius||0,height:f}).add(p),this.scrollbar=u=c.rect().attr({y:-L%2/2,height:f,fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":L,r:P}).add(p),this.scrollbarRifles=c.path().attr({stroke:y.rifleColor,"stroke-width":1}).add(p))),c=D?"animate":"attr",k&&(this.leftShade[c](x.maskInside?{x:n+e,y:w,width:i-e,height:b}:{x:n,y:w,width:e,height:b}),this.rightShade&&this.rightShade[c]({x:n+i,y:w,width:s-i,height:b}),this.outline[c]({d:["M",r,T,"L",n+e-S,T,n+e-S,T+C,"L",n+i-S,T+C,"L",n+i-S,T,r+a,T].concat(x.maskInside?["M",n+e+S,T,"L",n+i-S,T]:[])}),this.drawHandle(e+S,0),this.drawHandle(i+S,1)),m&&p&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),p[c]({translateX:r,translateY:ht(T+b)}),g[c]({width:a}),n=f+e,s=t-L,v>s&&(M=(v-s)/2,s=v,n-=M),this.scrollbarPad=M,u[c]({x:ct(n)+L%2/2,width:s}),v=f+e+t/2-.5,this.scrollbarRifles.attr({visibility:t>12?"visible":"hidden"})[c]({d:["M",v-3,f/4,"L",v-3,2*f/3,"M",v,f/4,"L",v,2*f/3,"M",v+3,f/4,"L",v+3,2*f/3]})),this.scrollbarPad=M,this.rendered=!0))},addEvents:function(){var t,e=this.chart,i=e.container,o=this.mouseDownHandler,n=this.mouseMoveHandler,s=this.mouseUpHandler;t=[[i,"mousedown",o],[i,"mousemove",n],[at,"mouseup",s]],W&&t.push([i,"touchstart",o],[i,"touchmove",n],[at,"touchend",s]),Ht(t,function(t){_t.apply(null,t)}),this._events=t,this.series&&_t(this.series.xAxis,"foundExtremes",function(){e.scroller.modifyNavigatorAxisExtremes()}),_t(e,"redraw",function(){var t,e=this.scroller;e&&(t=e.baseSeries.xAxis)&&e.render(t.min,t.max)})},removeEvents:function(){Ht(this._events,function(t){Ut.apply(null,t)}),this._events=E,this.navigatorEnabled&&this.baseSeries&&Ut(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var t,e,i,n=this,s=n.chart,r=n.scrollbarHeight,a=n.navigatorOptions,l=n.height,c=n.top,p=n.baseSeries;n.mouseDownHandler=function(e){var o,e=s.pointer.normalize(e),r=n.zoomedMin,a=n.zoomedMax,h=n.top,c=n.scrollbarHeight,p=n.scrollerLeft,d=n.scrollerWidth,u=n.navigatorLeft,g=n.navigatorWidth,f=n.scrollbarPad,m=n.range,x=e.chartX,y=e.chartY,e=s.xAxis[0],v=Mt?10:7;y>h&&h+l+c>y&&((h=!n.scrollbarEnabled||h+l>y)&&lt.abs(x-r-u)<v?(n.grabbedLeft=!0,n.otherHandlePos=a,n.fixedExtreme=e.max,s.fixedRange=null):h&&lt.abs(x-a-u)<v?(n.grabbedRight=!0,n.otherHandlePos=r,n.fixedExtreme=e.min,s.fixedRange=null):x>u+r-f&&u+a+f>x?(n.grabbedCenter=x,n.fixedWidth=m,i=x-r):x>p&&p+d>x&&(a=h?x-u-m/2:u>x?r-.2*m:x>p+d-c?r+.2*m:u+r>x?r-m:a,0>a?a=0:a+m>=g&&(a=g-m,o=n.getUnionExtremes().dataMax),a!==r&&(n.fixedWidth=m,r=t.toFixedRange(a,a+m,null,o),e.setExtremes(r.min,r.max,!0,!1,{trigger:"navigator"}))))},n.mouseMoveHandler=function(t){var e,o,r=n.scrollbarHeight,a=n.navigatorLeft,l=n.navigatorWidth,h=n.scrollerLeft,c=n.scrollerWidth,p=n.range;t.touches&&0===t.touches[0].pageX||(t=s.pointer.normalize(t),e=t.chartX,a>e?e=a:e>h+c-r&&(e=h+c-r),n.grabbedLeft?(o=!0,n.render(0,0,e-a,n.otherHandlePos)):n.grabbedRight?(o=!0,n.render(0,0,n.otherHandlePos,e-a)):n.grabbedCenter&&(o=!0,i>e?e=i:e>l+i-p&&(e=l+i-p),n.render(0,0,e-i,e-i+p)),o&&n.scrollbarOptions.liveRedraw&&setTimeout(function(){n.mouseUpHandler(t)},0),n.hasDragged=o)},n.mouseUpHandler=function(e){var o,r;n.hasDragged&&(n.zoomedMin===n.otherHandlePos?o=n.fixedExtreme:n.zoomedMax===n.otherHandlePos&&(r=n.fixedExtreme),n.zoomedMax===n.navigatorWidth&&(r=n.getUnionExtremes().dataMax),o=t.toFixedRange(n.zoomedMin,n.zoomedMax,o,r),h(o.min)&&s.xAxis[0].setExtremes(o.min,o.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})),"mousemove"!==e.type&&(n.grabbedLeft=n.grabbedRight=n.grabbedCenter=n.fixedWidth=n.fixedExtreme=n.otherHandlePos=n.hasDragged=i=null)};var d=s.xAxis.length,u=s.yAxis.length;s.extraBottomMargin=n.outlineHeight+a.margin,n.navigatorEnabled?(n.xAxis=t=new ae(s,o({breaks:p&&p.xAxis.options.breaks,ordinal:p&&p.xAxis.options.ordinal},a.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:d,height:l,offset:0,offsetLeft:r,offsetRight:-r,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),n.yAxis=e=new ae(s,o(a.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:l,offset:0,index:u,zoomEnabled:!1})),p||a.series.data?n.addBaseSeries():0===s.series.length&&te(s,"redraw",function(t,e){s.series.length>0&&!n.series&&(n.setBaseSeries(),s.redraw=t),t.call(s,e)})):n.xAxis=t={translate:function(t,e){var i=s.xAxis[0],o=i.getExtremes(),n=s.plotWidth-2*r,a=Oe("min",i.options.min,o.dataMin),i=Oe("max",i.options.max,o.dataMax)-a;return e?t*i/n+a:n*(t-a)/i},toFixedRange:ae.prototype.toFixedRange},p&&p.xAxis&&this.navigatorOptions.adaptToUpdatedData!==!1&&(_t(p,"updatedData",this.updatedDataHandler),_t(p.xAxis,"foundExtremes",function(){p.xAxis&&this.chart.scroller.modifyBaseAxisExtremes()}),p.userOptions.events=qt(p.userOptions.event,{updatedData:this.updatedDataHandler})),te(s,"getMargins",function(i){var o=this.legend,s=o.options;i.apply(this,[].slice.call(arguments,1)),n.top=c=n.navigatorOptions.top||this.chartHeight-n.height-n.scrollbarHeight-this.spacing[2]-("bottom"===s.verticalAlign&&s.enabled&&!s.floating?o.legendHeight+Qt(s.margin,10):0),t&&e&&(t.options.top=e.options.top=c,t.setAxisSize(),e.setAxisSize())}),n.addEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],o=this.xAxis,n=o.options,s=i.options;return t&&null===i.dataMin||(e={dataMin:Qt(n&&n.min,Oe("min",s.min,i.dataMin,o.dataMin,o.min)),dataMax:Qt(n&&n.max,Oe("max",s.max,i.dataMax,o.dataMax,o.max))}),e},setBaseSeries:function(t){var e=this.chart,t=t||e.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=e.series[t]||"string"==typeof t&&e.get(t)||e.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var t,e=this.baseSeries,i=e?e.options:{},e=i.data,n=this.navigatorOptions.series;t=n.data,this.hasNavigatorData=!!t,i=o(i,n,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0}),i.data=t||e.slice(0),this.series=this.chart.initSeries(i)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;e.getExtremes&&(t=this.getUnionExtremes(!0))&&(t.dataMin!==e.min||t.dataMax!==e.max)&&(e.min=t.dataMin,e.max=t.dataMax)},modifyBaseAxisExtremes:function(){var t,e,i=this.baseSeries.xAxis,o=i.getExtremes(),n=o.dataMin,s=o.dataMax,o=o.max-o.min,r=this.stickToMin,a=this.stickToMax,l=this.series,h=!!i.setExtremes;r&&(e=n,t=e+o),a&&(t=s,r||(e=dt(t-o,l?l.xData[0]:-Number.MAX_VALUE))),h&&(r||a)&&Jt(e)&&(i.min=i.userMin=e,i.max=i.userMax=t),this.stickToMin=this.stickToMax=null},updatedDataHandler:function(){var t=this.chart.scroller,e=t.baseSeries,i=t.series;t.stickToMin=e.xAxis.min<=e.xData[0],t.stickToMax=t.zoomedMax>=t.navigatorWidth,i&&!t.hasNavigatorData&&(i.options.pointStart=e.xData[0],i.setData(e.options.data,!1),i.graph&&e.graph)&&(i.graph.shift=e.graph.shift)},destroy:function(){this.removeEvents(),Ht([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(t){t&&t.destroy&&t.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Ht([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(t){S(t)})}},rt.Scroller=z,te(ae.prototype,"zoom",function(t,e,i){var o,n=this.chart,s=n.options,r=s.chart.zoomType,a=s.navigator,s=s.rangeSelector;return this.isXAxis&&(a&&a.enabled||s&&s.enabled)&&("x"===r?n.resetZoomButton="blocked":"y"===r?o=!1:"xy"===r&&(n=this.previousZoom,h(e)?this.previousZoom=[this.min,this.max]:n&&(e=n[0],i=n[1],delete this.previousZoom))),o!==E?o:t.call(this,e,i)}),te(me.prototype,"init",function(t,e,i){_t(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=new z(this))}),t.call(this,e,i)}),te(ve.prototype,"addPoint",function(t,i,o,n,s){var l=this.options.turboThreshold;l&&this.xData.length>l&&r(i)&&!a(i)&&this.chart.scroller&&e(20,!0),t.call(this,i,o,n,s)}),qt(G,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),G.lang=o(G.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),R.prototype={clickButton:function(t,e){var i,o,n,s,r,a=this,l=a.selected,h=a.chart,c=a.buttons,p=a.buttonOptions[t],d=h.xAxis[0],u=h.scroller&&h.scroller.getUnionExtremes()||d||{},g=u.dataMin,f=u.dataMax,m=d&&ht(ut(d.max,Qt(f,d.max))),x=p.type,u=p._range,y=p.dataGrouping;if(null!==g&&null!==f&&t!==a.selected){if(h.fixedRange=u,y&&(this.forcedDataGrouping=!0,ae.prototype.setDataGrouping.call(d||{chart:this.chart},y,!1)),"month"===x||"year"===x)d?(x={range:p,max:m,dataMin:g,dataMax:f},i=d.minFromRange.call(x),Jt(x.newMax)&&(m=x.newMax)):u=p;else if(u)i=dt(m-u,g),m=ut(i+u,f);else if("ytd"===x){if(!d)return void _t(h,"beforeRender",function(){a.clickButton(t)});f===E&&(g=Number.MAX_VALUE,f=Number.MIN_VALUE,Ht(h.series,function(t){t=t.xData,g=ut(t[0],g),f=dt(t[t.length-1],f)}),e=!1),m=new N(f),i=m.getFullYear(),i=n=dt(g||0,N.UTC(i,0,1)),m=m.getTime(),m=ut(f||m,m)}else"all"===x&&d&&(i=g,m=f);c[l]&&c[l].setState(0),c[t]&&(c[t].setState(2),a.lastSelected=t),d?(d.setExtremes(i,m,Qt(e,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:p}),a.setSelected(t)):(o=h.options.xAxis[0],r=o.range,o.range=u,s=o.min,o.min=n,a.setSelected(t),_t(h,"load",function(){o.range=r,o.min=s}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,i=t.options.rangeSelector,o=i.buttons||[].concat(e.defaultButtons),n=i.selected,s=e.blurInputs=function(){var t=e.minInput,i=e.maxInput;t&&t.blur&&jt(t,"blur"),i&&i.blur&&jt(i,"blur")};e.chart=t,e.options=i,e.buttons=[],t.extraTopMargin=i.height,e.buttonOptions=o,_t(t.container,"mousedown",s),_t(t,"resize",s),Ht(o,e.computeButtonRange),n!==E&&o[n]&&this.clickButton(n,!1),_t(t,"load",function(){_t(t.xAxis[0],"setExtremes",function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),_t(t.xAxis[0],"afterSetExtremes",function(){e.updateButtonStates(!0)})})},updateButtonStates:function(t){var e=this,i=this.chart,o=i.xAxis[0],n=i.scroller&&i.scroller.getUnionExtremes()||o,s=n.dataMin,r=n.dataMax,a=e.selected,l=e.options.allButtonsEnabled,h=e.buttons;t&&i.fixedRange!==ht(o.max-o.min)&&(h[a]&&h[a].setState(0),e.setSelected(null)),Ht(e.buttonOptions,function(t,n){var c=ht(o.max-o.min),p=t._range,d=t.type,u=t.count||1,g=p>r-s,f=p<o.minRange,m="all"===t.type&&o.max-o.min>=r-s&&2!==h[n].state,x="ytd"===t.type&&H("%Y",s)===H("%Y",r),y=i.renderer.forExport&&n===a,p=p===c,v=!o.hasVisibleSeries;("month"===d||"year"===d)&&c>=864e5*{month:28,year:365}[d]*u&&c<=864e5*{month:31,year:366}[d]*u&&(p=!0),y||p&&n!==a&&n===e.lastSelected?(e.setSelected(n),h[n].setState(2)):!l&&(g||f||m||x||v)?h[n].setState(3):3===h[n].state&&h[n].setState(0)})},computeButtonRange:function(t){var e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:("month"===e||"year"===e)&&(t._range=864e5*{month:30,year:365}[e]*i)},setInputValue:function(t,e){var i=this.chart.options.rangeSelector;h(e)&&(this[t+"Input"].HCTime=e),this[t+"Input"].value=H(i.inputEditDateFormat||"%Y-%m-%d",this[t+"Input"].HCTime),this[t+"DateBox"].attr({text:H(i.inputDateFormat||"%b %e, %Y",this[t+"Input"].HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];u(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){u(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function e(){var t=i.value,e=(c.inputDateParser||N.parse)(t),o=a.xAxis[0],s=o.dataMin,l=o.dataMax;e!==i.previousValue&&(i.previousValue=e,Jt(e)||(e=t.split("-"),e=N.UTC(n(e[0]),n(e[1])-1,n(e[2]))),Jt(e)&&(G.global.useUTC||(e+=6e4*(new N).getTimezoneOffset()),d?e>r.maxInput.HCTime?e=E:s>e&&(e=s):e<r.minInput.HCTime?e=E:e>l&&(e=l),e!==E&&a.xAxis[0].setExtremes(d?e:o.min,d?o.max:e,E,E,{trigger:"rangeSelectorInput"})))}var i,s,r=this,a=r.chart,l=a.renderer.style,h=a.renderer,c=a.options.rangeSelector,p=r.div,d="min"===t,u=this.inputGroup;this[t+"Label"]=s=h.label(G.lang[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(o(l,c.labelStyle)).add(u),u.offset+=s.width+5,this[t+"DateBox"]=h=h.label("",u.offset).attr({padding:2,width:c.inputBoxWidth||90,height:c.inputBoxHeight||17,stroke:c.inputBoxBorderColor||"silver","stroke-width":1}).css(o({textAlign:"center",color:"#444"},l,c.inputStyle)).on("click",function(){r.showInput(t),r[t+"Input"].focus()}).add(u),u.offset+=h.width+(d?10:0),this[t+"Input"]=i=g("input",{name:t,className:"highcharts-range-selector",type:"text"},qt({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:l.fontSize,fontFamily:l.fontFamily,left:"-9em",top:a.plotTop+"px"},c.inputStyle),p),i.onfocus=function(){r.showInput(t)},i.onblur=function(){r.hideInput(t)},i.onchange=e,i.onkeypress=function(t){13===t.keyCode&&e()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,t=Qt((e.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-e.height);return{buttonTop:t,inputTop:t-10}},render:function(t,e){var i,o=this,n=o.chart,s=n.renderer,r=n.container,a=n.options,l=a.exporting&&a.exporting.enabled!==!1&&a.navigation&&a.navigation.buttonOptions,c=a.rangeSelector,p=o.buttons,a=G.lang,d=o.div,d=o.inputGroup,u=c.buttonTheme,f=c.buttonPosition||{},m=c.inputEnabled,x=u&&u.states,y=n.plotLeft,v=this.getPosition(),b=o.group,w=o.rendered;w||(o.group=b=s.g("range-selector-buttons").add(),o.zoomText=s.text(a.rangeSelectorZoom,Qt(f.x,y),15).css(c.labelStyle).add(b),i=Qt(f.x,y)+o.zoomText.getBBox().width+5,Ht(o.buttonOptions,function(t,e){p[e]=s.button(t.text,i,0,function(){o.clickButton(e),o.isActive=!0},u,x&&x.hover,x&&x.select,x&&x.disabled).css({textAlign:"center"}).add(b),i+=p[e].width+Qt(c.buttonSpacing,5),o.selected===e&&p[e].setState(2)}),o.updateButtonStates(),m===!1)||(o.div=d=g("div",null,{position:"relative",height:0,zIndex:1}),r.parentNode.insertBefore(d,r),o.inputGroup=d=s.g("input-group").add(),d.offset=0,o.drawInput("min"),o.drawInput("max")),b[w?"animate":"attr"]({translateY:v.buttonTop}),m!==!1&&(d.align(qt({y:v.inputTop,width:d.offset,x:l&&v.inputTop<(l.y||0)+l.height-n.spacing[0]?-40:0},c.inputPosition),!0,n.spacingBox),h(m)||(n=b.getBBox(),d[d.translateX<n.x+n.width+10?"hide":"show"]()),o.setInputValue("min",t),o.setInputValue("max",e)),o.rendered=!0},destroy:function(){var t,e=this.minInput,i=this.maxInput,o=this.chart,n=this.blurInputs;Ut(o.container,"mousedown",n),Ut(o,"resize",n),S(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null);for(t in this)this[t]&&"chart"!==t&&(this[t].destroy?this[t].destroy():this[t].nodeType&&M(this[t])),this[t]=null}},ae.prototype.toFixedRange=function(t,e,i,o){var n=this.chart&&this.chart.fixedRange,t=Qt(i,this.translate(t,!0)),e=Qt(o,this.translate(e,!0)),i=n&&(e-t)/n;return i>.7&&1.3>i&&(o?t=e-n:e=t+n),Jt(t)||(t=e=void 0),{min:t,max:e}},ae.prototype.minFromRange=function(){var t,e,i,o=this.range,n={month:"Month",year:"FullYear"}[o.type],s=this.max,r=function(t,e){var i=new N(t);return i["set"+n](i["get"+n]()+e),i.getTime()-t};return Jt(o)?(t=this.max-o,i=o):t=s+r(s,-o.count),e=Qt(this.dataMin,Number.MIN_VALUE),Jt(t)||(t=e),e>=t&&(t=e,void 0===i&&(i=r(t,o.count)),this.newMax=ut(t+i,this.dataMax)),Jt(s)||(t=void 0),t},te(me.prototype,"init",function(t,e,i){_t(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new R(this))}),t.call(this,e,i)}),rt.RangeSelector=R,me.prototype.callbacks.push(function(t){function e(){o=t.xAxis[0].getExtremes(),Jt(o.min)&&s.render(o.min,o.max)}function i(t){s.render(t.min,t.max)}var o,n=t.scroller,s=t.rangeSelector;n&&(o=t.xAxis[0].getExtremes(),n.render(o.min,o.max)),s&&(_t(t.xAxis[0],"afterSetExtremes",i),_t(t,"resize",e),e()),_t(t,"destroy",function(){s&&(Ut(t,"resize",e),Ut(t.xAxis[0],"afterSetExtremes",i))})}),rt.StockChart=rt.stockChart=function(t,e,i){var n,r=s(t)||t.nodeName,a=arguments[r?1:0],l=a.series,h=Qt(a.navigator&&a.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,c={marker:{enabled:!1,radius:2}},d={shadow:!1,borderWidth:0};return a.xAxis=Vt(p(a.xAxis||{}),function(t){return o({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},t,{type:"datetime",categories:null},h)}),a.yAxis=Vt(p(a.yAxis||{}),function(t){return n=Qt(t.opposite,!0),o({labels:{y:-2},opposite:n,showLastLabel:!1,title:{text:null}},t)}),a.series=null,a=o({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:c,spline:c,area:c,areaspline:c,arearange:c,areasplinerange:c,column:d,columnrange:d,candlestick:d,ohlc:d}},a,{_stock:!0,chart:{inverted:!1}}),a.series=l,r?new me(t,a,i):new me(a,e)},te(ce.prototype,"init",function(t,e,i){var o=i.chart.pinchType||"";t.call(this,e,i),this.pinchX=this.pinchHor=-1!==o.indexOf("x"),this.pinchY=this.pinchVert=-1!==o.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),te(ae.prototype,"autoLabelAlign",function(t){var e=this.chart,i=this.options,e=e._labelPanes=e._labelPanes||{},o=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(i=i.top+","+i.height,!e[i]&&o.enabled)?(15===o.x&&(o.x=0),void 0===o.align&&(o.align="right"),e[i]=1,"right"):t.call(this,[].slice.call(arguments,1))}),te(ae.prototype,"getPlotLinePath",function(t,e,i,o,n,s){var r,a,l,c,p,d,u=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,f=u.chart,m=f.renderer,x=u.left,y=u.top,v=[],b=[];return"colorAxis"===u.coll?t.apply(this,[].slice.call(arguments,1)):(b=u.isXAxis?h(u.options.yAxis)?[f.yAxis[u.options.yAxis]]:Vt(g,function(t){return t.yAxis}):h(u.options.xAxis)?[f.xAxis[u.options.xAxis]]:Vt(g,function(t){return t.xAxis}),Ht(u.isXAxis?f.yAxis:f.xAxis,function(t){if(h(t.options.id)?-1===t.options.id.indexOf("navigator"):1){var e=t.isXAxis?"yAxis":"xAxis",e=h(t.options[e])?f[e][t.options[e]]:f[e][0];u===e&&b.push(t)}}),p=b.length?[]:[u.isXAxis?f.yAxis[0]:f.xAxis[0]],Ht(b,function(t){-1===Gt(t,p)&&p.push(t)}),d=Qt(s,u.translate(e,null,null,o)),Jt(d)&&(u.horiz?Ht(p,function(t){var e;a=t.pos,c=a+t.len,r=l=ht(d+u.transB),(x>r||r>x+u.width)&&(n?r=l=ut(dt(x,r),x+u.width):e=!0),e||v.push("M",r,a,"L",l,c)}):Ht(p,function(t){var e;r=t.pos,l=r+t.len,a=c=ht(y+u.height-d),(y>a||a>y+u.height)&&(n?a=c=ut(dt(y,a),u.top+u.height):e=!0),e||v.push("M",r,a,"L",l,c)})),v.length>0?m.crispPolyLine(v,i||1):null)}),ae.prototype.getPlotBandPath=function(t,e){var i,o=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0),s=[];if(n&&o&&n.toString()!==o.toString())for(i=0;i<n.length;i+=6)s.push("M",n[i+1],n[i+2],"L",n[i+4],n[i+5],o[i+4],o[i+5],o[i+1],o[i+2]);else s=null;return s},oe.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=ht(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=ht(t[i+2])+e%2/2);return t},X===rt.VMLRenderer&&(ne.prototype.crispPolyLine=oe.prototype.crispPolyLine),te(ae.prototype,"hideCrosshair",function(t,e){t.call(this,e),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),te(ae.prototype,"drawCrosshair",function(t,e,i){var o,n;if(t.call(this,e,i),h(this.crosshair.label)&&this.crosshair.label.enabled){var s,t=this.chart,r=this.options.crosshair.label,a=this.horiz,l=this.opposite,c=this.left,p=this.top,d=this.crossLabel,u=r.format,g="",f="inside"===this.options.tickPosition,m=this.crosshair.snap!==!1;s=a?"center":l?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",d||(d=this.crossLabel=t.renderer.label(null,null,null,r.shape||"callout").attr({align:r.align||s,zIndex:12,fill:r.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:Qt(r.padding,8),stroke:r.borderColor||"","stroke-width":r.borderWidth||0,r:Qt(r.borderRadius,3)}).css(qt({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},r.style)).add()),a?(s=m?i.plotX+c:e.chartX,p+=l?0:this.height):(s=l?this.width+c:0,p=m?i.plotY+p:e.chartY),!u&&!r.formatter&&(this.isDatetimeAxis&&(g="%b %d, %Y"),u="{value"+(g?":"+g:"")+"}"),e=m?i[this.isXAxis?"x":"y"]:this.toValue(a?e.chartX:e.chartY),d.attr({text:u?y(u,{value:e}):r.formatter.call(this,e),anchorX:a?s:this.opposite?0:t.chartWidth,anchorY:a?this.opposite?t.chartHeight:0:p,x:s,y:p,visibility:"visible"}),e=d.getBBox(),a?(f&&!l||!f&&l)&&(p=d.y-e.height):p=d.y-e.height/2,a?(o=c-e.x,n=c+this.width-e.x):(o="left"===this.labelAlign?c:0,n="right"===this.labelAlign?c+this.width:t.chartWidth),d.translateX<o&&(s+=o-d.translateX),d.translateX+e.width>=n&&(s-=d.translateX+e.width-n),d.attr({x:s,y:p,visibility:"visible"})}});var Be=Ae.init,ze=Ae.processData,Re=ye.prototype.tooltipFormatter;return Ae.init=function(){Be.apply(this,arguments),this.setCompare(this.options.compare)},Ae.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,i){var o=this.compareValue;return e!==E&&(e="value"===t?e-o:e=100*(e/o)-100,i)&&(i.change=e),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},Ae.processData=function(){var t,e,i,o,n,s=-1;if(ze.apply(this,arguments),this.xAxis&&this.processedYData)for(e=this.processedXData,i=this.processedYData,o=i.length,this.pointArrayMap&&(s=Gt(this.pointValKey||"y",this.pointArrayMap)),t=0;o>t;t++)if(n=s>-1?i[t][s]:i[t],Jt(n)&&e[t]>=this.xAxis.min&&0!==n){this.compareValue=n;break}},te(Ae,"getExtremes",function(t){var e;t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(e=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=k(e),this.dataMax=A(e))}),ae.prototype.setCompare=function(t,e){this.isXAxis||(Ht(this.series,function(e){e.setCompare(t)}),Qt(e,!0)&&this.chart.redraw())},ye.prototype.tooltipFormatter=function(t){return t=t.replace("{point.change}",(this.change>0?"+":"")+rt.numberFormat(this.change,Qt(this.series.tooltipOptions.changeDecimals,2))),Re.apply(this,[t])},te(ve.prototype,"render",function(t){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=o(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(Kt(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),t.call(this)}),qt(rt,{Color:D,Point:ye,Tick:O,Renderer:X,SVGElement:I,SVGRenderer:oe,arrayMin:k,arrayMax:A,charts:Bt,correctFloat:C,dateFormat:H,error:e,format:y,pathAnim:void 0,getOptions:function(){return G},hasBidiBug:Lt,isTouchDevice:Mt,setOptions:function(t){return G=o(!0,G,t),T(),G},addEvent:_t,removeEvent:Ut,createElement:g,discardElement:M,css:u,each:Ht,map:Vt,merge:o,splat:p,stableSort:w,extendClass:f,pInt:n,svg:Pt,canvas:Tt,vml:!Pt&&!Tt,product:"Highstock",version:"4.2.5"}),rt}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(t,e){var i,o,n,s,r=!1,a=t.x,l=t.y;for(i=0,o=e.length-1;i<e.length;o=i++)n=e[i][1]>l,s=e[o][1]>l,n!==s&&a<(e[o][0]-e[i][0])*(l-e[i][1])/(e[o][1]-e[i][1])+e[i][0]&&(r=!r);return r}function i(t,e,i,o,n,s,r,a){return["M",t+n,e,"L",t+i-s,e,"C",t+i-s/2,e,t+i,e+s/2,t+i,e+s,"L",t+i,e+o-r,"C",t+i,e+o-r/2,t+i-r/2,e+o,t+i-r,e+o,"L",t+a,e+o,"C",t+a/2,e+o,t,e+o-a/2,t,e+o-a,"L",t,e+n,"C",t,e+n/2,t+n/2,e,t+n,e,"Z"]}var o=t.animObject,n=t.Axis,s=t.Chart,r=t.Color,a=t.Point,l=t.Pointer,h=t.Legend,c=t.LegendSymbolMixin,p=t.Renderer,d=t.Series,u=t.SVGRenderer,g=t.VMLRenderer,f=t.win,m=f.document,x=t.addEvent,y=t.each,v=t.error,b=t.extend,w=t.extendClass,k=t.format,A=t.map,S=t.isNumber,M=t.merge,C=t.pick,P=t.getOptions(),L=t.seriesTypes,T=P.plotOptions,D=t.wrap,I=function(){};D(n.prototype,"getSeriesExtremes",function(t){var e,i,o,n=this.isXAxis,s=[];n&&y(this.series,function(t,e){t.useMapGeometry&&(s[e]=t.xData,t.xData=[])}),t.call(this),n&&(e=C(this.dataMin,Number.MAX_VALUE),i=C(this.dataMax,-Number.MAX_VALUE),y(this.series,function(t,n){t.useMapGeometry&&(e=Math.min(e,C(t.minX,e)),i=Math.max(i,C(t.maxX,e)),t.xData=s[n],o=!0)}),o)&&(this.dataMin=e,this.dataMax=i)}),D(n.prototype,"setAxisTranslation",function(t){var e,i=this.chart,o=i.plotWidth/i.plotHeight,i=i.xAxis[0];t.call(this),"yAxis"===this.coll&&void 0!==i.transA&&y(this.series,function(t){t.preserveAspectRatio&&(e=!0)}),e&&(this.transA=i.transA=Math.min(this.transA,i.transA),t=o/((i.max-i.min)/(this.max-this.min)),t=1>t?this:i,o=(t.max-t.min)*t.transA,t.pixelPadding=t.len-o,t.minPixelPadding=t.pixelPadding/2,o=t.fixTo)&&(o=o[1]-t.toValue(o[0],!0),o*=t.transA,(Math.abs(o)>t.minPixelPadding||t.min===t.dataMin&&t.max===t.dataMax)&&(o=0),t.minPixelPadding-=o)}),D(n.prototype,"render",function(t){t.call(this),this.fixTo=null});var O=t.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};b(O.prototype,n.prototype),b(O.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(t,e){var i,o="vertical"!==t.options.legend.layout;i=M(this.defaultColorAxisOptions,{side:o?2:1,reversed:!o},e,{opposite:!o,showEmpty:!1,title:null,isColor:!0}),n.prototype.init.call(this,t,i),e.dataClasses&&this.initDataClasses(e),this.initStops(e),this.horiz=o,this.zoomEnabled=!1},tweenColors:function(t,e,i){var o;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,o=1!==e[3]||1!==t[3],t=(o?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(o?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):t=e.input||"none",t},initDataClasses:function(t){var e,i=this,o=this.chart,n=0,s=this.options,a=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],y(t.dataClasses,function(t,l){var h,t=M(t);e.push(t),t.color||("category"===s.dataClassColor?(h=o.options.colors,t.color=h[n++],n===h.length&&(n=0)):t.color=i.tweenColors(r(s.minColor),r(s.maxColor),2>a?.5:l/(a-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],y(this.stops,function(t){t.color=r(t[1])})},setOptions:function(t){n.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var t,e,i,o=this.legendSymbol,n=this.chart;o&&(this.left=t=o.attr("x"),this.top=e=o.attr("y"),this.width=i=o.attr("width"),this.height=o=o.attr("height"),this.right=n.chartWidth-t-i,this.bottom=n.chartHeight-e-o,this.len=this.horiz?i:o,this.pos=this.horiz?t:e)},toColor:function(t,e){var i,o,n,s,r=this.stops,a=this.dataClasses;if(a){for(s=a.length;s--;)if(n=a[s],o=n.from,r=n.to,(void 0===o||t>=o)&&(void 0===r||r>=t)){i=n.color,e&&(e.dataClass=s);break}}else{for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min||1),s=r.length;s--&&!(i>r[s][0]););o=r[s]||r[s+1],r=r[s+1]||o,i=1-(r[0]-i)/(r[0]-o[0]||1),i=this.tweenColors(o.color,r.color,i)}return i},getOffset:function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,n.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},setLegendColor:function(){var t,e=this.options,i=this.reversed;t=i?1:0,i=i?0:1,t=this.horiz?[t,0,i,0]:[0,i,0,t],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:e.stops||[[0,e.minColor],[1,e.maxColor]]}},drawLegendSymbol:function(t,e){var i=t.padding,o=t.options,n=this.horiz,s=C(o.symbolWidth,n?200:12),r=C(o.symbolHeight,n?12:200),a=C(o.labelPadding,n?16:30),o=C(o.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,s,r).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=s+i+(n?o:a),this.legendItemHeight=r+i+(n?a:0)},setState:I,visible:!0,setVisible:I,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,e){var i,o=e&&e.plotX,s=e&&e.plotY,r=this.pos,a=this.len;e&&(i=this.toPixels(e[e.series.colorKey]),r>i?i=r-2:i>r+a&&(i=r+a+2),e.plotX=i,e.plotY=this.len-i,n.prototype.drawCrosshair.call(this,t,e),e.plotX=o,e.plotY=s,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(t,e,i,o,s){return S(s)?this.horiz?["M",s-4,this.top-6,"L",s+4,this.top-6,s,this.top,"Z"]:["M",this.left,s,"L",this.left-6,s+6,this.left-6,s-6,"Z"]:n.prototype.getPlotLinePath.call(this,t,e,i,o)},update:function(t,e){var i=this.chart,o=i.legend;y(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&o.allItems&&(y(o.allItems,function(t){t.isDataClass&&t.legendGroup.destroy()}),i.isDirtyLegend=!0),i.options[this.coll]=M(this.userOptions,t),n.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),o.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var e,i=this,o=this.chart,n=this.legendItems,s=o.options.legend,r=s.valueDecimals,a=s.valueSuffix||"";return n.length||y(this.dataClasses,function(s,l){var h=!0,p=s.from,d=s.to;
e="",void 0===p?e="< ":void 0===d&&(e="> "),void 0!==p&&(e+=t.numberFormat(p,r)+a),void 0!==p&&void 0!==d&&(e+=" - "),void 0!==d&&(e+=t.numberFormat(d,r)+a),n.push(b({chart:o,name:e,options:{},drawLegendSymbol:c.drawRectangle,visible:!0,setState:I,isDataClass:!0,setVisible:function(){h=this.visible=!h,y(i.series,function(t){y(t.points,function(t){t.dataClass===l&&t.setVisible(h)})}),o.legend.colorizeItem(this,h)}},s))}),n},name:""}),y(["fill","stroke"],function(e){t.Fx.prototype[e+"Setter"]=function(){this.elem.attr(e,O.prototype.tweenColors(r(this.start),r(this.end),this.pos))}}),D(s.prototype,"getAxes",function(t){var e=this.options.colorAxis;t.call(this),this.colorAxis=[],e&&new O(this,e)}),D(h.prototype,"getAllItems",function(t){var e=[],i=this.chart.colorAxis[0];return i&&(i.options.dataClasses?e=e.concat(i.getDataClassLegendSymbols()):e.push(i),y(i.series,function(t){t.options.showInLegend=!1})),e.concat(t.call(this))});var h={setVisible:function(t){var e=this,i=t?"show":"hide";y(["graphic","dataLabel"],function(t){e[t]&&e[t][i]()})}},B={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:I,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var t=this,e=this.options.nullColor,i=this.colorAxis,o=this.colorKey;y(this.data,function(n){var s=n[o];(s=n.options.color||(null===s?e:i&&void 0!==s?i.toColor(s,n):n.color||t.color))&&(n.color=s)})}};b(s.prototype,{renderMapNavigation:function(){var t,e,i,o,n=this,s=this.options.mapNavigation,r=s.buttons,a=function(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},l=function(t){this.handler.call(n,t),a(t)};if(C(s.enableButtons,s.enabled)&&!n.renderer.forExport)for(t in n.mapNavButtons=[],r)r.hasOwnProperty(t)&&(i=M(s.buttonOptions,r[t]),e=i.theme,e.style=M(i.theme.style,i.style),o=e.states,e=n.renderer.button(i.text,0,0,l,e,o&&o.hover,o&&o.select,0,"zoomIn"===t?"topbutton":"bottombutton").attr({width:i.width,height:i.height,title:n.options.lang[t],zIndex:5}).add(),e.handler=i.onclick,e.align(b(i,{width:e.width,height:2*e.height}),null,i.alignTo),x(e.element,"dblclick",a),n.mapNavButtons.push(e))},fitToBox:function(t,e){return y([["x","width"],["y","height"]],function(i){var o=i[0],i=i[1];t[o]+t[i]>e[o]+e[i]&&(t[i]>e[i]?(t[i]=e[i],t[o]=e[o]):t[o]=e[o]+e[i]-t[i]),t[i]>e[i]&&(t[i]=e[i]),t[o]<e[o]&&(t[o]=e[o])}),t},mapZoom:function(t,e,i,o,n){var s=this.xAxis[0],r=s.max-s.min,a=C(e,s.min+r/2),l=r*t,r=this.yAxis[0],h=r.max-r.min,c=C(i,r.min+h/2);h*=t,a=this.fitToBox({x:a-l*(o?(o-s.pos)/s.len:.5),y:c-h*(n?(n-r.pos)/r.len:.5),width:l,height:h},{x:s.dataMin,y:r.dataMin,width:s.dataMax-s.dataMin,height:r.dataMax-r.dataMin}),o&&(s.fixTo=[o-s.pos,e]),n&&(r.fixTo=[n-r.pos,i]),void 0!==t?(s.setExtremes(a.x,a.x+a.width,!1),r.setExtremes(a.y,a.y+a.height,!1)):(s.setExtremes(void 0,void 0,!1),r.setExtremes(void 0,void 0,!1)),this.redraw()}}),D(s.prototype,"render",function(t){var e=this,i=e.options.mapNavigation;e.renderMapNavigation(),t.call(e),(C(i.enableDoubleClickZoom,i.enabled)||i.enableDoubleClickZoomTo)&&x(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}),C(i.enableMouseWheelZoom,i.enabled)&&x(e.container,void 0===m.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return e.pointer.onContainerMouseWheel(t),!1})}),b(l.prototype,{onContainerDblClick:function(t){var e=this.chart,t=this.normalize(t);e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,e.xAxis[0].toValue(t.chartX),e.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var e,i=this.chart,t=this.normalize(t);e=t.detail||-(t.wheelDelta/120),i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&i.mapZoom(Math.pow(i.options.mapNavigation.mouseWheelSensitivity,e),i.xAxis[0].toValue(t.chartX),i.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),D(l.prototype,"init",function(t,e,i){t.call(this,e,i),C(i.mapNavigation.enableTouchZoom,i.mapNavigation.enabled)&&(this.pinchX=this.pinchHor=this.pinchY=this.pinchVert=this.hasZoom=!0)}),D(l.prototype,"pinchTranslate",function(t,e,i,o,n,s,r){t.call(this,e,i,o,n,s,r),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=o.scaleX>o.scaleY,this.pinchTranslateDirection(!t,e,i,o,n,s,r,t?o.scaleX:o.scaleY))});var z=void 0!==m.documentElement.style.vectorEffect;T.map=M(T.scatter,{allAreas:!0,animation:!1,nullColor:"#F8F8F8",borderColor:"silver",borderWidth:1,marker:null,stickyTracking:!1,dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null}}});var R=w(a,b({applyOptions:function(t,e){var i=a.prototype.applyOptions.call(this,t,e),o=this.series,n=o.joinBy;return o.mapData&&((n=void 0!==i[n[1]]&&o.mapMap[i[n[1]]])?(o.xyFromShape&&(i.x=n._midX,i.y=n._midY),b(i,n)):i.value=i.value||null),i},onMouseOver:function(t){clearTimeout(this.colorInterval),null!==this.value?a.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},onMouseOut:function(){var t,e=this,i=+new Date,n=r(e.color),s=r(e.pointAttr.hover.fill),l=o(e.series.options.states.normal.animation).duration;l&&4===n.rgba.length&&4===s.rgba.length&&"select"!==e.state&&(t=e.pointAttr[""].fill,delete e.pointAttr[""].fill,clearTimeout(e.colorInterval),e.colorInterval=setInterval(function(){var t=(new Date-i)/l,o=e.graphic;t>1&&(t=1),o&&o.attr("fill",O.prototype.tweenColors.call(0,s,n,t)),t>=1&&clearTimeout(e.colorInterval)},13)),a.prototype.onMouseOut.call(e),t&&(e.pointAttr[""].fill=t)},zoomTo:function(){var t=this.series;t.xAxis.setExtremes(this._minX,this._maxX,!1),t.yAxis.setExtremes(this._minY,this._maxY,!1),t.chart.redraw()}},h));L.map=w(L.scatter,M(B,{type:"map",pointClass:R,supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:I,directTouch:!0,preserveAspectRatio:!0,getBox:function(e){var i,o=Number.MAX_VALUE,n=-o,s=o,r=-o,a=o,l=o,h=this.xAxis,c=this.yAxis;y(e||[],function(e){if(e.path){"string"==typeof e.path&&(e.path=t.splitPath(e.path));var h=e.path||[],c=h.length,p=!1,d=-o,u=o,g=-o,f=o,m=e.properties;if(!e._foundBox){for(;c--;)S(h[c])&&(p?(d=Math.max(d,h[c]),u=Math.min(u,h[c])):(g=Math.max(g,h[c]),f=Math.min(f,h[c])),p=!p);e._midX=u+(d-u)*(e.middleX||m&&m["hc-middle-x"]||.5),e._midY=f+(g-f)*(e.middleY||m&&m["hc-middle-y"]||.5),e._maxX=d,e._minX=u,e._maxY=g,e._minY=f,e.labelrank=C(e.labelrank,(d-u)*(g-f)),e._foundBox=!0}n=Math.max(n,e._maxX),s=Math.min(s,e._minX),r=Math.max(r,e._maxY),a=Math.min(a,e._minY),l=Math.min(e._maxX-e._minX,e._maxY-e._minY,l),i=!0}}),i&&(this.minY=Math.min(a,C(this.minY,o)),this.maxY=Math.max(r,C(this.maxY,-o)),this.minX=Math.min(s,C(this.minX,o)),this.maxX=Math.max(n,C(this.maxX,-o)),h&&void 0===h.options.minRange&&(h.minRange=Math.min(5*l,(this.maxX-this.minX)/5,h.minRange||o)),c&&void 0===c.options.minRange&&(c.minRange=Math.min(5*l,(this.maxY-this.minY)/5,c.minRange||o)))},getExtremes:function(){d.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(t){var e,i=!1,o=this.xAxis,n=this.yAxis,s=o.min,r=o.transA,o=o.minPixelPadding,a=n.min,l=n.transA,n=n.minPixelPadding,h=[];if(t)for(e=t.length;e--;)S(t[e])?(h[e]=i?(t[e]-s)*r+o:(t[e]-a)*l+n,i=!i):h[e]=t[e];return h},setData:function(e,i,o,n){var s,r,a,l=this.options,h=l.mapData,c=l.joinBy,p=null===c,u=[],g={};if(p&&(c="_i"),c=this.joinBy=t.splat(c),c[1]||(c[1]=c[0]),e&&y(e,function(t,i){S(t)&&(e[i]={value:t}),p&&(e[i]._i=i)}),this.getBox(e),h){if("FeatureCollection"===h.type){if(h["hc-transform"])for(s in this.chart.mapTransforms=r=h["hc-transform"],r)r.hasOwnProperty(s)&&s.rotation&&(s.cosAngle=Math.cos(s.rotation),s.sinAngle=Math.sin(s.rotation));h=t.geojson(h,this.type,this)}for(this.mapData=h,a=0;a<h.length;a++)s=h[a],r=s.properties,s._i=a,c[0]&&r&&r[c[0]]&&(s[c[0]]=r[c[0]]),g[s[c[0]]]=s;this.mapMap=g,e&&c[1]&&y(e,function(t){g[t[c[1]]]&&u.push(g[t[c[1]]])}),l.allAreas?(this.getBox(h),e=e||[],u="|"+A(u,function(t){return t[c[0]]}).join("|")+"|",y(h,function(t){c[0]&&-1!==u.indexOf("|"+t[c[0]]+"|")||(e.push(M(t,{value:null})),n=!1)})):this.getBox(u)}d.prototype.setData.call(this,e,i,o,n)},drawGraph:I,drawDataLabels:I,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var t=this,e=t.xAxis,i=t.yAxis,o=t.doFullTranslate();t.generatePoints(),y(t.data,function(n){n.plotX=e.toPixels(n._midX,!0),n.plotY=i.toPixels(n._midY,!0),o&&(n.shapeType="path",n.shapeArgs={d:t.translatePath(n.path)},z&&(n.shapeArgs["vector-effect"]="non-scaling-stroke"))}),t.translateColors()},drawPoints:function(){var t,e=this,i=e.xAxis,o=e.yAxis,n=e.group,s=e.chart,r=s.renderer,a=this.baseTrans;e.transformGroup||(e.transformGroup=r.g().attr({scaleX:1,scaleY:1}).add(n),e.transformGroup.survive=!0),e.doFullTranslate()?(s.hasRendered&&"color"===e.pointAttrToOptions.fill&&y(e.points,function(t){t.shapeArgs&&(t.shapeArgs.fill=t.pointAttr[C(t.state,"")].fill)}),z||y(e.points,function(t){t=t.pointAttr[""],t["stroke-width"]===e.pointAttr[""]["stroke-width"]&&(t["stroke-width"]="inherit")}),e.group=e.transformGroup,L.column.prototype.drawPoints.apply(e),e.group=n,y(e.points,function(t){t.graphic&&(t.name&&t.graphic.addClass("highcharts-name-"+t.name.replace(" ","-").toLowerCase()),t.properties&&t.properties["hc-key"]&&t.graphic.addClass("highcharts-key-"+t.properties["hc-key"].toLowerCase()),z||(t.graphic["stroke-widthSetter"]=I))}),this.baseTrans={originX:i.min-i.minPixelPadding/i.transA,originY:o.min-o.minPixelPadding/o.transA+(o.reversed?0:o.len/o.transA),transAX:i.transA,transAY:o.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(t=i.transA/a.transAX,n=o.transA/a.transAY,i=i.toPixels(a.originX,!0),o=o.toPixels(a.originY,!0),t>.99&&1.01>t&&n>.99&&1.01>n&&(n=t=1,i=Math.round(i),o=Math.round(o)),this.transformGroup.animate({translateX:i,translateY:o,scaleX:t,scaleY:n})),z||e.group.element.setAttribute("stroke-width",e.options.borderWidth/(t||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){d.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,e=d.prototype.render;t.chart.renderer.isVML&&t.data.length>3e3?setTimeout(function(){e.call(t)}):e.call(t)},animate:function(t){var e=this.options.animation,i=this.group,o=this.xAxis,n=this.yAxis,s=o.pos,r=n.pos;this.chart.renderer.isSVG&&(e===!0&&(e={duration:1e3}),t?i.attr({translateX:s+o.len/2,translateY:r+n.len/2,scaleX:.001,scaleY:.001}):(i.animate({translateX:s,translateY:r,scaleX:1,scaleY:1},e),this.animate=null))},animateDrilldown:function(t){var e=this.chart.plotBox,i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=i.bBox,n=this.chart.options.drilldown.animation;t||(t=Math.min(o.width/e.width,o.height/e.height),i.shapeArgs={scaleX:t,scaleY:t,translateX:o.x,translateY:o.y},y(this.points,function(t){t.graphic&&t.graphic.attr(i.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},n)}),this.animate=null)},drawLegendSymbol:c.drawRectangle,animateDrillupFrom:function(t){L.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){L.column.prototype.animateDrillupTo.call(this,t)}})),T.mapline=M(T.map,{lineWidth:1,fillColor:"none"}),L.mapline=w(L.map,{type:"mapline",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth",fill:"fillColor",dashstyle:"dashStyle"},drawLegendSymbol:L.line.prototype.drawLegendSymbol}),T.mappoint=M(T.scatter,{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}}),L.mappoint=w(L.scatter,{type:"mappoint",forceDL:!0,pointClass:w(a,{applyOptions:function(t,e){var i=a.prototype.applyOptions.call(this,t,e);return void 0!==t.lat&&void 0!==t.lon&&(i=b(i,this.series.chart.fromLatLonToPoint(i))),i}})}),L.bubble&&(T.mapbubble=M(T.bubble,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),L.mapbubble=w(L.bubble,{pointClass:w(a,{applyOptions:function(t,e){var i;return t&&void 0!==t.lat&&void 0!==t.lon?(i=a.prototype.applyOptions.call(this,t,e),i=b(i,this.series.chart.fromLatLonToPoint(i))):i=R.prototype.applyOptions.call(this,t,e),i},ttBelow:!1}),xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:L.map.prototype.getMapData,getBox:L.map.prototype.getBox,setData:L.map.prototype.setData})),P.plotOptions.heatmap=M(P.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),L.heatmap=w(L.scatter,M(B,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,pointClass:w(a,h),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;L.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=C(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this.options,e=this.xAxis,i=this.yAxis,o=function(t,e,i){return Math.min(Math.max(e,t),i)};this.generatePoints(),y(this.points,function(n){var s=(t.colsize||1)/2,r=(t.rowsize||1)/2,a=o(Math.round(e.len-e.translate(n.x-s,0,1,0,1)),-e.len,2*e.len),s=o(Math.round(e.len-e.translate(n.x+s,0,1,0,1)),-e.len,2*e.len),l=o(Math.round(i.translate(n.y-r,0,1,0,1)),-i.len,2*i.len),r=o(Math.round(i.translate(n.y+r,0,1,0,1)),-i.len,2*i.len);n.plotX=n.clientX=(a+s)/2,n.plotY=(l+r)/2,n.shapeType="rect",n.shapeArgs={x:Math.min(a,s),y:Math.min(l,r),width:Math.abs(s-a),height:Math.abs(r-l)}}),this.translateColors(),this.chart.hasRendered&&y(this.points,function(t){t.shapeArgs.fill=t.options.color||t.color})},drawPoints:L.column.prototype.drawPoints,animate:I,getBox:I,drawLegendSymbol:c.drawRectangle,alignDataLabel:L.column.prototype.alignDataLabel,getExtremes:function(){d.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,d.prototype.getExtremes.call(this)}})),s.prototype.transformFromLatLon=function(t,e){if(void 0===f.proj4)return v(21),{x:0,y:null};var i=f.proj4(e.crs,[t.lon,t.lat]),o=e.cosAngle||e.rotation&&Math.cos(e.rotation),n=e.sinAngle||e.rotation&&Math.sin(e.rotation),i=e.rotation?[i[0]*o+i[1]*n,-i[0]*n+i[1]*o]:i;return{x:((i[0]-(e.xoffset||0))*(e.scale||1)+(e.xpan||0))*(e.jsonres||1)+(e.jsonmarginX||0),y:(((e.yoffset||0)-i[1])*(e.scale||1)+(e.ypan||0))*(e.jsonres||1)-(e.jsonmarginY||0)}},s.prototype.transformToLatLon=function(t,e){if(void 0!==f.proj4){var i={x:((t.x-(e.jsonmarginX||0))/(e.jsonres||1)-(e.xpan||0))/(e.scale||1)+(e.xoffset||0),y:((-t.y-(e.jsonmarginY||0))/(e.jsonres||1)+(e.ypan||0))/(e.scale||1)+(e.yoffset||0)},o=e.cosAngle||e.rotation&&Math.cos(e.rotation),n=e.sinAngle||e.rotation&&Math.sin(e.rotation),i=f.proj4(e.crs,"WGS84",e.rotation?{x:i.x*o+i.y*-n,y:i.x*n+i.y*o}:i);return{lat:i.y,lon:i.x}}v(21)},s.prototype.fromPointToLatLon=function(t){var i,o=this.mapTransforms;if(o){for(i in o)if(o.hasOwnProperty(i)&&o[i].hitZone&&e({x:t.x,y:-t.y},o[i].hitZone.coordinates[0]))return this.transformToLatLon(t,o[i]);return this.transformToLatLon(t,o["default"])}v(22)},s.prototype.fromLatLonToPoint=function(t){var i,o,n=this.mapTransforms;if(!n)return v(22),{x:0,y:null};for(i in n)if(n.hasOwnProperty(i)&&n[i].hitZone&&(o=this.transformFromLatLon(t,n[i]),e({x:o.x,y:-o.y},n[i].hitZone.coordinates[0])))return o;return this.transformFromLatLon(t,n["default"])},t.geojson=function(t,e,i){var o=[],n=[],s=function(t){var e,i=t.length;for(n.push("M"),e=0;i>e;e++)1===e&&n.push("L"),n.push(t[e][0],-t[e][1])},e=e||"map";return y(t.features,function(t){var i,r=t.geometry,a=r.type,r=r.coordinates,t=t.properties;n=[],"map"===e||"mapbubble"===e?("Polygon"===a?(y(r,s),n.push("Z")):"MultiPolygon"===a&&(y(r,function(t){y(t,s)}),n.push("Z")),n.length&&(i={path:n})):"mapline"===e?("LineString"===a?s(r):"MultiLineString"===a&&y(r,s),n.length&&(i={path:n})):"mappoint"===e&&"Point"===a&&(i={x:r[0],y:-r[1]}),i&&o.push(b(i,{name:t.name||t.NAME,properties:t}))}),i&&t.copyrightShort&&(i.chart.mapCredits=k(i.chart.options.credits.mapText,{geojson:t}),i.chart.mapCreditsFull=k(i.chart.options.credits.mapTextFull,{geojson:t})),o},D(s.prototype,"showCredits",function(e,i){this.mapCredits&&(i.href=null),e.call(this,t.merge(i,{text:i.text+(this.mapCredits||"")})),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}),b(P.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),P.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,style:{fontSize:"15px",fontWeight:"bold",textAlign:"center"},theme:{"stroke-width":1}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},t.splitPath=function(t){var e,t=t.replace(/([A-Za-z])/g," $1 "),t=t.replace(/^\s*/,"").replace(/\s*$/,""),t=t.split(/[ ,]+/);for(e=0;e<t.length;e++)/[a-zA-Z]/.test(t[e])||(t[e]=parseFloat(t[e]));return t},t.maps={},u.prototype.symbols.topbutton=function(t,e,o,n,s){return i(t-1,e-1,o,n,s.r,s.r,0,0)},u.prototype.symbols.bottombutton=function(t,e,o,n,s){return i(t-1,e-1,o,n,0,0,s.r,s.r)},p===g&&y(["topbutton","bottombutton"],function(t){g.prototype.symbols[t]=u.prototype.symbols[t]}),t.Map=t.mapChart=function(e,i,o){var n,r="string"==typeof e||e.nodeName,a=arguments[r?1:0],l={endOnTick:!1,gridLineWidth:0,lineWidth:0,minPadding:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]},h=t.getOptions().credits;return n=a.series,a.series=null,a=M({chart:{panning:"xy",type:"map"},credits:{mapText:C(h.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:C(h.mapTextFull,"{geojson.copyright}")},xAxis:l,yAxis:M(l,{reversed:!0})},a,{chart:{inverted:!1,alignTicks:!1}}),a.series=n,r?new s(e,a,o):new s(a,i)}}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(t,e,i){this.init(t,e,i)}var i=t.arrayMin,o=t.arrayMax,n=t.each,s=t.extend,r=t.isNumber,a=t.merge,l=t.map,h=t.pick,c=t.pInt,p=t.correctFloat,d=t.getOptions().plotOptions,u=t.seriesTypes,g=t.extendClass,f=t.splat,m=t.wrap,x=t.Axis,y=t.Tick,v=t.Point,b=t.Pointer,w=t.CenteredSeriesMixin,k=t.TrackerMixin,A=t.Series,S=Math,M=S.round,C=S.floor,P=S.max,L=t.Color,T=function(){};s(e.prototype,{init:function(t,e,i){var o=this,s=o.defaultOptions;o.chart=e,o.options=t=a(s,e.angular?{background:{}}:void 0,t),(t=t.background)&&n([].concat(f(t)).reverse(),function(t){var e=t.backgroundColor,n=i.userOptions,t=a(o.defaultBackgroundOptions,t);e&&(t.backgroundColor=e),t.color=t.backgroundColor,i.options.plotBands.unshift(t),n.plotBands=n.plotBands||[],n.plotBands!==i.options.plotBands&&n.plotBands.unshift(t)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var D=x.prototype,y=y.prototype,I={getOffset:T,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:T,setCategories:T,setTitle:T},O={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){t=this.options=a(this.defaultOptions,this.defaultRadialOptions,t),t.plotBands||(t.plotBands=[])},getOffset:function(){D.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=w.getCenter.call(this.pane)},getLinePath:function(t,e){var i=this.center,e=h(e,i[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],e,e,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){D.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){D.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=t.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*h(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):0,h(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,o=this.center,t=this.startAngleRad+t;return{x:i.plotLeft+o[0]+Math.cos(t)*e,y:i.plotTop+o[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var o,n=this.center,s=this.startAngleRad,r=n[2]/2,a=[h(i.outerRadius,"100%"),i.innerRadius,h(i.thickness,10)],p=/%$/,d=this.isCircular;return"polygon"===this.options.gridLineInterpolation?n=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),d||(a[0]=this.translate(t),a[1]=this.translate(e)),a=l(a,function(t){return p.test(t)&&(t=c(t,10)*r/100),t}),"circle"!==i.shape&&d?(t=s+this.translate(t),e=s+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,o=!0),n=this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],a[0],a[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:h(a[1],a[0]-a[2]),open:o})),n},getPlotLinePath:function(t,e){var i,o,s,r=this,a=r.center,l=r.chart,h=r.getPosition(t);return r.isCircular?s=["M",a[0]+l.plotLeft,a[1]+l.plotTop,"L",h.x,h.y]:"circle"===r.options.gridLineInterpolation?(t=r.translate(t))&&(s=r.getLinePath(0,t)):(n(l.xAxis,function(t){t.pane===r.pane&&(i=t)}),s=[],t=r.translate(t),a=i.tickPositions,i.autoConnect&&(a=a.concat([a[0]])),e&&(a=[].concat(a).reverse()),n(a,function(e,n){o=i.getPosition(e,t),s.push(n?"L":"M",o.x,o.y)})),s},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}};m(D,"init",function(t,i,o){var n,r,l,c=i.angular,p=i.polar,d=o.isX,u=c&&d;l=i.options;var g=o.pane||0;c?(s(this,u?I:O),(r=!d)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):p&&(s(this,O),this.defaultRadialOptions=(r=d)?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),(c||p)&&(i.inverted=!1,l.chart.zoomType=null),t.call(this,i,o),u||!c&&!p||(t=this.options,i.panes||(i.panes=[]),this.pane=(n=i.panes[g]=i.panes[g]||new e(f(l.pane)[g],i,this),i=n),l=i.options,this.startAngleRad=i=(l.startAngle-90)*Math.PI/180,this.endAngleRad=l=(h(l.endAngle,l.startAngle+360)-90)*Math.PI/180,this.offset=t.offset||0,(this.isCircular=r)&&void 0===o.max&&l-i===2*Math.PI&&(this.autoConnect=!0))}),m(D,"autoLabelAlign",function(t){return this.isRadial?void 0:t.apply(this,[].slice.call(arguments,1))}),m(y,"getPosition",function(t,e,i,o,n){var s=this.axis;return s.getPosition?s.getPosition(i):t.call(this,e,i,o,n)}),m(y,"getLabelPosition",function(t,e,i,o,n,s,r,a,l){var c=this.axis,p=s.y,d=20,u=s.align,g=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(t=c.getPosition(this.pos,c.center[2]/2+h(s.distance,-25)),"auto"===s.rotation?o.attr({rotation:g}):null===p&&(p=c.chart.renderer.fontMetrics(o.styles.fontSize).b-o.getBBox().height/2),null===u&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(d=0),u=g>d&&180-d>g?"left":g>180+d&&360-d>g?"right":"center"):u="center",o.attr({align:u})),t.x+=s.x,t.y+=p):t=t.call(this,e,i,o,n,s,r,a,l),t}),m(y,"getMarkPath",function(t,e,i,o,n,s,r){var a=this.axis;return a.isRadial?(t=a.getPosition(this.pos,a.center[2]/2+o),e=["M",e,i,"L",t.x,t.y]):e=t.call(this,e,i,o,n,s,r),e}),d.arearange=a(d.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">?</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),u.arearange=g(u.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop},translate:function(){var t=this,e=t.yAxis;u.area.prototype.translate.apply(t),n(t.points,function(t){var i=t.low,o=t.high,n=t.plotY;null===o||null===i?t.isNull=!0:(t.plotLow=n,t.plotHigh=e.translate(o,0,1,0,1))}),this.chart.polar&&n(this.points,function(e){t.highToXY(e)})},getGraphPath:function(){var t,e,i,o=this.points,n=[],s=[],r=o.length,a=A.prototype.getGraphPath;i=this.options;for(var l=i.step,r=o.length;r--;)t=o[r],!t.isNull&&(!o[r+1]||o[r+1].isNull)&&s.push({plotX:t.plotX,plotY:t.plotLow}),e={plotX:t.plotX,plotY:t.plotHigh,isNull:t.isNull},s.push(e),n.push(e),!t.isNull&&(!o[r-1]||o[r-1].isNull)&&s.push({plotX:t.plotX,plotY:t.plotLow});return o=a.call(this,o),l&&(l===!0&&(l="left"),i.step={left:"right",center:"center",right:"left"}[l]),n=a.call(this,n),s=a.call(this,s),i.step=l,i=[].concat(o,n),!this.chart.polar&&"M"===s[0]&&(s[0]="L"),this.areaPath=this.areaPath.concat(o,s),i},drawDataLabels:function(){var t,e,i,o=this.data,n=o.length,s=[],r=A.prototype,a=this.options.dataLabels,l=a.align,h=a.verticalAlign,c=a.inside,p=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(t=n;t--;)(e=o[t])&&(i=c?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,s[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,p?l||(a.align=i?"right":"left"):h||(a.verticalAlign=i?"top":"bottom"),a.x=a.xHigh,a.y=a.yHigh);for(r.drawDataLabels&&r.drawDataLabels.apply(this,arguments),t=n;t--;)(e=o[t])&&(i=c?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=s[t],e.y=e.low,e.plotY=e._plotY,e.below=!i,p?l||(a.align=i?"left":"right"):h||(a.verticalAlign=i?"bottom":"top"),a.x=a.xLow,a.y=a.yLow);r.drawDataLabels&&r.drawDataLabels.apply(this,arguments)}a.align=l,a.verticalAlign=h},alignDataLabel:function(){u.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:T,getSymbol:T,drawPoints:T}),d.areasplinerange=a(d.arearange),u.areasplinerange=g(u.arearange,{type:"areasplinerange",getPointSpline:u.spline.prototype.getPointSpline}),function(){var t=u.column.prototype;d.columnrange=a(d.column,d.arearange,{lineWidth:1,pointRange:null}),u.columnrange=g(u.arearange,{type:"columnrange",translate:function(){var e,i,o=this,s=o.yAxis,r=o.xAxis,a=r.startAngleRad,l=o.chart,c=o.xAxis.isRadial;t.translate.apply(o),n(o.points,function(t){var n,p,d=t.shapeArgs,u=o.options.minPointLength;t.plotHigh=i=s.translate(t.high,0,1,0,1),t.plotLow=t.plotY,p=i,n=h(t.rectPlotY,t.plotY)-i,Math.abs(n)<u?(u-=n,n+=u,p-=u/2):0>n&&(n*=-1,p-=n),c?(e=t.barX+a,t.shapeType="path",t.shapeArgs={d:o.polarArc(p+n,p,e,e+t.pointWidth)}):(d.height=n,d.y=p,t.tooltipPos=l.inverted?[s.len+s.pos-l.plotLeft-p-n/2,r.len+r.pos-l.plotTop-d.x-d.width/2,n]:[r.left-l.plotLeft+d.x+d.width/2,s.pos-l.plotTop+p+n/2,n])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:T,crispCol:t.crispCol,pointAttrToOptions:t.pointAttrToOptions,drawPoints:t.drawPoints,drawTracker:t.drawTracker,getColumnMetrics:t.getColumnMetrics,animate:function(){return t.animate.apply(this,arguments)},polarArc:function(){return t.polarArc.apply(this,arguments)}})}(),d.gauge=a(d.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),k={type:"gauge",pointClass:g(v,{setState:function(t){this.state=t}}),angular:!0,directTouch:!0,drawGraph:T,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,e=this.options,i=t.center;this.generatePoints(),n(this.points,function(o){var n=a(e.dial,o.dial),s=c(h(n.radius,80))*i[2]/200,l=c(h(n.baseLength,70))*s/100,p=c(h(n.rearLength,10))*s/100,d=n.baseWidth||3,u=n.topWidth||1,g=e.overshoot,f=t.startAngleRad+t.translate(o.y,null,null,null,!0);r(g)?(g=g/180*Math.PI,f=Math.max(t.startAngleRad-g,Math.min(t.endAngleRad+g,f))):e.wrap===!1&&(f=Math.max(t.startAngleRad,Math.min(t.endAngleRad,f))),f=180*f/Math.PI,o.shapeType="path",o.shapeArgs={d:n.path||["M",-p,-d/2,"L",l,-d/2,s,-u/2,s,u/2,l,d/2,-p,d/2,"z"],translateX:i[0],translateY:i[1],rotation:f},o.plotX=i[0],o.plotY=i[1]})},drawPoints:function(){var t=this,e=t.yAxis.center,i=t.pivot,o=t.options,s=o.pivot,r=t.chart.renderer;n(t.points,function(e){var i=e.graphic,n=e.shapeArgs,s=n.d,l=a(o.dial,e.dial);i?(i.animate(n),n.d=s):e.graphic=r[e.shapeType](n).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:n.rotation,zIndex:1}).add(t.group)}),i?i.animate({translateX:e[0],translateY:e[1]}):t.pivot=r.circle(0,0,h(s.radius,5)).attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"silver",fill:s.backgroundColor||"black",zIndex:2}).translate(e[0],e[1]).add(t.group)},animate:function(t){var e=this;t||(n(e.points,function(t){var i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),A.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){A.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),h(e,!0)&&this.chart.redraw()},drawTracker:k&&k.drawTrackerPoint},u.gauge=g(u.line,k),d.boxplot=a(d.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">?</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),u.boxplot=g(u.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:T,translate:function(){var t=this.yAxis,e=this.pointArrayMap;u.column.prototype.translate.apply(this),n(this.points,function(i){n(e,function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))})})},drawPoints:function(){var t,e,i,o,s,r,a,l,c,p,d,u,g,f,m,x,y,v,b,w,k,A,S,P=this,L=P.options,T=P.chart.renderer,D=P.doQuartiles!==!1,I=P.options.whiskerLength;
n(P.points,function(n){c=n.graphic,k=n.shapeArgs,d={},f={},x={},A=n.color||P.color,void 0!==n.plotY&&(t=n.pointAttr[n.selected?"selected":""],y=k.width,v=C(k.x),b=v+y,w=M(y/2),e=C(D?n.q1Plot:n.lowPlot),i=C(D?n.q3Plot:n.lowPlot),o=C(n.highPlot),s=C(n.lowPlot),d.stroke=n.stemColor||L.stemColor||A,d["stroke-width"]=h(n.stemWidth,L.stemWidth,L.lineWidth),d.dashstyle=n.stemDashStyle||L.stemDashStyle,f.stroke=n.whiskerColor||L.whiskerColor||A,f["stroke-width"]=h(n.whiskerWidth,L.whiskerWidth,L.lineWidth),x.stroke=n.medianColor||L.medianColor||A,x["stroke-width"]=h(n.medianWidth,L.medianWidth,L.lineWidth),a=d["stroke-width"]%2/2,l=v+w+a,p=["M",l,i,"L",l,o,"M",l,e,"L",l,s],D&&(a=t["stroke-width"]%2/2,l=C(l)+a,e=C(e)+a,i=C(i)+a,v+=a,b+=a,u=["M",v,i,"L",v,e,"L",b,e,"L",b,i,"L",v,i,"z"]),I&&(a=f["stroke-width"]%2/2,o+=a,s+=a,S=/%$/.test(I)?w*parseFloat(I)/100:I/2,g=["M",l-S,o,"L",l+S,o,"M",l-S,s,"L",l+S,s]),a=x["stroke-width"]%2/2,r=M(n.medianPlot)+a,m=["M",v,r,"L",b,r],c?(n.stem.animate({d:p}),I&&n.whiskers.animate({d:g}),D&&n.box.animate({d:u}),n.medianShape.animate({d:m})):(n.graphic=c=T.g().add(P.group),n.stem=T.path(p).attr(d).add(c),I&&(n.whiskers=T.path(g).attr(f).add(c)),D&&(n.box=T.path(u).attr(t).add(c)),n.medianShape=T.path(m).attr(x).add(c)))})},setStackedPoints:T}),d.errorbar=a(d.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">?</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),u.errorbar=g(u.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:u.arearange?u.arearange.prototype.drawDataLabels:T,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||u.column.prototype.getColumnMetrics.call(this)}}),d.waterfall=a(d.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),u.waterfall=g(u.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var t,e,i,o,n,s,r,a,l,c=this.options,d=this.yAxis,g=h(c.minPointLength,5),f=c.threshold,m=c.stacking;for(u.column.prototype.translate.apply(this),this.minPointLengthOffset=0,r=a=f,e=this.points,t=0,c=e.length;c>t;t++)i=e[t],s=this.processedYData[t],o=i.shapeArgs,l=(n=m&&d.stacks[(this.negStacks&&f>s?"-":"")+this.stackKey])?n[i.x].points[this.index+","+t]:[0,s],i.isSum?i.y=p(s):i.isIntermediateSum&&(i.y=p(s-a)),n=P(r,r+i.y)+l[0],o.y=d.translate(n,0,1),i.isSum?(o.y=d.translate(l[1],0,1),o.height=Math.min(d.translate(l[0],0,1),d.len)-o.y+this.minPointLengthOffset):i.isIntermediateSum?(o.y=d.translate(l[1],0,1),o.height=Math.min(d.translate(a,0,1),d.len)-o.y+this.minPointLengthOffset,a=l[1]):(0!==r&&(o.height=s>0?d.translate(r,0,1)-o.y:d.translate(r,0,1)-d.translate(r-s,0,1)),r+=s),o.height<0&&(o.y+=o.height,o.height*=-1),i.plotY=o.y=M(o.y)-this.borderWidth%2/2,o.height=P(M(o.height),.001),i.yBottom=o.y+o.height,o.height<=g&&(o.height=g,this.minPointLengthOffset+=g),o.y-=this.minPointLengthOffset,o=i.plotY+(i.negative?o.height:0)-this.minPointLengthOffset,this.chart.inverted?i.tooltipPos[0]=d.len-o:i.tooltipPos[1]=o},processData:function(t){var e,i,o,n,s,r,a,l=this.yData,h=this.options.data,c=l.length;for(o=i=n=s=this.options.threshold||0,a=0;c>a;a++)r=l[a],e=h&&h[a]?h[a]:{},"sum"===r||e.isSum?l[a]=p(o):"intermediateSum"===r||e.isIntermediateSum?l[a]=p(i):(o+=r,i+=r),n=Math.min(o,n),s=Math.max(o,s);A.prototype.processData.call(this,t),this.dataMin=n,this.dataMax=s},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},getAttribs:function(){u.column.prototype.getAttribs.apply(this,arguments);var e=this,i=e.options,o=i.states,s=i.upColor||e.color,i=t.Color(s).brighten(.1).get(),r=a(e.pointAttr),l=e.upColorProp;r[""][l]=s,r.hover[l]=o.hover.upColor||i,r.select[l]=o.select.upColor||s,n(e.points,function(t){t.options.color||(t.y>0?(t.pointAttr=r,t.color=s):t.pointAttr=e.pointAttr)})},getGraphPath:function(){var t,e,i,o=this.data,n=o.length,s=M(this.options.lineWidth+this.borderWidth)%2/2,r=[];for(i=1;n>i;i++)e=o[i].shapeArgs,t=o[i-1].shapeArgs,e=["M",t.x+t.width,t.y+s,"L",e.x,t.y+s],o[i-1].y<0&&(e[2]+=t.height,e[5]+=t.height),r=r.concat(e);return r},getExtremes:T,drawGraph:A.prototype.drawGraph}),d.polygon=a(d.scatter,{marker:{enabled:!1}}),u.polygon=g(u.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(t){return A.prototype.getSegmentPath.call(this,t).concat("z")},drawGraph:A.prototype.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle}),d.bubble=a(d.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),k=g(v,{haloPath:function(){return v.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1}),u.bubble=g(u.scatter,{type:"bubble",pointClass:k,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(t){var e=this.options.marker,i=h(e.fillOpacity,.5),t=t||e.fillColor||this.color;return 1!==i&&(t=L(t).setOpacity(i).get("rgba")),t},convertAttribs:function(){var t=A.prototype.convertAttribs.apply(this,arguments);return t.fill=this.applyOpacity(t.fill),t},getRadii:function(t,e,i,o){var n,s,r,a=this.zData,l=[],h=this.options,c="width"!==h.sizeBy,p=h.zThreshold,d=e-t;for(s=0,n=a.length;n>s;s++)r=a[s],h.sizeByAbsoluteValue&&null!==r&&(r=Math.abs(r-p),e=Math.max(e-p,Math.abs(t-p)),t=0),null===r?r=null:t>r?r=i/2-1:(r=d>0?(r-t)/d:.5,c&&r>=0&&(r=Math.sqrt(r)),r=S.ceil(i+r*(o-i))/2),l.push(r);this.radii=l},animate:function(t){var e=this.options.animation;t||(n(this.points,function(t){var i=t.graphic,t=t.shapeArgs;i&&t&&(i.attr("r",1),i.animate({r:t.r},e))}),this.animate=null)},translate:function(){var t,e,i,o=this.data,n=this.radii;for(u.scatter.prototype.translate.call(this),t=o.length;t--;)e=o[t],i=n?n[t]:0,r(i)&&i>=this.minPxSize/2?(e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:i},e.dlBox={x:e.plotX-i,y:e.plotY-i,width:2*i,height:2*i}):e.shapeArgs=e.plotY=e.dlBox=void 0},drawLegendSymbol:function(t,e){var i=this.chart.renderer,o=i.fontMetrics(t.itemStyle.fontSize).f/2;e.legendSymbol=i.circle(o,t.baseline-o,o).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:u.column.prototype.drawPoints,alignDataLabel:u.column.prototype.alignDataLabel,buildKDTree:T,applyZones:T}),x.prototype.beforePadding=function(){var t=this,e=this.len,s=this.chart,a=0,l=e,p=this.isXAxis,d=p?"xData":"yData",u=this.min,g={},f=S.min(s.plotWidth,s.plotHeight),m=Number.MAX_VALUE,x=-Number.MAX_VALUE,y=this.max-u,v=e/y,b=[];n(this.series,function(e){var r=e.options;!e.bubblePadding||!e.visible&&s.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,b.push(e),p&&(n(["minSize","maxSize"],function(t){var e=r[t],i=/%$/.test(e),e=c(e);g[t]=i?f*e/100:e}),e.minPxSize=g.minSize,e.maxPxSize=g.maxSize,e=e.zData,e.length&&(m=h(r.zMin,S.min(m,S.max(i(e),r.displayNegative===!1?r.zThreshold:-Number.MAX_VALUE))),x=h(r.zMax,S.max(x,o(e))))))}),n(b,function(e){var i,o=e[d],n=o.length;if(p&&e.getRadii(m,x,e.minPxSize,e.maxPxSize),y>0)for(;n--;)r(o[n])&&t.dataMin<=o[n]&&o[n]<=t.dataMax&&(i=e.radii[n],a=Math.min((o[n]-u)*v-i,a),l=Math.max((o[n]-u)*v+i,l))}),b.length&&y>0&&!this.isLog&&(l-=e,v*=(e+a-l)/e,n([["min","userMin",a],["max","userMax",l]],function(e){void 0===h(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/v)}))},function(){function t(t,e){var i=this.chart,o=this.options.animation,n=this.group,s=this.markerGroup,r=this.xAxis.center,a=i.plotLeft,l=i.plotTop;i.polar?i.renderer.isSVG&&(o===!0&&(o={}),e?(i={translateX:r[0]+a,translateY:r[1]+l,scaleX:.001,scaleY:.001},n.attr(i),s&&s.attr(i)):(i={translateX:a,translateY:l,scaleX:1,scaleY:1},n.animate(i,o),s&&s.animate(i,o),this.animate=null)):t.call(this,e)}var e,i=A.prototype,o=b.prototype;i.searchPointByAngle=function(t){var e=this.chart,i=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(t.chartX-i[0]-e.plotLeft,t.chartY-i[1]-e.plotTop)*(-180/Math.PI)})},m(i,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),t.apply(this)}),i.toXY=function(t){var e,i=this.chart,o=t.plotX;e=t.plotY,t.rectPlotX=o,t.rectPlotY=e,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-i.plotLeft,t.plotY=t.polarPlotY=e.y-i.plotTop,this.kdByAngle?(i=(o/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>i&&(i+=360),t.clientX=i):t.clientX=t.plotX},u.spline&&m(u.spline.prototype,"getPointSpline",function(t,e,i,o){var n,s,r,a,l,h,c;return this.chart.polar?(n=i.plotX,s=i.plotY,t=e[o-1],r=e[o+1],this.connectEnds&&(t||(t=e[e.length-2]),r||(r=e[1])),t&&r&&(a=t.plotX,l=t.plotY,e=r.plotX,h=r.plotY,a=(1.5*n+a)/2.5,l=(1.5*s+l)/2.5,r=(1.5*n+e)/2.5,c=(1.5*s+h)/2.5,e=Math.sqrt(Math.pow(a-n,2)+Math.pow(l-s,2)),h=Math.sqrt(Math.pow(r-n,2)+Math.pow(c-s,2)),a=Math.atan2(l-s,a-n),l=Math.atan2(c-s,r-n),c=Math.PI/2+(a+l)/2,Math.abs(a-c)>Math.PI/2&&(c-=Math.PI),a=n+Math.cos(c)*e,l=s+Math.sin(c)*e,r=n+Math.cos(Math.PI+c)*h,c=s+Math.sin(Math.PI+c)*h,i.rightContX=r,i.rightContY=c),o?(i=["C",t.rightContX||t.plotX,t.rightContY||t.plotY,a||n,l||s,n,s],t.rightContX=t.rightContY=null):i=["M",n,s]):i=t.call(this,e,i,o),i}),m(i,"translate",function(t){var e=this.chart;if(t.call(this),e.polar&&(this.kdByAngle=e.tooltip&&e.tooltip.shared,!this.preventPostTranslate))for(t=this.points,e=t.length;e--;)this.toXY(t[e])}),m(i,"getGraphPath",function(t,e){var i=this;return this.chart.polar&&(e=e||this.points,this.options.connectEnds!==!1&&e[0]&&null!==e[0].y&&(this.connectEnds=!0,e.splice(e.length,0,e[0])),n(e,function(t){void 0===t.polarPlotY&&i.toXY(t)})),t.apply(this,[].slice.call(arguments,1))}),m(i,"animate",t),u.column&&(e=u.column.prototype,e.polarArc=function(t,e,i,o){var n=this.xAxis.center,s=this.yAxis.len;return this.chart.renderer.symbols.arc(n[0],n[1],s-e,null,{start:i,end:o,innerR:s-h(t,s)})},m(e,"animate",t),m(e,"translate",function(t){var e,i,o,n=this.xAxis,s=n.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),n.isRadial)for(e=this.points,o=e.length;o--;)i=e[o],t=i.barX+s,i.shapeType="path",i.shapeArgs={d:this.polarArc(i.yBottom,i.plotY,t,t+i.pointWidth)},this.toXY(i),i.tooltipPos=[i.plotX,i.plotY],i.ttBelow=i.plotY>n.center[1]}),m(e,"alignDataLabel",function(t,e,o,n,s,r){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===n.align&&(n.align=t>20&&160>t?"left":t>200&&340>t?"right":"center"),null===n.verticalAlign&&(n.verticalAlign=45>t||t>315?"bottom":t>135&&225>t?"top":"middle"),i.alignDataLabel.call(this,e,o,n,s,r)):t.call(this,e,o,n,s,r)})),m(o,"getCoordinates",function(t,e){var i=this.chart,o={xAxis:[],yAxis:[]};return i.polar?n(i.axes,function(t){var n=t.isXAxis,s=t.center,r=e.chartX-s[0]-i.plotLeft,s=e.chartY-s[1]-i.plotTop;o[n?"xAxis":"yAxis"].push({axis:t,value:t.translate(n?Math.PI-Math.atan2(r,s):Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),!0)})}):o=t.call(this,e),o})}()}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(t,e,i){var o;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,o=1!==e[3]||1!==t[3],t=(o?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(o?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):t=e.input||"none",t}var i=function(){},o=t.getOptions(),n=t.each,s=t.extend,r=t.format,a=t.pick,l=t.wrap,h=t.Chart,c=t.seriesTypes,p=c.pie,d=c.column,u=t.Tick,g=t.fireEvent,f=t.inArray,m=1;n(["fill","stroke"],function(i){t.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,e(t.Color(this.start),t.Color(this.end),this.pos))}}),s(o.lang,{drillUpText:"? Back to {series.name}"}),o.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}},t.SVGRenderer.prototype.Element.prototype.fadeIn=function(t){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:a(this.newOpacity,1)},t||{duration:250})},h.prototype.addSeriesAsDrilldown=function(t,e){this.addSingleSeriesAsDrilldown(t,e),this.applyDrilldown()},h.prototype.addSingleSeriesAsDrilldown=function(t,e){var o,r=t.series,a=r.xAxis,l=r.yAxis;o=t.color||r.color;var h,c,p,d=[],u=[];this.drilldownLevels||(this.drilldownLevels=[]),c=r.options._levelNumber||0,(p=this.drilldownLevels[this.drilldownLevels.length-1])&&p.levelNumber!==c&&(p=void 0),e=s({color:o,_ddSeriesId:m++},e),h=f(t,r.points),n(r.chart.series,function(t){t.xAxis!==a||t.isDrilling||(t.options._ddSeriesId=t.options._ddSeriesId||m++,t.options._colorIndex=t.userOptions._colorIndex,t.options._levelNumber=t.options._levelNumber||c,p?(d=p.levelSeries,u=p.levelSeriesOptions):(d.push(t),u.push(t.options)))}),o={levelNumber:c,seriesOptions:r.options,levelSeriesOptions:u,levelSeries:d,shapeArgs:t.shapeArgs,bBox:t.graphic?t.graphic.getBBox():{},color:o,lowerSeriesOptions:e,pointOptions:r.options.data[h],pointIndex:h,oldExtremes:{xMin:a&&a.userMin,xMax:a&&a.userMax,yMin:l&&l.userMin,yMax:l&&l.userMax}},this.drilldownLevels.push(o),o=o.lowerSeries=this.addSeries(e,!1),o.options._levelNumber=c+1,a&&(a.oldPos=a.pos,a.userMin=a.userMax=null,l.userMin=l.userMax=null),r.type===o.type&&(o.animate=o.animateDrilldown||i,o.options.animation=!0)},h.prototype.applyDrilldown=function(){var t,e=this.drilldownLevels;e&&e.length>0&&(t=e[e.length-1].levelNumber,n(this.drilldownLevels,function(e){e.levelNumber===t&&n(e.levelSeries,function(e){e.options&&e.options._levelNumber===t&&e.remove(!1)})})),this.redraw(),this.showDrillUpButton()},h.prototype.getDrilldownBackText=function(){var t=this.drilldownLevels;return t&&t.length>0?(t=t[t.length-1],t.series=t.seriesOptions,r(this.options.lang.drillUpText,t)):void 0},h.prototype.showDrillUpButton=function(){var t,e,i=this,o=this.getDrilldownBackText(),n=i.options.drilldown.drillUpButton;this.drillUpButton?this.drillUpButton.attr({text:o}).align():(e=(t=n.theme)&&t.states,this.drillUpButton=this.renderer.button(o,null,null,function(){i.drillUp()},t,e&&e.hover,e&&e.select).attr({align:n.position.align,zIndex:9}).add().align(n.position,!1,n.relativeTo||"plotBox"))},h.prototype.drillUp=function(){for(var t,e,i,o,s=this,r=s.drilldownLevels,a=r[r.length-1].levelNumber,l=r.length,h=s.series,c=function(t){var r;n(h,function(e){e.options._ddSeriesId===t._ddSeriesId&&(r=e)}),r=r||s.addSeries(t,!1),r.type===i.type&&r.animateDrillupTo&&(r.animate=r.animateDrillupTo),t===e.seriesOptions&&(o=r)};l--;)if(e=r[l],e.levelNumber===a){if(r.pop(),i=e.lowerSeries,!i.chart)for(t=h.length;t--;)if(h[t].options.id===e.lowerSeriesOptions.id&&h[t].options._levelNumber===a+1){i=h[t];break}i.xData=[],n(e.levelSeriesOptions,c),g(s,"drillup",{seriesOptions:e.seriesOptions}),o.type===i.type&&(o.drilldownLevel=e,o.options.animation=s.options.drilldown.animation,i.animateDrillupFrom&&i.chart&&i.animateDrillupFrom(e)),o.options._levelNumber=a,i.remove(!1),o.xAxis&&(t=e.oldExtremes,o.xAxis.setExtremes(t.xMin,t.xMax,!1),o.yAxis.setExtremes(t.yMin,t.yMax,!1))}g(s,"drillupall"),this.redraw(),0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align(),this.ddDupes.length=[]},d.prototype.supportsDrilldown=!0,d.prototype.animateDrillupTo=function(t){if(!t){var e=this,o=e.drilldownLevel;n(this.points,function(t){t.graphic&&t.graphic.hide(),t.dataLabel&&t.dataLabel.hide(),t.connector&&t.connector.hide()}),setTimeout(function(){e.points&&n(e.points,function(t,e){var i=e===(o&&o.pointIndex)?"show":"fadeIn",n="show"===i?!0:void 0;t.graphic&&t.graphic[i](n),t.dataLabel&&t.dataLabel[i](n),t.connector&&t.connector[i](n)})},Math.max(this.chart.options.drilldown.animation.duration-50,0)),this.animate=i}},d.prototype.animateDrilldown=function(t){var e,i=this,o=this.chart.drilldownLevels,r=this.chart.options.drilldown.animation,l=this.xAxis;t||(n(o,function(t){i.options._ddSeriesId===t.lowerSeriesOptions._ddSeriesId&&(e=t.shapeArgs,e.fill=t.color)}),e.x+=a(l.oldPos,l.pos)-l.pos,n(this.points,function(t){t.graphic&&t.graphic.attr(e).animate(s(t.shapeArgs,{fill:t.color}),r),t.dataLabel&&t.dataLabel.fadeIn(r)}),this.animate=null)},d.prototype.animateDrillupFrom=function(e){var i=this.chart.options.drilldown.animation,o=this.group,r=this;n(r.trackerGroups,function(t){r[t]&&r[t].on("mouseover")}),delete this.group,n(this.points,function(n){var r=n.graphic,a=function(){r.destroy(),o&&(o=o.destroy())};r&&(delete n.graphic,i?r.animate(s(e.shapeArgs,{fill:e.color}),t.merge(i,{complete:a})):(r.attr(e.shapeArgs),a()))})},p&&s(p.prototype,{supportsDrilldown:!0,animateDrillupTo:d.prototype.animateDrillupTo,animateDrillupFrom:d.prototype.animateDrillupFrom,animateDrilldown:function(e){var i=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=this.chart.options.drilldown.animation,r=i.shapeArgs,a=r.start,l=(r.end-a)/this.points.length;e||(n(this.points,function(e,n){e.graphic.attr(t.merge(r,{start:a+n*l,end:a+(n+1)*l,fill:i.color}))[o?"animate":"attr"](s(e.shapeArgs,{fill:e.color}),o)}),this.animate=null)}}),t.Point.prototype.doDrilldown=function(t,e,i){var o,n=this.series.chart,s=n.options.drilldown,r=(s.series||[]).length;for(n.ddDupes||(n.ddDupes=[]);r--&&!o;)s.series[r].id===this.drilldown&&-1===f(this.drilldown,n.ddDupes)&&(o=s.series[r],n.ddDupes.push(this.drilldown));g(n,"drilldown",{point:this,seriesOptions:o,category:e,originalEvent:i,points:void 0!==e&&this.series.xAxis.ddPoints[e].slice(0)},function(e){var i=e.point.series&&e.point.series.chart,o=e.seriesOptions;i&&o&&(t?i.addSingleSeriesAsDrilldown(e.point,o):i.addSeriesAsDrilldown(e.point,o))})},t.Axis.prototype.drilldownCategory=function(t,e){var i,o,n=this.ddPoints[t];for(i in n)(o=n[i])&&o.series&&o.series.visible&&o.doDrilldown&&o.doDrilldown(!0,t,e);this.chart.applyDrilldown()},t.Axis.prototype.getDDPoints=function(t,e){var i=this.ddPoints;return i||(this.ddPoints=i={}),i[t]||(i[t]=[]),i[t].levelNumber!==e&&(i[t].length=0),i[t]},u.prototype.drillable=function(){var e=this.pos,i=this.label,o=this.axis,n=o.ddPoints&&o.ddPoints[e];i&&n&&n.length?(i.basicStyles||(i.basicStyles=t.merge(i.styles)),i.addClass("highcharts-drilldown-axis-label").css(o.chart.options.drilldown.activeAxisLabelStyle).on("click",function(t){o.drilldownCategory(e,t)})):i&&i.basicStyles&&(i.styles={},i.css(i.basicStyles),i.on("click",null))},l(u.prototype,"addLabel",function(t){t.call(this),this.drillable()}),l(t.Point.prototype,"init",function(e,i,o,n){var s=e.call(this,i,o,n),e=(o=i.xAxis)&&o.ticks[n],o=o&&o.getDDPoints(n,i.options._levelNumber);return s.drilldown&&(t.addEvent(s,"click",function(t){i.xAxis&&i.chart.options.drilldown.allowPointDrilldown===!1?i.xAxis.drilldownCategory(n,t):s.doDrilldown(void 0,void 0,t)}),o)&&(o.push(s),o.levelNumber=i.options._levelNumber),e&&e.drillable(),s}),l(t.Series.prototype,"drawDataLabels",function(t){var e=this.chart.options.drilldown.activeDataLabelStyle;t.call(this),n(this.points,function(t){t.drilldown&&t.dataLabel&&t.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(e)})});var x,o=function(t){t.call(this),n(this.points,function(t){t.drilldown&&t.graphic&&t.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(x in c)c[x].prototype.supportsDrilldown&&l(c[x].prototype,"drawTracker",o)}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(){return!!this.points.length}function i(){this.hasData()?this.hideNoData():this.showNoData()}var o=t.seriesTypes,n=t.Chart.prototype,s=t.getOptions(),r=t.extend,a=t.each;r(s.lang,{noData:"No data to display"}),s.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"}},a(["pie","gauge","waterfall","bubble","treemap"],function(t){o[t]&&(o[t].prototype.hasData=e)}),t.Series.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin},n.showNoData=function(t){var e=this.options,t=t||e.lang.noData,e=e.noData;this.noDataLabel||(this.noDataLabel=this.renderer.label(t,0,0,null,null,null,e.useHTML,null,"no-data").attr(e.attr).css(e.style).add(),this.noDataLabel.align(r(this.noDataLabel.getBBox(),e.position),!1,"plotBox"))},n.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())},n.hasData=function(){for(var t=this.series,e=t.length;e--;)if(t[e].hasData()&&!t[e].options.isInternal)return!0;return!1},n.callbacks.push(function(e){t.addEvent(e,"load",i),t.addEvent(e,"redraw",i)})}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,i=t.win,o=i.document,n=t.Chart,s=t.addEvent,r=t.removeEvent,a=t.fireEvent,l=t.createElement,h=t.discardElement,c=t.css,p=t.merge,d=t.each,u=t.extend,g=t.splat,f=Math.max,m=t.isTouchDevice,x=t.Renderer.prototype.symbols,y=t.getOptions();u(y.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),y.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:m?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},y.exporting={type:"image/png",url:"http://export.highcharts.com/",printMaxWidth:780,buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},t.post=function(t,e,i){var n,t=l("form",p({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},o.body);for(n in e)l("input",{type:"hidden",name:n,value:e[n]},null,t);t.submit(),h(t)},u(n.prototype,{sanitizeSVG:function(t){return t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(e){var i,n,s,r,a,c=this,f=p(c.options,e),m=f.exporting.allowHTML;return o.createElementNS||(o.createElementNS=function(t,e){return o.createElement(e)}),n=l("div",null,{position:"absolute",top:"-9999em",width:c.chartWidth+"px",height:c.chartHeight+"px"},o.body),s=c.renderTo.style.width,a=c.renderTo.style.height,s=f.exporting.sourceWidth||f.chart.width||/px$/.test(s)&&parseInt(s,10)||600,a=f.exporting.sourceHeight||f.chart.height||/px$/.test(a)&&parseInt(a,10)||400,u(f.chart,{animation:!1,renderTo:n,forExport:!0,renderer:"SVGRenderer",width:s,height:a}),f.exporting.enabled=!1,delete f.data,f.series=[],d(c.series,function(t){r=p(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),r.isInternal||f.series.push(r)}),e&&d(["xAxis","yAxis"],function(t){d(g(e[t]),function(e,i){f[t][i]=p(f[t][i],e)})}),i=new t.Chart(f,c.callback),d(["xAxis","yAxis"],function(t){d(c[t],function(e,o){var n=i[t][o],s=e.getExtremes(),r=s.userMin,s=s.userMax;n&&(void 0!==r||void 0!==s)&&n.setExtremes(r,s,!0,!1)})}),s=i.getChartHTML(),f=null,i.destroy(),h(n),m&&(n=s.match(/<\/svg>(.*?$)/))&&(n='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+n[1]+"</body></foreignObject>",s=s.replace("</svg>",n+"</svg>")),s=this.sanitizeSVG(s),s=s.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(p({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(e,i){var o=this.getSVGForExport(e,i),e=p(this.options.exporting,e);t.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:o},e.formAttributes)},print:function(){var t,e,n,s=this,r=s.container,l=[],h=r.parentNode,c=o.body,p=c.childNodes,u=s.options.exporting.printMaxWidth;s.isPrinting||(s.isPrinting=!0,s.pointer.reset(null,0),a(s,"beforePrint"),(n=u&&s.chartWidth>u)&&(t=s.hasUserSize,e=[s.chartWidth,s.chartHeight,!1],s.setSize(u,s.chartHeight,!1)),d(p,function(t,e){1===t.nodeType&&(l[e]=t.style.display,t.style.display="none")}),c.appendChild(r),i.focus(),i.print(),setTimeout(function(){h.appendChild(r),d(p,function(t,e){1===t.nodeType&&(t.style.display=l[e])}),s.isPrinting=!1,n&&(s.setSize.apply(s,e),s.hasUserSize=t),a(s,"afterPrint")},1e3))},contextMenu:function(t,e,i,n,a,h,p){var g,m,x,y=this,v=y.options.navigation,b=v.menuItemStyle,w=y.chartWidth,k=y.chartHeight,A="cache-"+t,S=y[A],M=f(a,h),C=function(e){y.pointer.inClass(e.target,t)||m()};S||(y[A]=S=l("div",{className:t},{position:"absolute",zIndex:1e3,padding:M+"px"},y.container),g=l("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},v.menuStyle),S),m=function(){c(S,{display:"none"}),p&&p.setState(0),y.openMenu=!1},s(S,"mouseleave",function(){x=setTimeout(m,500)}),s(S,"mouseenter",function(){clearTimeout(x)}),s(o,"mouseup",C),s(y,"destroy",function(){r(o,"mouseup",C)}),d(e,function(t){if(t){var e=t.separator?l("hr",null,null,g):l("div",{onmouseover:function(){c(this,v.menuItemHoverStyle)},onmouseout:function(){c(this,b)},onclick:function(e){e&&e.stopPropagation(),m(),t.onclick&&t.onclick.apply(y,arguments)},innerHTML:t.text||y.options.lang[t.textKey]},u({cursor:"pointer"},b),g);y.exportDivElements.push(e)}}),y.exportDivElements.push(g,S),y.exportMenuWidth=S.offsetWidth,y.exportMenuHeight=S.offsetHeight),e={display:"block"},i+y.exportMenuWidth>w?e.right=w-i-a-M+"px":e.left=i-M+"px",n+h+y.exportMenuHeight>k&&"top"!==p.alignOptions.verticalAlign?e.bottom=k-n-M+"px":e.top=n+h-M+"px",c(S,e),y.openMenu=!0},addButton:function(i){var o,n,s=this,r=s.renderer,a=p(s.options.navigation.buttonOptions,i),l=a.onclick,h=a.menuItems,c={stroke:a.symbolStroke,fill:a.symbolFill},d=a.symbolSize||12;if(s.btnCount||(s.btnCount=0),s.exportDivElements||(s.exportDivElements=[],s.exportSVGElements=[]),a.enabled!==!1){var g,f=a.theme,m=f.states,x=m&&m.hover,m=m&&m.select;delete f.states,l?g=function(t){t.stopPropagation(),l.call(s,t)}:h&&(g=function(){s.contextMenu(n.menuClassName,h,n.translateX,n.translateY,n.width,n.height,n),n.setState(2)}),a.text&&a.symbol?f.paddingLeft=t.pick(f.paddingLeft,25):a.text||u(f,{width:a.width,height:a.height,padding:0}),n=r.button(a.text,0,0,g,f,x,m).attr({title:s.options.lang[a._titleKey],"stroke-linecap":"round",zIndex:3}),n.menuClassName=i.menuClassName||"highcharts-menu-"+s.btnCount++,a.symbol&&(o=r.symbol(a.symbol,a.symbolX-d/2,a.symbolY-d/2,d,d).attr(u(c,{"stroke-width":a.symbolStrokeWidth||1,zIndex:1})).add(n)),n.add().align(u(a,{width:n.width,x:t.pick(a.x,e)}),!0,"spacingBox"),e+=(n.width+a.buttonSpacing)*("right"===a.align?-1:1),s.exportSVGElements.push(n,o)}},destroyExport:function(t){var e,i,t=t.target;for(e=0;e<t.exportSVGElements.length;e++)(i=t.exportSVGElements[e])&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[e]=i.destroy());for(e=0;e<t.exportDivElements.length;e++)i=t.exportDivElements[e],r(i,"mouseleave"),t.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,h(i)}}),x.menu=function(t,e,i,o){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+o/2+.5,"L",t+i,e+o/2+.5,"M",t,e+o-1.5,"L",t+i,e+o-1.5]},n.prototype.callbacks.push(function(t){var i,o=t.options.exporting,n=o.buttons;if(e=0,o.enabled!==!1){for(i in n)t.addButton(n[i]);s(t,"destroy",t.destroyExport)}})}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function e(t,e){var i=n.getElementsByTagName("head")[0],o=n.createElement("script");o.type="text/javascript",o.src=t,o.onload=e,i.appendChild(o)}var i=t.win,o=i.navigator,n=i.document;t.CanVGRenderer={},t.Chart.prototype.exportChartLocal=function(s,r){var a,l,h,c,p,d=this,u=t.merge(d.options.exporting,s),g=o.userAgent.indexOf("WebKit")>-1&&o.userAgent.indexOf("Chrome")<0,f=u.scale||2,m=i.URL||i.webkitURL||i,x=0,y=function(){if(u.fallbackToExportServer===!1){if(!u.error)throw"Fallback to export server disabled";u.error()}else d.exportChart(u)},v=function(t,e,o,s,r,a,l,h){var c,p=new i.Image,d=function(){var i,r=n.createElement("canvas"),l=r.getContext&&r.getContext("2d");try{if(l){r.height=p.height*f,r.width=p.width*f,l.drawImage(p,0,0,r.width,r.height);try{i=r.toDataURL(e),s(i,e,o)}catch(d){if("SecurityError"!==d.name&&"SECURITY_ERR"!==d.name&&"SecurityError"!==d.message)throw d;c(t,e,o)}}else a(t,e,o)}finally{h&&h(t,e,o)}},u=function(){l(t,e,o),h&&h(t,e,o)};c=function(){p=new i.Image,c=r,p.crossOrigin="Anonymous",p.onload=d,p.onerror=u,p.src=t},p.onload=d,p.onerror=u,p.src=t},b=function(t){try{if(!g&&o.userAgent.toLowerCase().indexOf("firefox")<0)return m.createObjectURL(new i.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(e){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)},w=function(t,e){var s,r=n.createElement("a"),a=(u.filename||"chart")+"."+e;if(o.msSaveOrOpenBlob)o.msSaveOrOpenBlob(t,a);else if(void 0!==r.download)r.href=t,r.download=a,r.target="_blank",n.body.appendChild(r),r.click(),n.body.removeChild(r);else try{if(s=i.open(t,"chart"),void 0===s||null===s)throw"Failed to open window"}catch(l){i.location.href=t}},k=function(){var s,r,l=u&&u.type||"image/png",h=l.split("/")[1],c=d.sanitizeSVG(a.innerHTML);if("image/svg+xml"===l)try{o.msSaveOrOpenBlob?(r=new MSBlobBuilder,r.append(c),s=r.getBlob("image/svg+xml")):s=b(c),w(s,"svg")}catch(p){y()}else s=b(c),v(s,l,{},function(t){try{w(t,h)}catch(e){y()}},function(){var s=n.createElement("canvas"),r=s.getContext("2d"),a=c.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*f,p=c.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*f,u=function(){r.drawSvg(c,0,0,a,p);try{w(o.msSaveOrOpenBlob?s.msToBlob():s.toDataURL(l),h)}catch(t){y()}};s.width=a,s.height=p,i.canvg?u():(d.showLoading(),e(t.getOptions().global.canvasToolsURL,function(){d.hideLoading(),u()}))},y,y,function(){try{m.revokeObjectURL(s)}catch(t){}})},A=function(t,e,i){++x,i.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),
x===l.length&&k()};t.wrap(t.Chart.prototype,"getChartHTML",function(t){return a=this.container.cloneNode(!0),t.apply(this,Array.prototype.slice.call(arguments,1))}),d.getSVGForExport(u,r),l=a.getElementsByTagName("image");try{for(l.length||k(),c=0,p=l.length;p>c;++c)h=l[c],v(h.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:h},A,y,y,y)}catch(S){y()}},t.getOptions().exporting.buttons.contextButton.menuItems=[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}}]}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e=t.seriesTypes,i=t.map,o=t.merge,n=t.extend,s=t.extendClass,r=t.getOptions().plotOptions,a=function(){},l=t.each,h=t.grep,c=t.pick,p=t.Series,d=t.stableSort,u=t.Color,g=function(t,e,i){var o,i=i||this;for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)},f=function(t,e,i,o){return o=o||this,t=t||[],l(t,function(n,s){i=e.call(o,i,n,s,t)}),i},m=function(t,e,i){i=i||this,t=e.call(i,t),t!==!1&&m(t,e,i)};r.treemap=o(r.scatter,{showInLegend:!1,marker:!1,borderColor:"#E0E0E0",borderWidth:1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.node.val}</b><br/>"},layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,opacity:.15,states:{hover:{borderColor:"#A0A0A0",brightness:e.heatmap?0:.1,opacity:.75,shadow:!1}},drillUpButton:{position:{align:"right",x:-10,y:10}}}),e.treemap=s(e.scatter,o({pointAttrToOptions:{},pointArrayMap:["value"],axisTypes:e.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],optionalAxis:"colorAxis",getSymbol:a,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:e.heatmap&&e.heatmap.prototype.translateColors},{type:"treemap",trackerGroups:["group","dataLabelsGroup"],pointClass:s(t.Point,{setVisible:e.pie.prototype.pointClass.prototype.setVisible}),getListOfParents:function(e,i){var o=f(e,function(t,e,i){return e=c(e.parent,""),void 0===t[e]&&(t[e]=[]),t[e].push(i),t},{});return g(o,function(e,o,n){""!==o&&-1===t.inArray(o,i)&&(l(e,function(t){n[""].push(t)}),delete n[o])}),o},getTree:function(){var t,e=this;return t=i(this.data,function(t){return t.id}),t=e.getListOfParents(this.data,t),e.nodeMap=[],t=e.buildNode("",-1,0,t,null),m(this.nodeMap[this.rootNode],function(t){var i=!1,o=t.parent;return t.visible=!0,(o||""===o)&&(i=e.nodeMap[o]),i}),m(this.nodeMap[this.rootNode].children,function(t){var e=!1;return l(t,function(t){t.visible=!0,t.children.length&&(e=(e||[]).concat(t.children))}),e}),this.setTreeValues(t),t},init:function(t,e){p.prototype.init.call(this,t,e),this.options.allowDrillToNode&&this.drillTo()},buildNode:function(t,e,i,o,n){var s,r=this,a=[],h=r.points[e];return l(o[t]||[],function(e){s=r.buildNode(r.points[e].id,e,i+1,o,t),a.push(s)}),e={id:t,i:e,children:a,level:i,parent:n,visible:!1},r.nodeMap[e.id]=e,h&&(h.node=e),e},setTreeValues:function(t){var e,i=this,o=i.options,s=0,r=[],a=i.points[t.i];return l(t.children,function(t){t=i.setTreeValues(t),r.push(t),t.ignore?m(t.children,function(t){var e=!1;return l(t,function(t){n(t,{ignore:!0,isLeaf:!1,visible:!1}),t.children.length&&(e=(e||[]).concat(t.children))}),e}):s+=t.val}),d(r,function(t,e){return t.sortIndex-e.sortIndex}),e=c(a&&a.value,s),n(t,{children:r,childrenTotal:s,ignore:!(c(a&&a.visible,!0)&&e>0),isLeaf:t.visible&&!s,levelDynamic:o.levelIsConstant?t.level:t.level-i.nodeMap[i.rootNode].level,name:c(a&&a.name,""),sortIndex:c(a&&a.sortIndex,-e),val:e}),t},calculateChildrenAreas:function(t,e){var i=this,n=i.options,s=this.levelMap[t.levelDynamic+1],r=c(i[s&&s.layoutAlgorithm]&&s.layoutAlgorithm,n.layoutAlgorithm),a=n.alternateStartingDirection,p=[],n=h(t.children,function(t){return!t.ignore});s&&s.layoutStartingDirection&&(e.direction="vertical"===s.layoutStartingDirection?0:1),p=i[r](e,n),l(n,function(t,n){var s=p[n];t.values=o(s,{val:t.childrenTotal,direction:a?1-e.direction:e.direction}),t.pointValues=o(s,{x:s.x/i.axisRatio,width:s.width/i.axisRatio}),t.children.length&&i.calculateChildrenAreas(t,t.values)})},setPointValues:function(){var t=this.xAxis,e=this.yAxis;l(this.points,function(i){var o,n,s=i.node,r=s.pointValues;r&&s.visible?(s=Math.round(t.translate(r.x,0,0,0,1)),o=Math.round(t.translate(r.x+r.width,0,0,0,1)),n=Math.round(e.translate(r.y,0,0,0,1)),r=Math.round(e.translate(r.y+r.height,0,0,0,1)),i.shapeType="rect",i.shapeArgs={x:Math.min(s,o),y:Math.min(n,r),width:Math.abs(o-s),height:Math.abs(r-n)},i.plotX=i.shapeArgs.x+i.shapeArgs.width/2,i.plotY=i.shapeArgs.y+i.shapeArgs.height/2):(delete i.plotX,delete i.plotY)})},setColorRecursive:function(t,e){var i,o,n=this;t&&(i=n.points[t.i],o=n.levelMap[t.levelDynamic],e=c(i&&i.options.color,o&&o.color,e),i&&(i.color=e),t.children.length&&l(t.children,function(t){n.setColorRecursive(t,e)}))},algorithmGroup:function(t,e,i,o){this.height=t,this.width=e,this.plot=o,this.startDirection=this.direction=i,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,e){return Math.max(t/e,e/t)}},this.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total+=t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(t,e,i,o){var n,s,r,a,h,c=i.lW,p=i.lH,d=i.plot,u=0,g=i.elArr.length-1;e?(c=i.nW,p=i.nH):h=i.elArr[i.elArr.length-1],l(i.elArr,function(t){(e||g>u)&&(0===i.direction?(n=d.x,s=d.y,r=c,a=t/r):(n=d.x,s=d.y,a=p,r=t/a),o.push({x:n,y:s,width:r,height:a}),0===i.direction?d.y+=a:d.x+=r),u+=1}),i.reset(),0===i.direction?i.width-=c:i.height-=p,d.y=d.parent.y+(d.parent.height-i.height),d.x=d.parent.x+(d.parent.width-i.width),t&&(i.direction=1-i.direction),e||i.addElement(h)},algorithmLowAspectRatio:function(t,e,i){var o,n=[],s=this,r={x:e.x,y:e.y,parent:e},a=0,h=i.length-1,c=new this.algorithmGroup(e.height,e.width,e.direction,r);return l(i,function(i){o=e.width*e.height*(i.val/e.val),c.addElement(o),c.lP.nR>c.lP.lR&&s.algorithmCalcPoints(t,!1,c,n,r),a===h&&s.algorithmCalcPoints(t,!0,c,n,r),a+=1}),n},algorithmFill:function(t,e,i){var o,n,s,r,a,h=[],c=e.direction,p=e.x,d=e.y,u=e.width,g=e.height;return l(i,function(i){o=e.width*e.height*(i.val/e.val),n=p,s=d,0===c?(a=g,r=o/a,u-=r,p+=r):(r=u,a=o/r,g-=a,d+=a),h.push({x:n,y:s,width:r,height:a}),t&&(c=1-c)}),h},strip:function(t,e){return this.algorithmLowAspectRatio(!1,t,e)},squarified:function(t,e){return this.algorithmLowAspectRatio(!0,t,e)},sliceAndDice:function(t,e){return this.algorithmFill(!0,t,e)},stripes:function(t,e){return this.algorithmFill(!1,t,e)},translate:function(){var t,e;p.prototype.translate.call(this),this.rootNode=c(this.options.rootId,""),this.levelMap=f(this.options.levels,function(t,e){return t[e.level]=e,t},{}),e=this.tree=this.getTree(),this.axisRatio=this.xAxis.len/this.yAxis.len,this.nodeMap[""].pointValues=t={x:0,y:0,width:100,height:100},this.nodeMap[""].values=t=o(t,{width:t.width*this.axisRatio,direction:"vertical"===this.options.layoutStartingDirection?0:1,val:e.val}),this.calculateChildrenAreas(e,t),this.colorAxis?this.translateColors():this.options.colorByPoint||this.setColorRecursive(this.tree,void 0),this.options.allowDrillToNode&&(e=this.nodeMap[this.rootNode].pointValues,this.xAxis.setExtremes(e.x,e.x+e.width,!1),this.yAxis.setExtremes(e.y,e.y+e.height,!1),this.xAxis.setScale(),this.yAxis.setScale()),this.setPointValues()},drawDataLabels:function(){var t,e,i=this,n=h(i.points,function(t){return t.node.visible});l(n,function(n){e=i.levelMap[n.node.levelDynamic],t={style:{}},n.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=o(t,e.dataLabels),i._hasPointLabels=!0),n.shapeArgs&&(t.style.width=n.shapeArgs.width,n.dataLabel&&n.dataLabel.css({width:n.shapeArgs.width+"px"})),n.dlOptions=o(t,n.options.dataLabels)}),p.prototype.drawDataLabels.call(this)},alignDataLabel:e.column.prototype.alignDataLabel,pointAttribs:function(t,e){var i=this.levelMap[t.node.levelDynamic]||{},o=this.options,n=e&&o.states[e]||{},i={stroke:t.borderColor||i.borderColor||n.borderColor||o.borderColor,"stroke-width":c(t.borderWidth,i.borderWidth,n.borderWidth,o.borderWidth),dashstyle:t.borderDashStyle||i.borderDashStyle||n.borderDashStyle||o.borderDashStyle,fill:t.color||this.color,zIndex:"hover"===e?1:0};return t.node.level<=this.nodeMap[this.rootNode].level?(i.fill="none",i["stroke-width"]=0):t.node.isLeaf?e&&(i.fill=u(i.fill).brighten(n.brightness).get()):c(o.interactByLeaf,!o.allowDrillToNode)?i.fill="none":(o=c(n.opacity,o.opacity),i.fill=u(i.fill).setOpacity(o).get()),i},drawPoints:function(){var t=this,i=h(t.points,function(t){return t.node.visible});l(i,function(e){var i="levelGroup-"+e.node.levelDynamic;t[i]||(t[i]=t.chart.renderer.g(i).attr({zIndex:1e3-e.node.levelDynamic}).add(t.group)),e.group=t[i],e.pointAttr={"":t.pointAttribs(e),hover:t.pointAttribs(e,"hover"),select:{}}}),e.column.prototype.drawPoints.call(this),t.options.allowDrillToNode&&l(i,function(e){var i;e.graphic&&(i=e.drillId=t.options.interactByLeaf?t.drillToByLeaf(e):t.drillToByGroup(e),e.graphic.css({cursor:i?"pointer":"default"}))})},drillTo:function(){var e=this;t.addEvent(e,"click",function(t){var i,t=t.point,o=t.drillId;o&&(i=e.nodeMap[e.rootNode].name||e.rootNode,t.setState(""),e.drillToNode(o),e.showDrillUpButton(i))})},drillToByGroup:function(t){var e=!1;return t.node.level-this.nodeMap[this.rootNode].level!==1||t.node.isLeaf||(e=t.id),e},drillToByLeaf:function(t){var e=!1;if(t.node.parent!==this.rootNode&&t.node.isLeaf)for(t=t.node;!e;)t=this.nodeMap[t.parent],t.parent===this.rootNode&&(e=t.id);return e},drillUp:function(){var t=null;this.rootNode&&(t=this.nodeMap[this.rootNode],t=null!==t.parent?this.nodeMap[t.parent]:this.nodeMap[""]),null!==t&&(this.drillToNode(t.id),""===t.id?this.drillUpButton=this.drillUpButton.destroy():(t=this.nodeMap[t.parent],this.showDrillUpButton(t.name||t.id)))},drillToNode:function(t){this.options.rootId=t,this.isDirty=!0,this.chart.redraw()},showDrillUpButton:function(t){var e,i,o=this,t=t||"< Back",n=o.options.drillUpButton;n.text&&(t=n.text),this.drillUpButton?this.drillUpButton.attr({text:t}).align():(i=(e=n.theme)&&e.states,this.drillUpButton=this.chart.renderer.button(t,null,null,function(){o.drillUp()},e,i&&i.hover,i&&i.select).attr({align:n.position.align,zIndex:9}).add().align(n.position,!1,n.relativeTo||"plotBox"))},buildKDTree:a,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getExtremes:function(){p.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,p.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var e={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};p.prototype.bindAxes.call(this),t.extend(this.yAxis.options,e),t.extend(this.xAxis.options,e)}}))}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e,i=t.getOptions().plotOptions,o=t.pInt,n=t.pick,s=t.each,r=t.isNumber;i.solidgauge=t.merge(i.gauge,{colorByPoint:!0}),e={initDataClasses:function(e){var i,o=this,n=this.chart,r=0,a=this.options;this.dataClasses=i=[],s(e.dataClasses,function(s,l){var h,s=t.merge(s);i.push(s),s.color||("category"===a.dataClassColor?(h=n.options.colors,s.color=h[r++],r===h.length&&(r=0)):s.color=o.tweenColors(t.Color(a.minColor),t.Color(a.maxColor),l/(e.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],s(this.stops,function(e){e.color=t.Color(e[1])})},toColor:function(t,e){var i,o,n,s,r=this.stops,a=this.dataClasses;if(a){for(s=a.length;s--;)if(n=a[s],o=n.from,r=n.to,(void 0===o||t>=o)&&(void 0===r||r>=t)){i=n.color,e&&(e.dataClass=s);break}}else{for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min),s=r.length;s--&&!(i>r[s][0]););o=r[s]||r[s+1],r=r[s+1]||o,i=1-(r[0]-i)/(r[0]-o[0]||1),i=this.tweenColors(o.color,r.color,i)}return i},tweenColors:function(t,e,i){var o;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,o=1!==e[3]||1!==t[3],t=(o?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(o?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):t=e.input||"none",t}},s(["fill","stroke"],function(i){t.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,e.tweenColors(t.Color(this.start),t.Color(this.end),this.pos))}}),t.seriesTypes.solidgauge=t.extendClass(t.seriesTypes.gauge,{type:"solidgauge",pointAttrToOptions:{},bindAxes:function(){var i;t.seriesTypes.gauge.prototype.bindAxes.call(this),i=this.yAxis,t.extend(i,e),i.options.dataClasses&&i.initDataClasses(i.options),i.initStops(i.options)},drawPoints:function(){var e=this,i=e.yAxis,s=i.center,a=e.options,l=e.chart.renderer,h=a.overshoot,c=r(h)?h/180*Math.PI:0;t.each(e.points,function(t){var r=t.graphic,h=i.startAngleRad+i.translate(t.y,null,null,null,!0),p=o(n(t.options.radius,a.radius,100))*s[2]/200,d=o(n(t.options.innerRadius,a.innerRadius,60))*s[2]/200,u=i.toColor(t.y,t),g=Math.min(i.startAngleRad,i.endAngleRad),f=Math.max(i.startAngleRad,i.endAngleRad);"none"===u&&(u=t.color||e.color||"none"),"none"!==u&&(t.color=u),h=Math.max(g-c,Math.min(f+c,h)),a.wrap===!1&&(h=Math.max(g,Math.min(f,h))),g=Math.min(h,i.startAngleRad),h=Math.max(h,i.startAngleRad),h-g>2*Math.PI&&(h=g+2*Math.PI),t.shapeArgs=d={x:s[0],y:s[1],r:p,innerR:d,start:g,end:h,fill:u},t.startR=p,r?(t=d.d,r.animate(d),t&&(d.d=t)):(r={stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:u,"sweep-flag":0},"square"!==a.linecap&&(r["stroke-linecap"]=r["stroke-linejoin"]="round"),t.graphic=l.arc(d).attr(r).add(e.group))})},animate:function(e){e||(this.startAngleRad=this.yAxis.startAngleRad,t.seriesTypes.pie.prototype.animate.call(this,e))}})}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e=t.Axis,i=t.Chart,o=t.Color,n=t.Legend,s=t.LegendSymbolMixin,r=t.Series,a=t.Point,l=t.getOptions(),h=t.each,c=t.extend,p=t.extendClass,d=t.isNumber,u=t.merge,g=t.pick,f=t.seriesTypes,m=t.wrap,x=function(){},y=t.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};c(y.prototype,e.prototype),c(y.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(t,i){var o,n="vertical"!==t.options.legend.layout;o=u(this.defaultColorAxisOptions,{side:n?2:1,reversed:!n},i,{opposite:!n,showEmpty:!1,title:null,isColor:!0}),e.prototype.init.call(this,t,o),i.dataClasses&&this.initDataClasses(i),this.initStops(i),this.horiz=n,this.zoomEnabled=!1},tweenColors:function(t,e,i){var o;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,o=1!==e[3]||1!==t[3],t=(o?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(o?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):t=e.input||"none",t},initDataClasses:function(t){var e,i=this,n=this.chart,s=0,r=this.options,a=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],h(t.dataClasses,function(t,l){var h,t=u(t);e.push(t),t.color||("category"===r.dataClassColor?(h=n.options.colors,t.color=h[s++],s===h.length&&(s=0)):t.color=i.tweenColors(o(r.minColor),o(r.maxColor),2>a?.5:l/(a-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],h(this.stops,function(t){t.color=o(t[1])})},setOptions:function(t){e.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var t,e,i,o=this.legendSymbol,n=this.chart;o&&(this.left=t=o.attr("x"),this.top=e=o.attr("y"),this.width=i=o.attr("width"),this.height=o=o.attr("height"),this.right=n.chartWidth-t-i,this.bottom=n.chartHeight-e-o,this.len=this.horiz?i:o,this.pos=this.horiz?t:e)},toColor:function(t,e){var i,o,n,s,r=this.stops,a=this.dataClasses;if(a){for(s=a.length;s--;)if(n=a[s],o=n.from,r=n.to,(void 0===o||t>=o)&&(void 0===r||r>=t)){i=n.color,e&&(e.dataClass=s);break}}else{for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min||1),s=r.length;s--&&!(i>r[s][0]););o=r[s]||r[s+1],r=r[s+1]||o,i=1-(r[0]-i)/(r[0]-o[0]||1),i=this.tweenColors(o.color,r.color,i)}return i},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(this.axisParent=t,e.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t,e=this.options,i=this.reversed;t=i?1:0,i=i?0:1,t=this.horiz?[t,0,i,0]:[0,i,0,t],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:e.stops||[[0,e.minColor],[1,e.maxColor]]}},drawLegendSymbol:function(t,e){var i=t.padding,o=t.options,n=this.horiz,s=g(o.symbolWidth,n?200:12),r=g(o.symbolHeight,n?12:200),a=g(o.labelPadding,n?16:30),o=g(o.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,s,r).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=s+i+(n?o:a),this.legendItemHeight=r+i+(n?a:0)},setState:x,visible:!0,setVisible:x,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,i){var o,n=i&&i.plotX,s=i&&i.plotY,r=this.pos,a=this.len;i&&(o=this.toPixels(i[i.series.colorKey]),r>o?o=r-2:o>r+a&&(o=r+a+2),i.plotX=o,i.plotY=this.len-o,e.prototype.drawCrosshair.call(this,t,i),i.plotX=n,i.plotY=s,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(t,i,o,n,s){return d(s)?this.horiz?["M",s-4,this.top-6,"L",s+4,this.top-6,s,this.top,"Z"]:["M",this.left,s,"L",this.left-6,s+6,this.left-6,s-6,"Z"]:e.prototype.getPlotLinePath.call(this,t,i,o,n)},update:function(t,i){var o=this.chart,n=o.legend;h(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&n.allItems&&(h(n.allItems,function(t){t.isDataClass&&t.legendGroup.destroy()}),o.isDirtyLegend=!0),o.options[this.coll]=u(this.userOptions,t),e.prototype.update.call(this,t,i),this.legendItem&&(this.setLegendColor(),n.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var e,i=this,o=this.chart,n=this.legendItems,r=o.options.legend,a=r.valueDecimals,l=r.valueSuffix||"";return n.length||h(this.dataClasses,function(r,p){var d=!0,u=r.from,g=r.to;e="",void 0===u?e="< ":void 0===g&&(e="> "),void 0!==u&&(e+=t.numberFormat(u,a)+l),void 0!==u&&void 0!==g&&(e+=" - "),void 0!==g&&(e+=t.numberFormat(g,a)+l),n.push(c({chart:o,name:e,options:{},drawLegendSymbol:s.drawRectangle,visible:!0,setState:x,isDataClass:!0,setVisible:function(){d=this.visible=!d,h(i.series,function(t){h(t.points,function(t){t.dataClass===p&&t.setVisible(d)})}),o.legend.colorizeItem(this,d)}},r))}),n},name:""}),h(["fill","stroke"],function(e){t.Fx.prototype[e+"Setter"]=function(){this.elem.attr(e,y.prototype.tweenColors(o(this.start),o(this.end),this.pos))}}),m(i.prototype,"getAxes",function(t){var e=this.options.colorAxis;t.call(this),this.colorAxis=[],e&&new y(this,e)}),m(n.prototype,"getAllItems",function(t){var e=[],i=this.chart.colorAxis[0];return i&&(i.options.dataClasses?e=e.concat(i.getDataClassLegendSymbols()):e.push(i),h(i.series,function(t){t.options.showInLegend=!1})),e.concat(t.call(this))}),i={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:x,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var t=this,e=this.options.nullColor,i=this.colorAxis,o=this.colorKey;h(this.data,function(n){var s=n[o];(s=n.options.color||(null===s?e:i&&void 0!==s?i.toColor(s,n):n.color||t.color))&&(n.color=s)})}},l.plotOptions.heatmap=u(l.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),f.heatmap=p(f.scatter,u(i,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,pointClass:p(a,{setVisible:function(t){var e=this,i=t?"show":"hide";h(["graphic","dataLabel"],function(t){e[t]&&e[t][i]()})}}),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;f.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=g(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this.options,e=this.xAxis,i=this.yAxis,o=function(t,e,i){return Math.min(Math.max(e,t),i)};this.generatePoints(),h(this.points,function(n){var s=(t.colsize||1)/2,r=(t.rowsize||1)/2,a=o(Math.round(e.len-e.translate(n.x-s,0,1,0,1)),-e.len,2*e.len),s=o(Math.round(e.len-e.translate(n.x+s,0,1,0,1)),-e.len,2*e.len),l=o(Math.round(i.translate(n.y-r,0,1,0,1)),-i.len,2*i.len),r=o(Math.round(i.translate(n.y+r,0,1,0,1)),-i.len,2*i.len);n.plotX=n.clientX=(a+s)/2,n.plotY=(l+r)/2,n.shapeType="rect",n.shapeArgs={x:Math.min(a,s),y:Math.min(l,r),width:Math.abs(s-a),height:Math.abs(r-l)}}),this.translateColors(),this.chart.hasRendered&&h(this.points,function(t){t.shapeArgs.fill=t.options.color||t.color})},drawPoints:f.column.prototype.drawPoints,animate:x,getBox:x,drawLegendSymbol:s.drawRectangle,alignDataLabel:f.column.prototype.alignDataLabel,getExtremes:function(){r.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,r.prototype.getExtremes.call(this)}}))}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var e=t.getOptions(),i=e.plotOptions,o=t.seriesTypes,n=t.merge,s=function(){},r=t.each;i.funnel=n(i.pie,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}}),o.funnel=t.extendClass(o.pie,{type:"funnel",animate:s,translate:function(){var t,e,i,o,n,a,l,h,c,p,d,u=function(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)},g=0,f=this.chart,m=this.options,x=m.reversed,y=m.ignoreHiddenPoint,v=f.plotWidth,b=f.plotHeight,w=0,f=m.center,k=u(f[0],v),A=u(f[1],b),S=u(m.width,v),M=u(m.height,b),C=u(m.neckWidth,v),P=u(m.neckHeight,b),L=A-M/2+M-P,u=this.data,T="left"===m.dataLabels.position?1:0;this.getWidthAt=e=function(t){var e=A-M/2;return t>L||M===P?C:C+(S-C)*(1-(t-e)/(M-P))},this.getX=function(t,i){return k+(i?-1:1)*(e(x?b-t:t)/2+m.dataLabels.distance)},this.center=[k,A,M],this.centerX=k,r(u,function(t){y&&t.visible===!1||(g+=t.y)}),r(u,function(r){d=null,o=g?r.y/g:0,a=A-M/2+w*M,c=a+o*M,t=e(a),n=k-t/2,l=n+t,t=e(c),h=k-t/2,p=h+t,a>L?(n=h=k-C/2,l=p=k+C/2):c>L&&(d=c,t=e(L),h=k-t/2,p=h+t,c=L),x&&(a=M-a,c=M-c,d=d?M-d:null),i=["M",n,a,"L",l,a,p,c],d&&i.push(p,d,h,d),i.push(h,c,"Z"),r.shapeType="path",r.shapeArgs={d:i},r.percentage=100*o,r.plotX=k,r.plotY=(a+(d||c))/2,r.tooltipPos=[k,r.plotY],r.slice=s,r.half=T,y&&r.visible===!1||(w+=o)})},drawPoints:function(){var t,e,i,o=this,n=o.chart.renderer;r(o.data,function(s){i=s.graphic,e=s.shapeArgs,t=s.pointAttr[s.selected?"select":""],i?i.attr(t).animate(e):s.graphic=n.path(e).attr(t).add(o.group)})},sortByAngle:function(t){t.sort(function(t,e){return t.plotY-e.plotY})},drawDataLabels:function(){var t,e,i,n,s,r=this.data,a=this.options.dataLabels.distance,l=r.length;for(this.center[2]-=2*a;l--;)i=r[l],e=(t=i.half)?1:-1,s=i.plotY,n=this.getX(s,t),i.labelPos=[0,s,n+(a-5)*e,s,n+a*e,s,t?"right":"left",0];o.pie.prototype.drawDataLabels.call(this)}}),e.plotOptions.pyramid=t.merge(e.plotOptions.funnel,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),t.seriesTypes.pyramid=t.extendClass(t.seriesTypes.funnel,{type:"pyramid"})});
